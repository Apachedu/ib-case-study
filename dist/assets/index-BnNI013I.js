(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();function um(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Pc={exports:{}},jo={},kc={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qd;function xy(){if(Qd)return _e;Qd=1;var s=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),L=Symbol.iterator;function M(N){return N===null||typeof N!="object"?null:(N=L&&N[L]||N["@@iterator"],typeof N=="function"?N:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,Z={};function K(N,j,oe){this.props=N,this.context=j,this.refs=Z,this.updater=oe||H}K.prototype.isReactComponent={},K.prototype.setState=function(N,j){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,j,"setState")},K.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Te(){}Te.prototype=K.prototype;function ge(N,j,oe){this.props=N,this.context=j,this.refs=Z,this.updater=oe||H}var me=ge.prototype=new Te;me.constructor=ge,Y(me,K.prototype),me.isPureReactComponent=!0;var Se=Array.isArray,Xe=Object.prototype.hasOwnProperty,Ne={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(N,j,oe){var ye,ve={},Ie=null,De=null;if(j!=null)for(ye in j.ref!==void 0&&(De=j.ref),j.key!==void 0&&(Ie=""+j.key),j)Xe.call(j,ye)&&!k.hasOwnProperty(ye)&&(ve[ye]=j[ye]);var Oe=arguments.length-2;if(Oe===1)ve.children=oe;else if(1<Oe){for(var Ue=Array(Oe),mt=0;mt<Oe;mt++)Ue[mt]=arguments[mt+2];ve.children=Ue}if(N&&N.defaultProps)for(ye in Oe=N.defaultProps,Oe)ve[ye]===void 0&&(ve[ye]=Oe[ye]);return{$$typeof:s,type:N,key:Ie,ref:De,props:ve,_owner:Ne.current}}function I(N,j){return{$$typeof:s,type:N.type,key:j,ref:N.ref,props:N.props,_owner:N._owner}}function P(N){return typeof N=="object"&&N!==null&&N.$$typeof===s}function V(N){var j={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(oe){return j[oe]})}var x=/\/+/g;function S(N,j){return typeof N=="object"&&N!==null&&N.key!=null?V(""+N.key):j.toString(36)}function Je(N,j,oe,ye,ve){var Ie=typeof N;(Ie==="undefined"||Ie==="boolean")&&(N=null);var De=!1;if(N===null)De=!0;else switch(Ie){case"string":case"number":De=!0;break;case"object":switch(N.$$typeof){case s:case e:De=!0}}if(De)return De=N,ve=ve(De),N=ye===""?"."+S(De,0):ye,Se(ve)?(oe="",N!=null&&(oe=N.replace(x,"$&/")+"/"),Je(ve,j,oe,"",function(mt){return mt})):ve!=null&&(P(ve)&&(ve=I(ve,oe+(!ve.key||De&&De.key===ve.key?"":(""+ve.key).replace(x,"$&/")+"/")+N)),j.push(ve)),1;if(De=0,ye=ye===""?".":ye+":",Se(N))for(var Oe=0;Oe<N.length;Oe++){Ie=N[Oe];var Ue=ye+S(Ie,Oe);De+=Je(Ie,j,oe,Ue,ve)}else if(Ue=M(N),typeof Ue=="function")for(N=Ue.call(N),Oe=0;!(Ie=N.next()).done;)Ie=Ie.value,Ue=ye+S(Ie,Oe++),De+=Je(Ie,j,oe,Ue,ve);else if(Ie==="object")throw j=String(N),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return De}function Rt(N,j,oe){if(N==null)return N;var ye=[],ve=0;return Je(N,ye,"","",function(Ie){return j.call(oe,Ie,ve++)}),ye}function Pt(N){if(N._status===-1){var j=N._result;j=j(),j.then(function(oe){(N._status===0||N._status===-1)&&(N._status=1,N._result=oe)},function(oe){(N._status===0||N._status===-1)&&(N._status=2,N._result=oe)}),N._status===-1&&(N._status=0,N._result=j)}if(N._status===1)return N._result.default;throw N._result}var Me={current:null},X={transition:null},le={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:X,ReactCurrentOwner:Ne};function ee(){throw Error("act(...) is not supported in production builds of React.")}return _e.Children={map:Rt,forEach:function(N,j,oe){Rt(N,function(){j.apply(this,arguments)},oe)},count:function(N){var j=0;return Rt(N,function(){j++}),j},toArray:function(N){return Rt(N,function(j){return j})||[]},only:function(N){if(!P(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},_e.Component=K,_e.Fragment=r,_e.Profiler=l,_e.PureComponent=ge,_e.StrictMode=o,_e.Suspense=v,_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,_e.act=ee,_e.cloneElement=function(N,j,oe){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var ye=Y({},N.props),ve=N.key,Ie=N.ref,De=N._owner;if(j!=null){if(j.ref!==void 0&&(Ie=j.ref,De=Ne.current),j.key!==void 0&&(ve=""+j.key),N.type&&N.type.defaultProps)var Oe=N.type.defaultProps;for(Ue in j)Xe.call(j,Ue)&&!k.hasOwnProperty(Ue)&&(ye[Ue]=j[Ue]===void 0&&Oe!==void 0?Oe[Ue]:j[Ue])}var Ue=arguments.length-2;if(Ue===1)ye.children=oe;else if(1<Ue){Oe=Array(Ue);for(var mt=0;mt<Ue;mt++)Oe[mt]=arguments[mt+2];ye.children=Oe}return{$$typeof:s,type:N.type,key:ve,ref:Ie,props:ye,_owner:De}},_e.createContext=function(N){return N={$$typeof:p,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:c,_context:N},N.Consumer=N},_e.createElement=T,_e.createFactory=function(N){var j=T.bind(null,N);return j.type=N,j},_e.createRef=function(){return{current:null}},_e.forwardRef=function(N){return{$$typeof:g,render:N}},_e.isValidElement=P,_e.lazy=function(N){return{$$typeof:A,_payload:{_status:-1,_result:N},_init:Pt}},_e.memo=function(N,j){return{$$typeof:E,type:N,compare:j===void 0?null:j}},_e.startTransition=function(N){var j=X.transition;X.transition={};try{N()}finally{X.transition=j}},_e.unstable_act=ee,_e.useCallback=function(N,j){return Me.current.useCallback(N,j)},_e.useContext=function(N){return Me.current.useContext(N)},_e.useDebugValue=function(){},_e.useDeferredValue=function(N){return Me.current.useDeferredValue(N)},_e.useEffect=function(N,j){return Me.current.useEffect(N,j)},_e.useId=function(){return Me.current.useId()},_e.useImperativeHandle=function(N,j,oe){return Me.current.useImperativeHandle(N,j,oe)},_e.useInsertionEffect=function(N,j){return Me.current.useInsertionEffect(N,j)},_e.useLayoutEffect=function(N,j){return Me.current.useLayoutEffect(N,j)},_e.useMemo=function(N,j){return Me.current.useMemo(N,j)},_e.useReducer=function(N,j,oe){return Me.current.useReducer(N,j,oe)},_e.useRef=function(N){return Me.current.useRef(N)},_e.useState=function(N){return Me.current.useState(N)},_e.useSyncExternalStore=function(N,j,oe){return Me.current.useSyncExternalStore(N,j,oe)},_e.useTransition=function(){return Me.current.useTransition()},_e.version="18.3.1",_e}var Kd;function ph(){return Kd||(Kd=1,kc.exports=xy()),kc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wd;function Dy(){if(Wd)return jo;Wd=1;var s=ph(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function p(g,v,E){var A,L={},M=null,H=null;E!==void 0&&(M=""+E),v.key!==void 0&&(M=""+v.key),v.ref!==void 0&&(H=v.ref);for(A in v)o.call(v,A)&&!c.hasOwnProperty(A)&&(L[A]=v[A]);if(g&&g.defaultProps)for(A in v=g.defaultProps,v)L[A]===void 0&&(L[A]=v[A]);return{$$typeof:e,type:g,key:M,ref:H,props:L,_owner:l.current}}return jo.Fragment=r,jo.jsx=p,jo.jsxs=p,jo}var Gd;function Oy(){return Gd||(Gd=1,Pc.exports=Dy()),Pc.exports}var Be=Oy(),Ri=ph();const Ly=um(Ri);var wl={},Vc={exports:{}},Wt={},Nc={exports:{}},xc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xd;function My(){return Xd||(Xd=1,function(s){function e(X,le){var ee=X.length;X.push(le);e:for(;0<ee;){var N=ee-1>>>1,j=X[N];if(0<l(j,le))X[N]=le,X[ee]=j,ee=N;else break e}}function r(X){return X.length===0?null:X[0]}function o(X){if(X.length===0)return null;var le=X[0],ee=X.pop();if(ee!==le){X[0]=ee;e:for(var N=0,j=X.length,oe=j>>>1;N<oe;){var ye=2*(N+1)-1,ve=X[ye],Ie=ye+1,De=X[Ie];if(0>l(ve,ee))Ie<j&&0>l(De,ve)?(X[N]=De,X[Ie]=ee,N=Ie):(X[N]=ve,X[ye]=ee,N=ye);else if(Ie<j&&0>l(De,ee))X[N]=De,X[Ie]=ee,N=Ie;else break e}}return le}function l(X,le){var ee=X.sortIndex-le.sortIndex;return ee!==0?ee:X.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var p=Date,g=p.now();s.unstable_now=function(){return p.now()-g}}var v=[],E=[],A=1,L=null,M=3,H=!1,Y=!1,Z=!1,K=typeof setTimeout=="function"?setTimeout:null,Te=typeof clearTimeout=="function"?clearTimeout:null,ge=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function me(X){for(var le=r(E);le!==null;){if(le.callback===null)o(E);else if(le.startTime<=X)o(E),le.sortIndex=le.expirationTime,e(v,le);else break;le=r(E)}}function Se(X){if(Z=!1,me(X),!Y)if(r(v)!==null)Y=!0,Pt(Xe);else{var le=r(E);le!==null&&Me(Se,le.startTime-X)}}function Xe(X,le){Y=!1,Z&&(Z=!1,Te(T),T=-1),H=!0;var ee=M;try{for(me(le),L=r(v);L!==null&&(!(L.expirationTime>le)||X&&!V());){var N=L.callback;if(typeof N=="function"){L.callback=null,M=L.priorityLevel;var j=N(L.expirationTime<=le);le=s.unstable_now(),typeof j=="function"?L.callback=j:L===r(v)&&o(v),me(le)}else o(v);L=r(v)}if(L!==null)var oe=!0;else{var ye=r(E);ye!==null&&Me(Se,ye.startTime-le),oe=!1}return oe}finally{L=null,M=ee,H=!1}}var Ne=!1,k=null,T=-1,I=5,P=-1;function V(){return!(s.unstable_now()-P<I)}function x(){if(k!==null){var X=s.unstable_now();P=X;var le=!0;try{le=k(!0,X)}finally{le?S():(Ne=!1,k=null)}}else Ne=!1}var S;if(typeof ge=="function")S=function(){ge(x)};else if(typeof MessageChannel<"u"){var Je=new MessageChannel,Rt=Je.port2;Je.port1.onmessage=x,S=function(){Rt.postMessage(null)}}else S=function(){K(x,0)};function Pt(X){k=X,Ne||(Ne=!0,S())}function Me(X,le){T=K(function(){X(s.unstable_now())},le)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(X){X.callback=null},s.unstable_continueExecution=function(){Y||H||(Y=!0,Pt(Xe))},s.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<X?Math.floor(1e3/X):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_getFirstCallbackNode=function(){return r(v)},s.unstable_next=function(X){switch(M){case 1:case 2:case 3:var le=3;break;default:le=M}var ee=M;M=le;try{return X()}finally{M=ee}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(X,le){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ee=M;M=X;try{return le()}finally{M=ee}},s.unstable_scheduleCallback=function(X,le,ee){var N=s.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?N+ee:N):ee=N,X){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=ee+j,X={id:A++,callback:le,priorityLevel:X,startTime:ee,expirationTime:j,sortIndex:-1},ee>N?(X.sortIndex=ee,e(E,X),r(v)===null&&X===r(E)&&(Z?(Te(T),T=-1):Z=!0,Me(Se,ee-N))):(X.sortIndex=j,e(v,X),Y||H||(Y=!0,Pt(Xe))),X},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(X){var le=M;return function(){var ee=M;M=le;try{return X.apply(this,arguments)}finally{M=ee}}}}(xc)),xc}var Yd;function Fy(){return Yd||(Yd=1,Nc.exports=My()),Nc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jd;function Uy(){if(Jd)return Wt;Jd=1;var s=ph(),e=Fy();function r(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function c(t,n){p(t,n),p(t+"Capture",n)}function p(t,n){for(l[t]=n,t=0;t<n.length;t++)o.add(n[t])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,A={},L={};function M(t){return v.call(L,t)?!0:v.call(A,t)?!1:E.test(t)?L[t]=!0:(A[t]=!0,!1)}function H(t,n,i,u){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return u?!1:i!==null?!i.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Y(t,n,i,u){if(n===null||typeof n>"u"||H(t,n,i,u))return!0;if(u)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Z(t,n,i,u,h,d,y){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=i,this.propertyName=t,this.type=n,this.sanitizeURL=d,this.removeEmptyString=y}var K={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){K[t]=new Z(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];K[n]=new Z(n,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){K[t]=new Z(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){K[t]=new Z(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){K[t]=new Z(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){K[t]=new Z(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){K[t]=new Z(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){K[t]=new Z(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){K[t]=new Z(t,5,!1,t.toLowerCase(),null,!1,!1)});var Te=/[\-:]([a-z])/g;function ge(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(Te,ge);K[n]=new Z(n,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(Te,ge);K[n]=new Z(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(Te,ge);K[n]=new Z(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){K[t]=new Z(t,1,!1,t.toLowerCase(),null,!1,!1)}),K.xlinkHref=new Z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){K[t]=new Z(t,1,!1,t.toLowerCase(),null,!0,!0)});function me(t,n,i,u){var h=K.hasOwnProperty(n)?K[n]:null;(h!==null?h.type!==0:u||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(Y(n,i,h,u)&&(i=null),u||h===null?M(n)&&(i===null?t.removeAttribute(n):t.setAttribute(n,""+i)):h.mustUseProperty?t[h.propertyName]=i===null?h.type===3?!1:"":i:(n=h.attributeName,u=h.attributeNamespace,i===null?t.removeAttribute(n):(h=h.type,i=h===3||h===4&&i===!0?"":""+i,u?t.setAttributeNS(u,n,i):t.setAttribute(n,i))))}var Se=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xe=Symbol.for("react.element"),Ne=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),V=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),Je=Symbol.for("react.suspense_list"),Rt=Symbol.for("react.memo"),Pt=Symbol.for("react.lazy"),Me=Symbol.for("react.offscreen"),X=Symbol.iterator;function le(t){return t===null||typeof t!="object"?null:(t=X&&t[X]||t["@@iterator"],typeof t=="function"?t:null)}var ee=Object.assign,N;function j(t){if(N===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);N=n&&n[1]||""}return`
`+N+t}var oe=!1;function ye(t,n){if(!t||oe)return"";oe=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(U){var u=U}Reflect.construct(t,[],n)}else{try{n.call()}catch(U){u=U}t.call(n.prototype)}else{try{throw Error()}catch(U){u=U}t()}}catch(U){if(U&&u&&typeof U.stack=="string"){for(var h=U.stack.split(`
`),d=u.stack.split(`
`),y=h.length-1,w=d.length-1;1<=y&&0<=w&&h[y]!==d[w];)w--;for(;1<=y&&0<=w;y--,w--)if(h[y]!==d[w]){if(y!==1||w!==1)do if(y--,w--,0>w||h[y]!==d[w]){var C=`
`+h[y].replace(" at new "," at ");return t.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",t.displayName)),C}while(1<=y&&0<=w);break}}}finally{oe=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?j(t):""}function ve(t){switch(t.tag){case 5:return j(t.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return t=ye(t.type,!1),t;case 11:return t=ye(t.type.render,!1),t;case 1:return t=ye(t.type,!0),t;default:return""}}function Ie(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case Ne:return"Portal";case I:return"Profiler";case T:return"StrictMode";case S:return"Suspense";case Je:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case V:return(t.displayName||"Context")+".Consumer";case P:return(t._context.displayName||"Context")+".Provider";case x:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Rt:return n=t.displayName||null,n!==null?n:Ie(t.type)||"Memo";case Pt:n=t._payload,t=t._init;try{return Ie(t(n))}catch{}}return null}function De(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(n);case 8:return n===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Oe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ue(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function mt(t){var n=Ue(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),u=""+t[n];if(!t.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var h=i.get,d=i.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){u=""+y,d.call(this,y)}}),Object.defineProperty(t,n,{enumerable:i.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Kn(t){t._valueTracker||(t._valueTracker=mt(t))}function xi(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var i=n.getValue(),u="";return t&&(u=Ue(t)?t.checked?"true":"false":t.value),t=u,t!==i?(n.setValue(t),!0):!1}function dr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Yr(t,n){var i=n.checked;return ee({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??t._wrapperState.initialChecked})}function Di(t,n){var i=n.defaultValue==null?"":n.defaultValue,u=n.checked!=null?n.checked:n.defaultChecked;i=Oe(n.value!=null?n.value:i),t._wrapperState={initialChecked:u,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Hs(t,n){n=n.checked,n!=null&&me(t,"checked",n,!1)}function Qs(t,n){Hs(t,n);var i=Oe(n.value),u=n.type;if(i!=null)u==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?Oi(t,n.type,i):n.hasOwnProperty("defaultValue")&&Oi(t,n.type,Oe(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function oa(t,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var u=n.type;if(!(u!=="submit"&&u!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,i||n===t.value||(t.value=n),t.defaultValue=n}i=t.name,i!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,i!==""&&(t.name=i)}function Oi(t,n,i){(n!=="number"||dr(t.ownerDocument)!==t)&&(i==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var Wn=Array.isArray;function Gn(t,n,i,u){if(t=t.options,n){n={};for(var h=0;h<i.length;h++)n["$"+i[h]]=!0;for(i=0;i<t.length;i++)h=n.hasOwnProperty("$"+t[i].value),t[i].selected!==h&&(t[i].selected=h),h&&u&&(t[i].defaultSelected=!0)}else{for(i=""+Oe(i),n=null,h=0;h<t.length;h++){if(t[h].value===i){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Ks(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return ee({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Li(t,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(r(92));if(Wn(i)){if(1<i.length)throw Error(r(93));i=i[0]}n=i}n==null&&(n=""),i=n}t._wrapperState={initialValue:Oe(i)}}function Mi(t,n){var i=Oe(n.value),u=Oe(n.defaultValue);i!=null&&(i=""+i,i!==t.value&&(t.value=i),n.defaultValue==null&&t.defaultValue!==i&&(t.defaultValue=i)),u!=null&&(t.defaultValue=""+u)}function Ws(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function lt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?lt(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xn,Gs=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,u,h){MSApp.execUnsafeLocalFunction(function(){return t(n,i,u,h)})}:t}(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(Xn=Xn||document.createElement("div"),Xn.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Xn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function pr(t,n){if(n){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=n;return}}t.textContent=n}var Jr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zr=["Webkit","ms","Moz","O"];Object.keys(Jr).forEach(function(t){Zr.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),Jr[n]=Jr[t]})});function Xs(t,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||Jr.hasOwnProperty(t)&&Jr[t]?(""+n).trim():n+"px"}function Ys(t,n){t=t.style;for(var i in n)if(n.hasOwnProperty(i)){var u=i.indexOf("--")===0,h=Xs(i,n[i],u);i==="float"&&(i="cssFloat"),u?t.setProperty(i,h):t[i]=h}}var Js=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zs(t,n){if(n){if(Js[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function eo(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ei=null;function Fi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ui=null,rn=null,Vn=null;function zi(t){if(t=Co(t)){if(typeof Ui!="function")throw Error(r(280));var n=t.stateNode;n&&(n=Ma(n),Ui(t.stateNode,t.type,n))}}function Nn(t){rn?Vn?Vn.push(t):Vn=[t]:rn=t}function to(){if(rn){var t=rn,n=Vn;if(Vn=rn=null,zi(t),n)for(t=0;t<n.length;t++)zi(n[t])}}function ti(t,n){return t(n)}function no(){}var Yn=!1;function ro(t,n,i){if(Yn)return t(n,i);Yn=!0;try{return ti(t,n,i)}finally{Yn=!1,(rn!==null||Vn!==null)&&(no(),to())}}function Ze(t,n){var i=t.stateNode;if(i===null)return null;var u=Ma(i);if(u===null)return null;i=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(r(231,n,typeof i));return i}var ji=!1;if(g)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){ji=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{ji=!1}function ni(t,n,i,u,h,d,y,w,C){var U=Array.prototype.slice.call(arguments,3);try{n.apply(i,U)}catch($){this.onError($)}}var ri=!1,Bi=null,gn=!1,io=null,nu={onError:function(t){ri=!0,Bi=t}};function bi(t,n,i,u,h,d,y,w,C){ri=!1,Bi=null,ni.apply(nu,arguments)}function aa(t,n,i,u,h,d,y,w,C){if(bi.apply(this,arguments),ri){if(ri){var U=Bi;ri=!1,Bi=null}else throw Error(r(198));gn||(gn=!0,io=U)}}function yn(t){var n=t,i=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(i=n.return),t=n.return;while(t)}return n.tag===3?i:null}function ii(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function vn(t){if(yn(t)!==t)throw Error(r(188))}function la(t){var n=t.alternate;if(!n){if(n=yn(t),n===null)throw Error(r(188));return n!==t?null:t}for(var i=t,u=n;;){var h=i.return;if(h===null)break;var d=h.alternate;if(d===null){if(u=h.return,u!==null){i=u;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===i)return vn(h),t;if(d===u)return vn(h),n;d=d.sibling}throw Error(r(188))}if(i.return!==u.return)i=h,u=d;else{for(var y=!1,w=h.child;w;){if(w===i){y=!0,i=h,u=d;break}if(w===u){y=!0,u=h,i=d;break}w=w.sibling}if(!y){for(w=d.child;w;){if(w===i){y=!0,i=d,u=h;break}if(w===u){y=!0,u=d,i=h;break}w=w.sibling}if(!y)throw Error(r(189))}}if(i.alternate!==u)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?t:n}function so(t){return t=la(t),t!==null?$i(t):null}function $i(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=$i(t);if(n!==null)return n;t=t.sibling}return null}var qi=e.unstable_scheduleCallback,oo=e.unstable_cancelCallback,ua=e.unstable_shouldYield,ru=e.unstable_requestPaint,ze=e.unstable_now,ca=e.unstable_getCurrentPriorityLevel,si=e.unstable_ImmediatePriority,mr=e.unstable_UserBlockingPriority,sn=e.unstable_NormalPriority,ao=e.unstable_LowPriority,ha=e.unstable_IdlePriority,oi=null,Xt=null;function fa(t){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(oi,t,void 0,(t.current.flags&128)===128)}catch{}}var Mt=Math.clz32?Math.clz32:pa,lo=Math.log,da=Math.LN2;function pa(t){return t>>>=0,t===0?32:31-(lo(t)/da|0)|0}var Hi=64,Qi=4194304;function gr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ai(t,n){var i=t.pendingLanes;if(i===0)return 0;var u=0,h=t.suspendedLanes,d=t.pingedLanes,y=i&268435455;if(y!==0){var w=y&~h;w!==0?u=gr(w):(d&=y,d!==0&&(u=gr(d)))}else y=i&~h,y!==0?u=gr(y):d!==0&&(u=gr(d));if(u===0)return 0;if(n!==0&&n!==u&&(n&h)===0&&(h=u&-u,d=n&-n,h>=d||h===16&&(d&4194240)!==0))return n;if((u&4)!==0&&(u|=i&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=u;0<n;)i=31-Mt(n),h=1<<i,u|=t[i],n&=~h;return u}function iu(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jn(t,n){for(var i=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes;0<d;){var y=31-Mt(d),w=1<<y,C=h[y];C===-1?((w&i)===0||(w&u)!==0)&&(h[y]=iu(w,n)):C<=n&&(t.expiredLanes|=w),d&=~w}}function Yt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function li(){var t=Hi;return Hi<<=1,(Hi&4194240)===0&&(Hi=64),t}function yr(t){for(var n=[],i=0;31>i;i++)n.push(t);return n}function vr(t,n,i){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-Mt(n),t[n]=i}function Fe(t,n){var i=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<i;){var h=31-Mt(i),d=1<<h;n[h]=0,u[h]=-1,t[h]=-1,i&=~d}}function _r(t,n){var i=t.entangledLanes|=n;for(t=t.entanglements;i;){var u=31-Mt(i),h=1<<u;h&n|t[u]&n&&(t[u]|=n),i&=~h}}var Ee=0;function Er(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var ma,Ki,ga,ya,va,uo=!1,xn=[],wt=null,_n=null,En=null,wr=new Map,on=new Map,Dn=[],su="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _a(t,n){switch(t){case"focusin":case"focusout":wt=null;break;case"dragenter":case"dragleave":_n=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":wr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":on.delete(n.pointerId)}}function Bt(t,n,i,u,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:i,eventSystemFlags:u,nativeEvent:d,targetContainers:[h]},n!==null&&(n=Co(n),n!==null&&Ki(n)),t):(t.eventSystemFlags|=u,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function ou(t,n,i,u,h){switch(n){case"focusin":return wt=Bt(wt,t,n,i,u,h),!0;case"dragenter":return _n=Bt(_n,t,n,i,u,h),!0;case"mouseover":return En=Bt(En,t,n,i,u,h),!0;case"pointerover":var d=h.pointerId;return wr.set(d,Bt(wr.get(d)||null,t,n,i,u,h)),!0;case"gotpointercapture":return d=h.pointerId,on.set(d,Bt(on.get(d)||null,t,n,i,u,h)),!0}return!1}function Ea(t){var n=di(t.target);if(n!==null){var i=yn(n);if(i!==null){if(n=i.tag,n===13){if(n=ii(i),n!==null){t.blockedOn=n,va(t.priority,function(){ga(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zn(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var i=Wi(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(i===null){i=t.nativeEvent;var u=new i.constructor(i.type,i);ei=u,i.target.dispatchEvent(u),ei=null}else return n=Co(i),n!==null&&Ki(n),t.blockedOn=i,!1;n.shift()}return!0}function ui(t,n,i){Zn(t)&&i.delete(n)}function wa(){uo=!1,wt!==null&&Zn(wt)&&(wt=null),_n!==null&&Zn(_n)&&(_n=null),En!==null&&Zn(En)&&(En=null),wr.forEach(ui),on.forEach(ui)}function wn(t,n){t.blockedOn===n&&(t.blockedOn=null,uo||(uo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wa)))}function Tn(t){function n(h){return wn(h,t)}if(0<xn.length){wn(xn[0],t);for(var i=1;i<xn.length;i++){var u=xn[i];u.blockedOn===t&&(u.blockedOn=null)}}for(wt!==null&&wn(wt,t),_n!==null&&wn(_n,t),En!==null&&wn(En,t),wr.forEach(n),on.forEach(n),i=0;i<Dn.length;i++)u=Dn[i],u.blockedOn===t&&(u.blockedOn=null);for(;0<Dn.length&&(i=Dn[0],i.blockedOn===null);)Ea(i),i.blockedOn===null&&Dn.shift()}var er=Se.ReactCurrentBatchConfig,Tr=!0;function qe(t,n,i,u){var h=Ee,d=er.transition;er.transition=null;try{Ee=1,co(t,n,i,u)}finally{Ee=h,er.transition=d}}function au(t,n,i,u){var h=Ee,d=er.transition;er.transition=null;try{Ee=4,co(t,n,i,u)}finally{Ee=h,er.transition=d}}function co(t,n,i,u){if(Tr){var h=Wi(t,n,i,u);if(h===null)vu(t,n,u,ci,i),_a(t,u);else if(ou(h,t,n,i,u))u.stopPropagation();else if(_a(t,u),n&4&&-1<su.indexOf(t)){for(;h!==null;){var d=Co(h);if(d!==null&&ma(d),d=Wi(t,n,i,u),d===null&&vu(t,n,u,ci,i),d===h)break;h=d}h!==null&&u.stopPropagation()}else vu(t,n,u,null,i)}}var ci=null;function Wi(t,n,i,u){if(ci=null,t=Fi(u),t=di(t),t!==null)if(n=yn(t),n===null)t=null;else if(i=n.tag,i===13){if(t=ii(n),t!==null)return t;t=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return ci=t,null}function ho(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ca()){case si:return 1;case mr:return 4;case sn:case ao:return 16;case ha:return 536870912;default:return 16}default:return 16}}var Jt=null,Gi=null,bt=null;function fo(){if(bt)return bt;var t,n=Gi,i=n.length,u,h="value"in Jt?Jt.value:Jt.textContent,d=h.length;for(t=0;t<i&&n[t]===h[t];t++);var y=i-t;for(u=1;u<=y&&n[i-u]===h[d-u];u++);return bt=h.slice(t,1<u?1-u:void 0)}function Xi(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function On(){return!0}function po(){return!1}function Tt(t){function n(i,u,h,d,y){this._reactName=i,this._targetInst=h,this.type=u,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(i=t[w],this[w]=i?i(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?On:po,this.isPropagationStopped=po,this}return ee(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=On)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=On)},persist:function(){},isPersistent:On}),n}var Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yi=Tt(Sn),Ln=ee({},Sn,{view:0,detail:0}),lu=Tt(Ln),Ji,tr,Sr,hi=ee({},Ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Sr&&(Sr&&t.type==="mousemove"?(Ji=t.screenX-Sr.screenX,tr=t.screenY-Sr.screenY):tr=Ji=0,Sr=t),Ji)},movementY:function(t){return"movementY"in t?t.movementY:tr}}),Zi=Tt(hi),mo=ee({},hi,{dataTransfer:0}),Ta=Tt(mo),es=ee({},Ln,{relatedTarget:0}),ts=Tt(es),Sa=ee({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0}),nr=Tt(Sa),Ia=ee({},Sn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ca=Tt(Ia),Aa=ee({},Sn,{data:0}),go=Tt(Aa),ns={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ft={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ra={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pa(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ra[t])?!!n[t]:!1}function Mn(){return Pa}var a=ee({},Ln,{key:function(t){if(t.key){var n=ns[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Xi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ft[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mn,charCode:function(t){return t.type==="keypress"?Xi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),f=Tt(a),m=ee({},hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_=Tt(m),D=ee({},Ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mn}),z=Tt(D),W=ee({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Le=Tt(W),ct=ee({},hi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ce=Tt(ct),gt=[9,13,27,32],rt=g&&"CompositionEvent"in window,an=null;g&&"documentMode"in document&&(an=document.documentMode);var Zt=g&&"TextEvent"in window&&!an,fi=g&&(!rt||an&&8<an&&11>=an),rs=" ",zh=!1;function jh(t,n){switch(t){case"keyup":return gt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var is=!1;function kg(t,n){switch(t){case"compositionend":return Bh(n);case"keypress":return n.which!==32?null:(zh=!0,rs);case"textInput":return t=n.data,t===rs&&zh?null:t;default:return null}}function Vg(t,n){if(is)return t==="compositionend"||!rt&&jh(t,n)?(t=fo(),bt=Gi=Jt=null,is=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return fi&&n.locale!=="ko"?null:n.data;default:return null}}var Ng={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ng[t.type]:n==="textarea"}function $h(t,n,i,u){Nn(u),n=Da(n,"onChange"),0<n.length&&(i=new Yi("onChange","change",null,i,u),t.push({event:i,listeners:n}))}var yo=null,vo=null;function xg(t){lf(t,0)}function ka(t){var n=us(t);if(xi(n))return t}function Dg(t,n){if(t==="change")return n}var qh=!1;if(g){var uu;if(g){var cu="oninput"in document;if(!cu){var Hh=document.createElement("div");Hh.setAttribute("oninput","return;"),cu=typeof Hh.oninput=="function"}uu=cu}else uu=!1;qh=uu&&(!document.documentMode||9<document.documentMode)}function Qh(){yo&&(yo.detachEvent("onpropertychange",Kh),vo=yo=null)}function Kh(t){if(t.propertyName==="value"&&ka(vo)){var n=[];$h(n,vo,t,Fi(t)),ro(xg,n)}}function Og(t,n,i){t==="focusin"?(Qh(),yo=n,vo=i,yo.attachEvent("onpropertychange",Kh)):t==="focusout"&&Qh()}function Lg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ka(vo)}function Mg(t,n){if(t==="click")return ka(n)}function Fg(t,n){if(t==="input"||t==="change")return ka(n)}function Ug(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var In=typeof Object.is=="function"?Object.is:Ug;function _o(t,n){if(In(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var i=Object.keys(t),u=Object.keys(n);if(i.length!==u.length)return!1;for(u=0;u<i.length;u++){var h=i[u];if(!v.call(n,h)||!In(t[h],n[h]))return!1}return!0}function Wh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gh(t,n){var i=Wh(t);t=0;for(var u;i;){if(i.nodeType===3){if(u=t+i.textContent.length,t<=n&&u>=n)return{node:i,offset:n-t};t=u}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Wh(i)}}function Xh(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Xh(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Yh(){for(var t=window,n=dr();n instanceof t.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)t=n.contentWindow;else break;n=dr(t.document)}return n}function hu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function zg(t){var n=Yh(),i=t.focusedElem,u=t.selectionRange;if(n!==i&&i&&i.ownerDocument&&Xh(i.ownerDocument.documentElement,i)){if(u!==null&&hu(i)){if(n=u.start,t=u.end,t===void 0&&(t=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(t,i.value.length);else if(t=(n=i.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var h=i.textContent.length,d=Math.min(u.start,h);u=u.end===void 0?d:Math.min(u.end,h),!t.extend&&d>u&&(h=u,u=d,d=h),h=Gh(i,d);var y=Gh(i,u);h&&y&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==y.node||t.focusOffset!==y.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),t.removeAllRanges(),d>u?(t.addRange(n),t.extend(y.node,y.offset)):(n.setEnd(y.node,y.offset),t.addRange(n)))}}for(n=[],t=i;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)t=n[i],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var jg=g&&"documentMode"in document&&11>=document.documentMode,ss=null,fu=null,Eo=null,du=!1;function Jh(t,n,i){var u=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;du||ss==null||ss!==dr(u)||(u=ss,"selectionStart"in u&&hu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Eo&&_o(Eo,u)||(Eo=u,u=Da(fu,"onSelect"),0<u.length&&(n=new Yi("onSelect","select",null,n,i),t.push({event:n,listeners:u}),n.target=ss)))}function Va(t,n){var i={};return i[t.toLowerCase()]=n.toLowerCase(),i["Webkit"+t]="webkit"+n,i["Moz"+t]="moz"+n,i}var os={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionend:Va("Transition","TransitionEnd")},pu={},Zh={};g&&(Zh=document.createElement("div").style,"AnimationEvent"in window||(delete os.animationend.animation,delete os.animationiteration.animation,delete os.animationstart.animation),"TransitionEvent"in window||delete os.transitionend.transition);function Na(t){if(pu[t])return pu[t];if(!os[t])return t;var n=os[t],i;for(i in n)if(n.hasOwnProperty(i)&&i in Zh)return pu[t]=n[i];return t}var ef=Na("animationend"),tf=Na("animationiteration"),nf=Na("animationstart"),rf=Na("transitionend"),sf=new Map,of="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(t,n){sf.set(t,n),c(n,[t])}for(var mu=0;mu<of.length;mu++){var gu=of[mu],Bg=gu.toLowerCase(),bg=gu[0].toUpperCase()+gu.slice(1);Ir(Bg,"on"+bg)}Ir(ef,"onAnimationEnd"),Ir(tf,"onAnimationIteration"),Ir(nf,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(rf,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$g=new Set("cancel close invalid load scroll toggle".split(" ").concat(wo));function af(t,n,i){var u=t.type||"unknown-event";t.currentTarget=i,aa(u,n,void 0,t),t.currentTarget=null}function lf(t,n){n=(n&4)!==0;for(var i=0;i<t.length;i++){var u=t[i],h=u.event;u=u.listeners;e:{var d=void 0;if(n)for(var y=u.length-1;0<=y;y--){var w=u[y],C=w.instance,U=w.currentTarget;if(w=w.listener,C!==d&&h.isPropagationStopped())break e;af(h,w,U),d=C}else for(y=0;y<u.length;y++){if(w=u[y],C=w.instance,U=w.currentTarget,w=w.listener,C!==d&&h.isPropagationStopped())break e;af(h,w,U),d=C}}}if(gn)throw t=io,gn=!1,io=null,t}function be(t,n){var i=n[Iu];i===void 0&&(i=n[Iu]=new Set);var u=t+"__bubble";i.has(u)||(uf(n,t,2,!1),i.add(u))}function yu(t,n,i){var u=0;n&&(u|=4),uf(i,t,u,n)}var xa="_reactListening"+Math.random().toString(36).slice(2);function To(t){if(!t[xa]){t[xa]=!0,o.forEach(function(i){i!=="selectionchange"&&($g.has(i)||yu(i,!1,t),yu(i,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[xa]||(n[xa]=!0,yu("selectionchange",!1,n))}}function uf(t,n,i,u){switch(ho(n)){case 1:var h=qe;break;case 4:h=au;break;default:h=co}i=h.bind(null,n,i,t),h=void 0,!ji||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(n,i,{capture:!0,passive:h}):t.addEventListener(n,i,!0):h!==void 0?t.addEventListener(n,i,{passive:h}):t.addEventListener(n,i,!1)}function vu(t,n,i,u,h){var d=u;if((n&1)===0&&(n&2)===0&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var w=u.stateNode.containerInfo;if(w===h||w.nodeType===8&&w.parentNode===h)break;if(y===4)for(y=u.return;y!==null;){var C=y.tag;if((C===3||C===4)&&(C=y.stateNode.containerInfo,C===h||C.nodeType===8&&C.parentNode===h))return;y=y.return}for(;w!==null;){if(y=di(w),y===null)return;if(C=y.tag,C===5||C===6){u=d=y;continue e}w=w.parentNode}}u=u.return}ro(function(){var U=d,$=Fi(i),q=[];e:{var b=sf.get(t);if(b!==void 0){var J=Yi,re=t;switch(t){case"keypress":if(Xi(i)===0)break e;case"keydown":case"keyup":J=f;break;case"focusin":re="focus",J=ts;break;case"focusout":re="blur",J=ts;break;case"beforeblur":case"afterblur":J=ts;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Zi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Ta;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=z;break;case ef:case tf:case nf:J=nr;break;case rf:J=Le;break;case"scroll":J=lu;break;case"wheel":J=Ce;break;case"copy":case"cut":case"paste":J=Ca;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=_}var ie=(n&4)!==0,et=!ie&&t==="scroll",O=ie?b!==null?b+"Capture":null:b;ie=[];for(var R=U,F;R!==null;){F=R;var Q=F.stateNode;if(F.tag===5&&Q!==null&&(F=Q,O!==null&&(Q=Ze(R,O),Q!=null&&ie.push(So(R,Q,F)))),et)break;R=R.return}0<ie.length&&(b=new J(b,re,null,i,$),q.push({event:b,listeners:ie}))}}if((n&7)===0){e:{if(b=t==="mouseover"||t==="pointerover",J=t==="mouseout"||t==="pointerout",b&&i!==ei&&(re=i.relatedTarget||i.fromElement)&&(di(re)||re[rr]))break e;if((J||b)&&(b=$.window===$?$:(b=$.ownerDocument)?b.defaultView||b.parentWindow:window,J?(re=i.relatedTarget||i.toElement,J=U,re=re?di(re):null,re!==null&&(et=yn(re),re!==et||re.tag!==5&&re.tag!==6)&&(re=null)):(J=null,re=U),J!==re)){if(ie=Zi,Q="onMouseLeave",O="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(ie=_,Q="onPointerLeave",O="onPointerEnter",R="pointer"),et=J==null?b:us(J),F=re==null?b:us(re),b=new ie(Q,R+"leave",J,i,$),b.target=et,b.relatedTarget=F,Q=null,di($)===U&&(ie=new ie(O,R+"enter",re,i,$),ie.target=F,ie.relatedTarget=et,Q=ie),et=Q,J&&re)t:{for(ie=J,O=re,R=0,F=ie;F;F=as(F))R++;for(F=0,Q=O;Q;Q=as(Q))F++;for(;0<R-F;)ie=as(ie),R--;for(;0<F-R;)O=as(O),F--;for(;R--;){if(ie===O||O!==null&&ie===O.alternate)break t;ie=as(ie),O=as(O)}ie=null}else ie=null;J!==null&&cf(q,b,J,ie,!1),re!==null&&et!==null&&cf(q,et,re,ie,!0)}}e:{if(b=U?us(U):window,J=b.nodeName&&b.nodeName.toLowerCase(),J==="select"||J==="input"&&b.type==="file")var se=Dg;else if(bh(b))if(qh)se=Fg;else{se=Lg;var ue=Og}else(J=b.nodeName)&&J.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(se=Mg);if(se&&(se=se(t,U))){$h(q,se,i,$);break e}ue&&ue(t,b,U),t==="focusout"&&(ue=b._wrapperState)&&ue.controlled&&b.type==="number"&&Oi(b,"number",b.value)}switch(ue=U?us(U):window,t){case"focusin":(bh(ue)||ue.contentEditable==="true")&&(ss=ue,fu=U,Eo=null);break;case"focusout":Eo=fu=ss=null;break;case"mousedown":du=!0;break;case"contextmenu":case"mouseup":case"dragend":du=!1,Jh(q,i,$);break;case"selectionchange":if(jg)break;case"keydown":case"keyup":Jh(q,i,$)}var ce;if(rt)e:{switch(t){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else is?jh(t,i)&&(fe="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(fe="onCompositionStart");fe&&(fi&&i.locale!=="ko"&&(is||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&is&&(ce=fo()):(Jt=$,Gi="value"in Jt?Jt.value:Jt.textContent,is=!0)),ue=Da(U,fe),0<ue.length&&(fe=new go(fe,t,null,i,$),q.push({event:fe,listeners:ue}),ce?fe.data=ce:(ce=Bh(i),ce!==null&&(fe.data=ce)))),(ce=Zt?kg(t,i):Vg(t,i))&&(U=Da(U,"onBeforeInput"),0<U.length&&($=new go("onBeforeInput","beforeinput",null,i,$),q.push({event:$,listeners:U}),$.data=ce))}lf(q,n)})}function So(t,n,i){return{instance:t,listener:n,currentTarget:i}}function Da(t,n){for(var i=n+"Capture",u=[];t!==null;){var h=t,d=h.stateNode;h.tag===5&&d!==null&&(h=d,d=Ze(t,i),d!=null&&u.unshift(So(t,d,h)),d=Ze(t,n),d!=null&&u.push(So(t,d,h))),t=t.return}return u}function as(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function cf(t,n,i,u,h){for(var d=n._reactName,y=[];i!==null&&i!==u;){var w=i,C=w.alternate,U=w.stateNode;if(C!==null&&C===u)break;w.tag===5&&U!==null&&(w=U,h?(C=Ze(i,d),C!=null&&y.unshift(So(i,C,w))):h||(C=Ze(i,d),C!=null&&y.push(So(i,C,w)))),i=i.return}y.length!==0&&t.push({event:n,listeners:y})}var qg=/\r\n?/g,Hg=/\u0000|\uFFFD/g;function hf(t){return(typeof t=="string"?t:""+t).replace(qg,`
`).replace(Hg,"")}function Oa(t,n,i){if(n=hf(n),hf(t)!==n&&i)throw Error(r(425))}function La(){}var _u=null,Eu=null;function wu(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Tu=typeof setTimeout=="function"?setTimeout:void 0,Qg=typeof clearTimeout=="function"?clearTimeout:void 0,ff=typeof Promise=="function"?Promise:void 0,Kg=typeof queueMicrotask=="function"?queueMicrotask:typeof ff<"u"?function(t){return ff.resolve(null).then(t).catch(Wg)}:Tu;function Wg(t){setTimeout(function(){throw t})}function Su(t,n){var i=n,u=0;do{var h=i.nextSibling;if(t.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(u===0){t.removeChild(h),Tn(n);return}u--}else i!=="$"&&i!=="$?"&&i!=="$!"||u++;i=h}while(i);Tn(n)}function Cr(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function df(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return t;n--}else i==="/$"&&n++}t=t.previousSibling}return null}var ls=Math.random().toString(36).slice(2),Fn="__reactFiber$"+ls,Io="__reactProps$"+ls,rr="__reactContainer$"+ls,Iu="__reactEvents$"+ls,Gg="__reactListeners$"+ls,Xg="__reactHandles$"+ls;function di(t){var n=t[Fn];if(n)return n;for(var i=t.parentNode;i;){if(n=i[rr]||i[Fn]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(t=df(t);t!==null;){if(i=t[Fn])return i;t=df(t)}return n}t=i,i=t.parentNode}return null}function Co(t){return t=t[Fn]||t[rr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function us(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(r(33))}function Ma(t){return t[Io]||null}var Cu=[],cs=-1;function Ar(t){return{current:t}}function $e(t){0>cs||(t.current=Cu[cs],Cu[cs]=null,cs--)}function je(t,n){cs++,Cu[cs]=t.current,t.current=n}var Rr={},kt=Ar(Rr),$t=Ar(!1),pi=Rr;function hs(t,n){var i=t.type.contextTypes;if(!i)return Rr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===n)return u.__reactInternalMemoizedMaskedChildContext;var h={},d;for(d in i)h[d]=n[d];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=h),h}function qt(t){return t=t.childContextTypes,t!=null}function Fa(){$e($t),$e(kt)}function pf(t,n,i){if(kt.current!==Rr)throw Error(r(168));je(kt,n),je($t,i)}function mf(t,n,i){var u=t.stateNode;if(n=n.childContextTypes,typeof u.getChildContext!="function")return i;u=u.getChildContext();for(var h in u)if(!(h in n))throw Error(r(108,De(t)||"Unknown",h));return ee({},i,u)}function Ua(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Rr,pi=kt.current,je(kt,t),je($t,$t.current),!0}function gf(t,n,i){var u=t.stateNode;if(!u)throw Error(r(169));i?(t=mf(t,n,pi),u.__reactInternalMemoizedMergedChildContext=t,$e($t),$e(kt),je(kt,t)):$e($t),je($t,i)}var ir=null,za=!1,Au=!1;function yf(t){ir===null?ir=[t]:ir.push(t)}function Yg(t){za=!0,yf(t)}function Pr(){if(!Au&&ir!==null){Au=!0;var t=0,n=Ee;try{var i=ir;for(Ee=1;t<i.length;t++){var u=i[t];do u=u(!0);while(u!==null)}ir=null,za=!1}catch(h){throw ir!==null&&(ir=ir.slice(t+1)),qi(si,Pr),h}finally{Ee=n,Au=!1}}return null}var fs=[],ds=0,ja=null,Ba=0,ln=[],un=0,mi=null,sr=1,or="";function gi(t,n){fs[ds++]=Ba,fs[ds++]=ja,ja=t,Ba=n}function vf(t,n,i){ln[un++]=sr,ln[un++]=or,ln[un++]=mi,mi=t;var u=sr;t=or;var h=32-Mt(u)-1;u&=~(1<<h),i+=1;var d=32-Mt(n)+h;if(30<d){var y=h-h%5;d=(u&(1<<y)-1).toString(32),u>>=y,h-=y,sr=1<<32-Mt(n)+h|i<<h|u,or=d+t}else sr=1<<d|i<<h|u,or=t}function Ru(t){t.return!==null&&(gi(t,1),vf(t,1,0))}function Pu(t){for(;t===ja;)ja=fs[--ds],fs[ds]=null,Ba=fs[--ds],fs[ds]=null;for(;t===mi;)mi=ln[--un],ln[un]=null,or=ln[--un],ln[un]=null,sr=ln[--un],ln[un]=null}var en=null,tn=null,He=!1,Cn=null;function _f(t,n){var i=dn(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=t,n=t.deletions,n===null?(t.deletions=[i],t.flags|=16):n.push(i)}function Ef(t,n){switch(t.tag){case 5:var i=t.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,en=t,tn=Cr(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,en=t,tn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=mi!==null?{id:sr,overflow:or}:null,t.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=dn(18,null,null,0),i.stateNode=n,i.return=t,t.child=i,en=t,tn=null,!0):!1;default:return!1}}function ku(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vu(t){if(He){var n=tn;if(n){var i=n;if(!Ef(t,n)){if(ku(t))throw Error(r(418));n=Cr(i.nextSibling);var u=en;n&&Ef(t,n)?_f(u,i):(t.flags=t.flags&-4097|2,He=!1,en=t)}}else{if(ku(t))throw Error(r(418));t.flags=t.flags&-4097|2,He=!1,en=t}}}function wf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;en=t}function ba(t){if(t!==en)return!1;if(!He)return wf(t),He=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!wu(t.type,t.memoizedProps)),n&&(n=tn)){if(ku(t))throw Tf(),Error(r(418));for(;n;)_f(t,n),n=Cr(n.nextSibling)}if(wf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"){if(n===0){tn=Cr(t.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}t=t.nextSibling}tn=null}}else tn=en?Cr(t.stateNode.nextSibling):null;return!0}function Tf(){for(var t=tn;t;)t=Cr(t.nextSibling)}function ps(){tn=en=null,He=!1}function Nu(t){Cn===null?Cn=[t]:Cn.push(t)}var Jg=Se.ReactCurrentBatchConfig;function Ao(t,n,i){if(t=i.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(r(309));var u=i.stateNode}if(!u)throw Error(r(147,t));var h=u,d=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(y){var w=h.refs;y===null?delete w[d]:w[d]=y},n._stringRef=d,n)}if(typeof t!="string")throw Error(r(284));if(!i._owner)throw Error(r(290,t))}return t}function $a(t,n){throw t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function Sf(t){var n=t._init;return n(t._payload)}function If(t){function n(O,R){if(t){var F=O.deletions;F===null?(O.deletions=[R],O.flags|=16):F.push(R)}}function i(O,R){if(!t)return null;for(;R!==null;)n(O,R),R=R.sibling;return null}function u(O,R){for(O=new Map;R!==null;)R.key!==null?O.set(R.key,R):O.set(R.index,R),R=R.sibling;return O}function h(O,R){return O=Mr(O,R),O.index=0,O.sibling=null,O}function d(O,R,F){return O.index=F,t?(F=O.alternate,F!==null?(F=F.index,F<R?(O.flags|=2,R):F):(O.flags|=2,R)):(O.flags|=1048576,R)}function y(O){return t&&O.alternate===null&&(O.flags|=2),O}function w(O,R,F,Q){return R===null||R.tag!==6?(R=Tc(F,O.mode,Q),R.return=O,R):(R=h(R,F),R.return=O,R)}function C(O,R,F,Q){var se=F.type;return se===k?$(O,R,F.props.children,Q,F.key):R!==null&&(R.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Pt&&Sf(se)===R.type)?(Q=h(R,F.props),Q.ref=Ao(O,R,F),Q.return=O,Q):(Q=dl(F.type,F.key,F.props,null,O.mode,Q),Q.ref=Ao(O,R,F),Q.return=O,Q)}function U(O,R,F,Q){return R===null||R.tag!==4||R.stateNode.containerInfo!==F.containerInfo||R.stateNode.implementation!==F.implementation?(R=Sc(F,O.mode,Q),R.return=O,R):(R=h(R,F.children||[]),R.return=O,R)}function $(O,R,F,Q,se){return R===null||R.tag!==7?(R=Ii(F,O.mode,Q,se),R.return=O,R):(R=h(R,F),R.return=O,R)}function q(O,R,F){if(typeof R=="string"&&R!==""||typeof R=="number")return R=Tc(""+R,O.mode,F),R.return=O,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Xe:return F=dl(R.type,R.key,R.props,null,O.mode,F),F.ref=Ao(O,null,R),F.return=O,F;case Ne:return R=Sc(R,O.mode,F),R.return=O,R;case Pt:var Q=R._init;return q(O,Q(R._payload),F)}if(Wn(R)||le(R))return R=Ii(R,O.mode,F,null),R.return=O,R;$a(O,R)}return null}function b(O,R,F,Q){var se=R!==null?R.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return se!==null?null:w(O,R,""+F,Q);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Xe:return F.key===se?C(O,R,F,Q):null;case Ne:return F.key===se?U(O,R,F,Q):null;case Pt:return se=F._init,b(O,R,se(F._payload),Q)}if(Wn(F)||le(F))return se!==null?null:$(O,R,F,Q,null);$a(O,F)}return null}function J(O,R,F,Q,se){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return O=O.get(F)||null,w(R,O,""+Q,se);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Xe:return O=O.get(Q.key===null?F:Q.key)||null,C(R,O,Q,se);case Ne:return O=O.get(Q.key===null?F:Q.key)||null,U(R,O,Q,se);case Pt:var ue=Q._init;return J(O,R,F,ue(Q._payload),se)}if(Wn(Q)||le(Q))return O=O.get(F)||null,$(R,O,Q,se,null);$a(R,Q)}return null}function re(O,R,F,Q){for(var se=null,ue=null,ce=R,fe=R=0,_t=null;ce!==null&&fe<F.length;fe++){ce.index>fe?(_t=ce,ce=null):_t=ce.sibling;var xe=b(O,ce,F[fe],Q);if(xe===null){ce===null&&(ce=_t);break}t&&ce&&xe.alternate===null&&n(O,ce),R=d(xe,R,fe),ue===null?se=xe:ue.sibling=xe,ue=xe,ce=_t}if(fe===F.length)return i(O,ce),He&&gi(O,fe),se;if(ce===null){for(;fe<F.length;fe++)ce=q(O,F[fe],Q),ce!==null&&(R=d(ce,R,fe),ue===null?se=ce:ue.sibling=ce,ue=ce);return He&&gi(O,fe),se}for(ce=u(O,ce);fe<F.length;fe++)_t=J(ce,O,fe,F[fe],Q),_t!==null&&(t&&_t.alternate!==null&&ce.delete(_t.key===null?fe:_t.key),R=d(_t,R,fe),ue===null?se=_t:ue.sibling=_t,ue=_t);return t&&ce.forEach(function(Fr){return n(O,Fr)}),He&&gi(O,fe),se}function ie(O,R,F,Q){var se=le(F);if(typeof se!="function")throw Error(r(150));if(F=se.call(F),F==null)throw Error(r(151));for(var ue=se=null,ce=R,fe=R=0,_t=null,xe=F.next();ce!==null&&!xe.done;fe++,xe=F.next()){ce.index>fe?(_t=ce,ce=null):_t=ce.sibling;var Fr=b(O,ce,xe.value,Q);if(Fr===null){ce===null&&(ce=_t);break}t&&ce&&Fr.alternate===null&&n(O,ce),R=d(Fr,R,fe),ue===null?se=Fr:ue.sibling=Fr,ue=Fr,ce=_t}if(xe.done)return i(O,ce),He&&gi(O,fe),se;if(ce===null){for(;!xe.done;fe++,xe=F.next())xe=q(O,xe.value,Q),xe!==null&&(R=d(xe,R,fe),ue===null?se=xe:ue.sibling=xe,ue=xe);return He&&gi(O,fe),se}for(ce=u(O,ce);!xe.done;fe++,xe=F.next())xe=J(ce,O,fe,xe.value,Q),xe!==null&&(t&&xe.alternate!==null&&ce.delete(xe.key===null?fe:xe.key),R=d(xe,R,fe),ue===null?se=xe:ue.sibling=xe,ue=xe);return t&&ce.forEach(function(Ny){return n(O,Ny)}),He&&gi(O,fe),se}function et(O,R,F,Q){if(typeof F=="object"&&F!==null&&F.type===k&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case Xe:e:{for(var se=F.key,ue=R;ue!==null;){if(ue.key===se){if(se=F.type,se===k){if(ue.tag===7){i(O,ue.sibling),R=h(ue,F.props.children),R.return=O,O=R;break e}}else if(ue.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Pt&&Sf(se)===ue.type){i(O,ue.sibling),R=h(ue,F.props),R.ref=Ao(O,ue,F),R.return=O,O=R;break e}i(O,ue);break}else n(O,ue);ue=ue.sibling}F.type===k?(R=Ii(F.props.children,O.mode,Q,F.key),R.return=O,O=R):(Q=dl(F.type,F.key,F.props,null,O.mode,Q),Q.ref=Ao(O,R,F),Q.return=O,O=Q)}return y(O);case Ne:e:{for(ue=F.key;R!==null;){if(R.key===ue)if(R.tag===4&&R.stateNode.containerInfo===F.containerInfo&&R.stateNode.implementation===F.implementation){i(O,R.sibling),R=h(R,F.children||[]),R.return=O,O=R;break e}else{i(O,R);break}else n(O,R);R=R.sibling}R=Sc(F,O.mode,Q),R.return=O,O=R}return y(O);case Pt:return ue=F._init,et(O,R,ue(F._payload),Q)}if(Wn(F))return re(O,R,F,Q);if(le(F))return ie(O,R,F,Q);$a(O,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,R!==null&&R.tag===6?(i(O,R.sibling),R=h(R,F),R.return=O,O=R):(i(O,R),R=Tc(F,O.mode,Q),R.return=O,O=R),y(O)):i(O,R)}return et}var ms=If(!0),Cf=If(!1),qa=Ar(null),Ha=null,gs=null,xu=null;function Du(){xu=gs=Ha=null}function Ou(t){var n=qa.current;$e(qa),t._currentValue=n}function Lu(t,n,i){for(;t!==null;){var u=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),t===i)break;t=t.return}}function ys(t,n){Ha=t,xu=gs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&n)!==0&&(Ht=!0),t.firstContext=null)}function cn(t){var n=t._currentValue;if(xu!==t)if(t={context:t,memoizedValue:n,next:null},gs===null){if(Ha===null)throw Error(r(308));gs=t,Ha.dependencies={lanes:0,firstContext:t}}else gs=gs.next=t;return n}var yi=null;function Mu(t){yi===null?yi=[t]:yi.push(t)}function Af(t,n,i,u){var h=n.interleaved;return h===null?(i.next=i,Mu(n)):(i.next=h.next,h.next=i),n.interleaved=i,ar(t,u)}function ar(t,n){t.lanes|=n;var i=t.alternate;for(i!==null&&(i.lanes|=n),i=t,t=t.return;t!==null;)t.childLanes|=n,i=t.alternate,i!==null&&(i.childLanes|=n),i=t,t=t.return;return i.tag===3?i.stateNode:null}var kr=!1;function Fu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function lr(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function Vr(t,n,i){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(ke&2)!==0){var h=u.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),u.pending=n,ar(t,i)}return h=u.interleaved,h===null?(n.next=n,Mu(u)):(n.next=h.next,h.next=n),u.interleaved=n,ar(t,i)}function Qa(t,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var u=n.lanes;u&=t.pendingLanes,i|=u,n.lanes=i,_r(t,i)}}function Pf(t,n){var i=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,i===u)){var h=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var y={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};d===null?h=d=y:d=d.next=y,i=i.next}while(i!==null);d===null?h=d=n:d=d.next=n}else h=d=n;i={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:u.shared,effects:u.effects},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=n:t.next=n,i.lastBaseUpdate=n}function Ka(t,n,i,u){var h=t.updateQueue;kr=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var C=w,U=C.next;C.next=null,y===null?d=U:y.next=U,y=C;var $=t.alternate;$!==null&&($=$.updateQueue,w=$.lastBaseUpdate,w!==y&&(w===null?$.firstBaseUpdate=U:w.next=U,$.lastBaseUpdate=C))}if(d!==null){var q=h.baseState;y=0,$=U=C=null,w=d;do{var b=w.lane,J=w.eventTime;if((u&b)===b){$!==null&&($=$.next={eventTime:J,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var re=t,ie=w;switch(b=n,J=i,ie.tag){case 1:if(re=ie.payload,typeof re=="function"){q=re.call(J,q,b);break e}q=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=ie.payload,b=typeof re=="function"?re.call(J,q,b):re,b==null)break e;q=ee({},q,b);break e;case 2:kr=!0}}w.callback!==null&&w.lane!==0&&(t.flags|=64,b=h.effects,b===null?h.effects=[w]:b.push(w))}else J={eventTime:J,lane:b,tag:w.tag,payload:w.payload,callback:w.callback,next:null},$===null?(U=$=J,C=q):$=$.next=J,y|=b;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;b=w,w=b.next,b.next=null,h.lastBaseUpdate=b,h.shared.pending=null}}while(!0);if($===null&&(C=q),h.baseState=C,h.firstBaseUpdate=U,h.lastBaseUpdate=$,n=h.shared.interleaved,n!==null){h=n;do y|=h.lane,h=h.next;while(h!==n)}else d===null&&(h.shared.lanes=0);Ei|=y,t.lanes=y,t.memoizedState=q}}function kf(t,n,i){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var u=t[n],h=u.callback;if(h!==null){if(u.callback=null,u=i,typeof h!="function")throw Error(r(191,h));h.call(u)}}}var Ro={},Un=Ar(Ro),Po=Ar(Ro),ko=Ar(Ro);function vi(t){if(t===Ro)throw Error(r(174));return t}function Uu(t,n){switch(je(ko,n),je(Po,t),je(Un,Ro),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:ut(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=ut(n,t)}$e(Un),je(Un,n)}function vs(){$e(Un),$e(Po),$e(ko)}function Vf(t){vi(ko.current);var n=vi(Un.current),i=ut(n,t.type);n!==i&&(je(Po,t),je(Un,i))}function zu(t){Po.current===t&&($e(Un),$e(Po))}var Qe=Ar(0);function Wa(t){for(var n=t;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ju=[];function Bu(){for(var t=0;t<ju.length;t++)ju[t]._workInProgressVersionPrimary=null;ju.length=0}var Ga=Se.ReactCurrentDispatcher,bu=Se.ReactCurrentBatchConfig,_i=0,Ke=null,ht=null,yt=null,Xa=!1,Vo=!1,No=0,Zg=0;function Vt(){throw Error(r(321))}function $u(t,n){if(n===null)return!1;for(var i=0;i<n.length&&i<t.length;i++)if(!In(t[i],n[i]))return!1;return!0}function qu(t,n,i,u,h,d){if(_i=d,Ke=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ga.current=t===null||t.memoizedState===null?ry:iy,t=i(u,h),Vo){d=0;do{if(Vo=!1,No=0,25<=d)throw Error(r(301));d+=1,yt=ht=null,n.updateQueue=null,Ga.current=sy,t=i(u,h)}while(Vo)}if(Ga.current=Za,n=ht!==null&&ht.next!==null,_i=0,yt=ht=Ke=null,Xa=!1,n)throw Error(r(300));return t}function Hu(){var t=No!==0;return No=0,t}function zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ke.memoizedState=yt=t:yt=yt.next=t,yt}function hn(){if(ht===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var n=yt===null?Ke.memoizedState:yt.next;if(n!==null)yt=n,ht=t;else{if(t===null)throw Error(r(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},yt===null?Ke.memoizedState=yt=t:yt=yt.next=t}return yt}function xo(t,n){return typeof n=="function"?n(t):n}function Qu(t){var n=hn(),i=n.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=t;var u=ht,h=u.baseQueue,d=i.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}u.baseQueue=h=d,i.pending=null}if(h!==null){d=h.next,u=u.baseState;var w=y=null,C=null,U=d;do{var $=U.lane;if((_i&$)===$)C!==null&&(C=C.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),u=U.hasEagerState?U.eagerState:t(u,U.action);else{var q={lane:$,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};C===null?(w=C=q,y=u):C=C.next=q,Ke.lanes|=$,Ei|=$}U=U.next}while(U!==null&&U!==d);C===null?y=u:C.next=w,In(u,n.memoizedState)||(Ht=!0),n.memoizedState=u,n.baseState=y,n.baseQueue=C,i.lastRenderedState=u}if(t=i.interleaved,t!==null){h=t;do d=h.lane,Ke.lanes|=d,Ei|=d,h=h.next;while(h!==t)}else h===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function Ku(t){var n=hn(),i=n.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=t;var u=i.dispatch,h=i.pending,d=n.memoizedState;if(h!==null){i.pending=null;var y=h=h.next;do d=t(d,y.action),y=y.next;while(y!==h);In(d,n.memoizedState)||(Ht=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),i.lastRenderedState=d}return[d,u]}function Nf(){}function xf(t,n){var i=Ke,u=hn(),h=n(),d=!In(u.memoizedState,h);if(d&&(u.memoizedState=h,Ht=!0),u=u.queue,Wu(Lf.bind(null,i,u,t),[t]),u.getSnapshot!==n||d||yt!==null&&yt.memoizedState.tag&1){if(i.flags|=2048,Do(9,Of.bind(null,i,u,h,n),void 0,null),vt===null)throw Error(r(349));(_i&30)!==0||Df(i,n,h)}return h}function Df(t,n,i){t.flags|=16384,t={getSnapshot:n,value:i},n=Ke.updateQueue,n===null?(n={lastEffect:null,stores:null},Ke.updateQueue=n,n.stores=[t]):(i=n.stores,i===null?n.stores=[t]:i.push(t))}function Of(t,n,i,u){n.value=i,n.getSnapshot=u,Mf(n)&&Ff(t)}function Lf(t,n,i){return i(function(){Mf(n)&&Ff(t)})}function Mf(t){var n=t.getSnapshot;t=t.value;try{var i=n();return!In(t,i)}catch{return!0}}function Ff(t){var n=ar(t,1);n!==null&&kn(n,t,1,-1)}function Uf(t){var n=zn();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:t},n.queue=t,t=t.dispatch=ny.bind(null,Ke,t),[n.memoizedState,t]}function Do(t,n,i,u){return t={tag:t,create:n,destroy:i,deps:u,next:null},n=Ke.updateQueue,n===null?(n={lastEffect:null,stores:null},Ke.updateQueue=n,n.lastEffect=t.next=t):(i=n.lastEffect,i===null?n.lastEffect=t.next=t:(u=i.next,i.next=t,t.next=u,n.lastEffect=t)),t}function zf(){return hn().memoizedState}function Ya(t,n,i,u){var h=zn();Ke.flags|=t,h.memoizedState=Do(1|n,i,void 0,u===void 0?null:u)}function Ja(t,n,i,u){var h=hn();u=u===void 0?null:u;var d=void 0;if(ht!==null){var y=ht.memoizedState;if(d=y.destroy,u!==null&&$u(u,y.deps)){h.memoizedState=Do(n,i,d,u);return}}Ke.flags|=t,h.memoizedState=Do(1|n,i,d,u)}function jf(t,n){return Ya(8390656,8,t,n)}function Wu(t,n){return Ja(2048,8,t,n)}function Bf(t,n){return Ja(4,2,t,n)}function bf(t,n){return Ja(4,4,t,n)}function $f(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function qf(t,n,i){return i=i!=null?i.concat([t]):null,Ja(4,4,$f.bind(null,n,t),i)}function Gu(){}function Hf(t,n){var i=hn();n=n===void 0?null:n;var u=i.memoizedState;return u!==null&&n!==null&&$u(n,u[1])?u[0]:(i.memoizedState=[t,n],t)}function Qf(t,n){var i=hn();n=n===void 0?null:n;var u=i.memoizedState;return u!==null&&n!==null&&$u(n,u[1])?u[0]:(t=t(),i.memoizedState=[t,n],t)}function Kf(t,n,i){return(_i&21)===0?(t.baseState&&(t.baseState=!1,Ht=!0),t.memoizedState=i):(In(i,n)||(i=li(),Ke.lanes|=i,Ei|=i,t.baseState=!0),n)}function ey(t,n){var i=Ee;Ee=i!==0&&4>i?i:4,t(!0);var u=bu.transition;bu.transition={};try{t(!1),n()}finally{Ee=i,bu.transition=u}}function Wf(){return hn().memoizedState}function ty(t,n,i){var u=Or(t);if(i={lane:u,action:i,hasEagerState:!1,eagerState:null,next:null},Gf(t))Xf(n,i);else if(i=Af(t,n,i,u),i!==null){var h=zt();kn(i,t,u,h),Yf(i,n,u)}}function ny(t,n,i){var u=Or(t),h={lane:u,action:i,hasEagerState:!1,eagerState:null,next:null};if(Gf(t))Xf(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var y=n.lastRenderedState,w=d(y,i);if(h.hasEagerState=!0,h.eagerState=w,In(w,y)){var C=n.interleaved;C===null?(h.next=h,Mu(n)):(h.next=C.next,C.next=h),n.interleaved=h;return}}catch{}finally{}i=Af(t,n,h,u),i!==null&&(h=zt(),kn(i,t,u,h),Yf(i,n,u))}}function Gf(t){var n=t.alternate;return t===Ke||n!==null&&n===Ke}function Xf(t,n){Vo=Xa=!0;var i=t.pending;i===null?n.next=n:(n.next=i.next,i.next=n),t.pending=n}function Yf(t,n,i){if((i&4194240)!==0){var u=n.lanes;u&=t.pendingLanes,i|=u,n.lanes=i,_r(t,i)}}var Za={readContext:cn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},ry={readContext:cn,useCallback:function(t,n){return zn().memoizedState=[t,n===void 0?null:n],t},useContext:cn,useEffect:jf,useImperativeHandle:function(t,n,i){return i=i!=null?i.concat([t]):null,Ya(4194308,4,$f.bind(null,n,t),i)},useLayoutEffect:function(t,n){return Ya(4194308,4,t,n)},useInsertionEffect:function(t,n){return Ya(4,2,t,n)},useMemo:function(t,n){var i=zn();return n=n===void 0?null:n,t=t(),i.memoizedState=[t,n],t},useReducer:function(t,n,i){var u=zn();return n=i!==void 0?i(n):n,u.memoizedState=u.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},u.queue=t,t=t.dispatch=ty.bind(null,Ke,t),[u.memoizedState,t]},useRef:function(t){var n=zn();return t={current:t},n.memoizedState=t},useState:Uf,useDebugValue:Gu,useDeferredValue:function(t){return zn().memoizedState=t},useTransition:function(){var t=Uf(!1),n=t[0];return t=ey.bind(null,t[1]),zn().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,i){var u=Ke,h=zn();if(He){if(i===void 0)throw Error(r(407));i=i()}else{if(i=n(),vt===null)throw Error(r(349));(_i&30)!==0||Df(u,n,i)}h.memoizedState=i;var d={value:i,getSnapshot:n};return h.queue=d,jf(Lf.bind(null,u,d,t),[t]),u.flags|=2048,Do(9,Of.bind(null,u,d,i,n),void 0,null),i},useId:function(){var t=zn(),n=vt.identifierPrefix;if(He){var i=or,u=sr;i=(u&~(1<<32-Mt(u)-1)).toString(32)+i,n=":"+n+"R"+i,i=No++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=Zg++,n=":"+n+"r"+i.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},iy={readContext:cn,useCallback:Hf,useContext:cn,useEffect:Wu,useImperativeHandle:qf,useInsertionEffect:Bf,useLayoutEffect:bf,useMemo:Qf,useReducer:Qu,useRef:zf,useState:function(){return Qu(xo)},useDebugValue:Gu,useDeferredValue:function(t){var n=hn();return Kf(n,ht.memoizedState,t)},useTransition:function(){var t=Qu(xo)[0],n=hn().memoizedState;return[t,n]},useMutableSource:Nf,useSyncExternalStore:xf,useId:Wf,unstable_isNewReconciler:!1},sy={readContext:cn,useCallback:Hf,useContext:cn,useEffect:Wu,useImperativeHandle:qf,useInsertionEffect:Bf,useLayoutEffect:bf,useMemo:Qf,useReducer:Ku,useRef:zf,useState:function(){return Ku(xo)},useDebugValue:Gu,useDeferredValue:function(t){var n=hn();return ht===null?n.memoizedState=t:Kf(n,ht.memoizedState,t)},useTransition:function(){var t=Ku(xo)[0],n=hn().memoizedState;return[t,n]},useMutableSource:Nf,useSyncExternalStore:xf,useId:Wf,unstable_isNewReconciler:!1};function An(t,n){if(t&&t.defaultProps){n=ee({},n),t=t.defaultProps;for(var i in t)n[i]===void 0&&(n[i]=t[i]);return n}return n}function Xu(t,n,i,u){n=t.memoizedState,i=i(u,n),i=i==null?n:ee({},n,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var el={isMounted:function(t){return(t=t._reactInternals)?yn(t)===t:!1},enqueueSetState:function(t,n,i){t=t._reactInternals;var u=zt(),h=Or(t),d=lr(u,h);d.payload=n,i!=null&&(d.callback=i),n=Vr(t,d,h),n!==null&&(kn(n,t,h,u),Qa(n,t,h))},enqueueReplaceState:function(t,n,i){t=t._reactInternals;var u=zt(),h=Or(t),d=lr(u,h);d.tag=1,d.payload=n,i!=null&&(d.callback=i),n=Vr(t,d,h),n!==null&&(kn(n,t,h,u),Qa(n,t,h))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var i=zt(),u=Or(t),h=lr(i,u);h.tag=2,n!=null&&(h.callback=n),n=Vr(t,h,u),n!==null&&(kn(n,t,u,i),Qa(n,t,u))}};function Jf(t,n,i,u,h,d,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,d,y):n.prototype&&n.prototype.isPureReactComponent?!_o(i,u)||!_o(h,d):!0}function Zf(t,n,i){var u=!1,h=Rr,d=n.contextType;return typeof d=="object"&&d!==null?d=cn(d):(h=qt(n)?pi:kt.current,u=n.contextTypes,d=(u=u!=null)?hs(t,h):Rr),n=new n(i,d),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=el,t.stateNode=n,n._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=d),n}function ed(t,n,i,u){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,u),n.state!==t&&el.enqueueReplaceState(n,n.state,null)}function Yu(t,n,i,u){var h=t.stateNode;h.props=i,h.state=t.memoizedState,h.refs={},Fu(t);var d=n.contextType;typeof d=="object"&&d!==null?h.context=cn(d):(d=qt(n)?pi:kt.current,h.context=hs(t,d)),h.state=t.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(Xu(t,n,d,i),h.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(n=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),n!==h.state&&el.enqueueReplaceState(h,h.state,null),Ka(t,i,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function _s(t,n){try{var i="",u=n;do i+=ve(u),u=u.return;while(u);var h=i}catch(d){h=`
Error generating stack: `+d.message+`
`+d.stack}return{value:t,source:n,stack:h,digest:null}}function Ju(t,n,i){return{value:t,source:null,stack:i??null,digest:n??null}}function Zu(t,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var oy=typeof WeakMap=="function"?WeakMap:Map;function td(t,n,i){i=lr(-1,i),i.tag=3,i.payload={element:null};var u=n.value;return i.callback=function(){al||(al=!0,pc=u),Zu(t,n)},i}function nd(t,n,i){i=lr(-1,i),i.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=n.value;i.payload=function(){return u(h)},i.callback=function(){Zu(t,n)}}var d=t.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(i.callback=function(){Zu(t,n),typeof u!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var y=n.stack;this.componentDidCatch(n.value,{componentStack:y!==null?y:""})}),i}function rd(t,n,i){var u=t.pingCache;if(u===null){u=t.pingCache=new oy;var h=new Set;u.set(n,h)}else h=u.get(n),h===void 0&&(h=new Set,u.set(n,h));h.has(i)||(h.add(i),t=Ey.bind(null,t,n,i),n.then(t,t))}function id(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function sd(t,n,i,u,h){return(t.mode&1)===0?(t===n?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=lr(-1,1),n.tag=2,Vr(i,n,1))),i.lanes|=1),t):(t.flags|=65536,t.lanes=h,t)}var ay=Se.ReactCurrentOwner,Ht=!1;function Ut(t,n,i,u){n.child=t===null?Cf(n,null,i,u):ms(n,t.child,i,u)}function od(t,n,i,u,h){i=i.render;var d=n.ref;return ys(n,h),u=qu(t,n,i,u,d,h),i=Hu(),t!==null&&!Ht?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~h,ur(t,n,h)):(He&&i&&Ru(n),n.flags|=1,Ut(t,n,u,h),n.child)}function ad(t,n,i,u,h){if(t===null){var d=i.type;return typeof d=="function"&&!wc(d)&&d.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=d,ld(t,n,d,u,h)):(t=dl(i.type,null,u,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,(t.lanes&h)===0){var y=d.memoizedProps;if(i=i.compare,i=i!==null?i:_o,i(y,u)&&t.ref===n.ref)return ur(t,n,h)}return n.flags|=1,t=Mr(d,u),t.ref=n.ref,t.return=n,n.child=t}function ld(t,n,i,u,h){if(t!==null){var d=t.memoizedProps;if(_o(d,u)&&t.ref===n.ref)if(Ht=!1,n.pendingProps=u=d,(t.lanes&h)!==0)(t.flags&131072)!==0&&(Ht=!0);else return n.lanes=t.lanes,ur(t,n,h)}return ec(t,n,i,u,h)}function ud(t,n,i){var u=n.pendingProps,h=u.children,d=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(ws,nn),nn|=i;else{if((i&1073741824)===0)return t=d!==null?d.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,je(ws,nn),nn|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=d!==null?d.baseLanes:i,je(ws,nn),nn|=u}else d!==null?(u=d.baseLanes|i,n.memoizedState=null):u=i,je(ws,nn),nn|=u;return Ut(t,n,h,i),n.child}function cd(t,n){var i=n.ref;(t===null&&i!==null||t!==null&&t.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function ec(t,n,i,u,h){var d=qt(i)?pi:kt.current;return d=hs(n,d),ys(n,h),i=qu(t,n,i,u,d,h),u=Hu(),t!==null&&!Ht?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~h,ur(t,n,h)):(He&&u&&Ru(n),n.flags|=1,Ut(t,n,i,h),n.child)}function hd(t,n,i,u,h){if(qt(i)){var d=!0;Ua(n)}else d=!1;if(ys(n,h),n.stateNode===null)nl(t,n),Zf(n,i,u),Yu(n,i,u,h),u=!0;else if(t===null){var y=n.stateNode,w=n.memoizedProps;y.props=w;var C=y.context,U=i.contextType;typeof U=="object"&&U!==null?U=cn(U):(U=qt(i)?pi:kt.current,U=hs(n,U));var $=i.getDerivedStateFromProps,q=typeof $=="function"||typeof y.getSnapshotBeforeUpdate=="function";q||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==u||C!==U)&&ed(n,y,u,U),kr=!1;var b=n.memoizedState;y.state=b,Ka(n,u,y,h),C=n.memoizedState,w!==u||b!==C||$t.current||kr?(typeof $=="function"&&(Xu(n,i,$,u),C=n.memoizedState),(w=kr||Jf(n,i,w,u,b,C,U))?(q||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=C),y.props=u,y.state=C,y.context=U,u=w):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{y=n.stateNode,Rf(t,n),w=n.memoizedProps,U=n.type===n.elementType?w:An(n.type,w),y.props=U,q=n.pendingProps,b=y.context,C=i.contextType,typeof C=="object"&&C!==null?C=cn(C):(C=qt(i)?pi:kt.current,C=hs(n,C));var J=i.getDerivedStateFromProps;($=typeof J=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==q||b!==C)&&ed(n,y,u,C),kr=!1,b=n.memoizedState,y.state=b,Ka(n,u,y,h);var re=n.memoizedState;w!==q||b!==re||$t.current||kr?(typeof J=="function"&&(Xu(n,i,J,u),re=n.memoizedState),(U=kr||Jf(n,i,U,u,b,re,C)||!1)?($||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,re,C),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,re,C)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===t.memoizedProps&&b===t.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&b===t.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=re),y.props=u,y.state=re,y.context=C,u=U):(typeof y.componentDidUpdate!="function"||w===t.memoizedProps&&b===t.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&b===t.memoizedState||(n.flags|=1024),u=!1)}return tc(t,n,i,u,d,h)}function tc(t,n,i,u,h,d){cd(t,n);var y=(n.flags&128)!==0;if(!u&&!y)return h&&gf(n,i,!1),ur(t,n,d);u=n.stateNode,ay.current=n;var w=y&&typeof i.getDerivedStateFromError!="function"?null:u.render();return n.flags|=1,t!==null&&y?(n.child=ms(n,t.child,null,d),n.child=ms(n,null,w,d)):Ut(t,n,w,d),n.memoizedState=u.state,h&&gf(n,i,!0),n.child}function fd(t){var n=t.stateNode;n.pendingContext?pf(t,n.pendingContext,n.pendingContext!==n.context):n.context&&pf(t,n.context,!1),Uu(t,n.containerInfo)}function dd(t,n,i,u,h){return ps(),Nu(h),n.flags|=256,Ut(t,n,i,u),n.child}var nc={dehydrated:null,treeContext:null,retryLane:0};function rc(t){return{baseLanes:t,cachePool:null,transitions:null}}function pd(t,n,i){var u=n.pendingProps,h=Qe.current,d=!1,y=(n.flags&128)!==0,w;if((w=y)||(w=t!==null&&t.memoizedState===null?!1:(h&2)!==0),w?(d=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),je(Qe,h&1),t===null)return Vu(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((n.mode&1)===0?n.lanes=1:t.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(y=u.children,t=u.fallback,d?(u=n.mode,d=n.child,y={mode:"hidden",children:y},(u&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=y):d=pl(y,u,0,null),t=Ii(t,u,i,null),d.return=n,t.return=n,d.sibling=t,n.child=d,n.child.memoizedState=rc(i),n.memoizedState=nc,t):ic(n,y));if(h=t.memoizedState,h!==null&&(w=h.dehydrated,w!==null))return ly(t,n,y,u,w,h,i);if(d){d=u.fallback,y=n.mode,h=t.child,w=h.sibling;var C={mode:"hidden",children:u.children};return(y&1)===0&&n.child!==h?(u=n.child,u.childLanes=0,u.pendingProps=C,n.deletions=null):(u=Mr(h,C),u.subtreeFlags=h.subtreeFlags&14680064),w!==null?d=Mr(w,d):(d=Ii(d,y,i,null),d.flags|=2),d.return=n,u.return=n,u.sibling=d,n.child=u,u=d,d=n.child,y=t.child.memoizedState,y=y===null?rc(i):{baseLanes:y.baseLanes|i,cachePool:null,transitions:y.transitions},d.memoizedState=y,d.childLanes=t.childLanes&~i,n.memoizedState=nc,u}return d=t.child,t=d.sibling,u=Mr(d,{mode:"visible",children:u.children}),(n.mode&1)===0&&(u.lanes=i),u.return=n,u.sibling=null,t!==null&&(i=n.deletions,i===null?(n.deletions=[t],n.flags|=16):i.push(t)),n.child=u,n.memoizedState=null,u}function ic(t,n){return n=pl({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function tl(t,n,i,u){return u!==null&&Nu(u),ms(n,t.child,null,i),t=ic(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ly(t,n,i,u,h,d,y){if(i)return n.flags&256?(n.flags&=-257,u=Ju(Error(r(422))),tl(t,n,y,u)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(d=u.fallback,h=n.mode,u=pl({mode:"visible",children:u.children},h,0,null),d=Ii(d,h,y,null),d.flags|=2,u.return=n,d.return=n,u.sibling=d,n.child=u,(n.mode&1)!==0&&ms(n,t.child,null,y),n.child.memoizedState=rc(y),n.memoizedState=nc,d);if((n.mode&1)===0)return tl(t,n,y,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var w=u.dgst;return u=w,d=Error(r(419)),u=Ju(d,u,void 0),tl(t,n,y,u)}if(w=(y&t.childLanes)!==0,Ht||w){if(u=vt,u!==null){switch(y&-y){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(u.suspendedLanes|y))!==0?0:h,h!==0&&h!==d.retryLane&&(d.retryLane=h,ar(t,h),kn(u,t,h,-1))}return Ec(),u=Ju(Error(r(421))),tl(t,n,y,u)}return h.data==="$?"?(n.flags|=128,n.child=t.child,n=wy.bind(null,t),h._reactRetry=n,null):(t=d.treeContext,tn=Cr(h.nextSibling),en=n,He=!0,Cn=null,t!==null&&(ln[un++]=sr,ln[un++]=or,ln[un++]=mi,sr=t.id,or=t.overflow,mi=n),n=ic(n,u.children),n.flags|=4096,n)}function md(t,n,i){t.lanes|=n;var u=t.alternate;u!==null&&(u.lanes|=n),Lu(t.return,n,i)}function sc(t,n,i,u,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:i,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=u,d.tail=i,d.tailMode=h)}function gd(t,n,i){var u=n.pendingProps,h=u.revealOrder,d=u.tail;if(Ut(t,n,u.children,i),u=Qe.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&md(t,i,n);else if(t.tag===19)md(t,i,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(je(Qe,u),(n.mode&1)===0)n.memoizedState=null;else switch(h){case"forwards":for(i=n.child,h=null;i!==null;)t=i.alternate,t!==null&&Wa(t)===null&&(h=i),i=i.sibling;i=h,i===null?(h=n.child,n.child=null):(h=i.sibling,i.sibling=null),sc(n,!1,h,i,d);break;case"backwards":for(i=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Wa(t)===null){n.child=h;break}t=h.sibling,h.sibling=i,i=h,h=t}sc(n,!0,i,null,d);break;case"together":sc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function nl(t,n){(n.mode&1)===0&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function ur(t,n,i){if(t!==null&&(n.dependencies=t.dependencies),Ei|=n.lanes,(i&n.childLanes)===0)return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,i=Mr(t,t.pendingProps),n.child=i,i.return=n;t.sibling!==null;)t=t.sibling,i=i.sibling=Mr(t,t.pendingProps),i.return=n;i.sibling=null}return n.child}function uy(t,n,i){switch(n.tag){case 3:fd(n),ps();break;case 5:Vf(n);break;case 1:qt(n.type)&&Ua(n);break;case 4:Uu(n,n.stateNode.containerInfo);break;case 10:var u=n.type._context,h=n.memoizedProps.value;je(qa,u._currentValue),u._currentValue=h;break;case 13:if(u=n.memoizedState,u!==null)return u.dehydrated!==null?(je(Qe,Qe.current&1),n.flags|=128,null):(i&n.child.childLanes)!==0?pd(t,n,i):(je(Qe,Qe.current&1),t=ur(t,n,i),t!==null?t.sibling:null);je(Qe,Qe.current&1);break;case 19:if(u=(i&n.childLanes)!==0,(t.flags&128)!==0){if(u)return gd(t,n,i);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),je(Qe,Qe.current),u)break;return null;case 22:case 23:return n.lanes=0,ud(t,n,i)}return ur(t,n,i)}var yd,oc,vd,_d;yd=function(t,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},oc=function(){},vd=function(t,n,i,u){var h=t.memoizedProps;if(h!==u){t=n.stateNode,vi(Un.current);var d=null;switch(i){case"input":h=Yr(t,h),u=Yr(t,u),d=[];break;case"select":h=ee({},h,{value:void 0}),u=ee({},u,{value:void 0}),d=[];break;case"textarea":h=Ks(t,h),u=Ks(t,u),d=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=La)}Zs(i,u);var y;i=null;for(U in h)if(!u.hasOwnProperty(U)&&h.hasOwnProperty(U)&&h[U]!=null)if(U==="style"){var w=h[U];for(y in w)w.hasOwnProperty(y)&&(i||(i={}),i[y]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(l.hasOwnProperty(U)?d||(d=[]):(d=d||[]).push(U,null));for(U in u){var C=u[U];if(w=h?.[U],u.hasOwnProperty(U)&&C!==w&&(C!=null||w!=null))if(U==="style")if(w){for(y in w)!w.hasOwnProperty(y)||C&&C.hasOwnProperty(y)||(i||(i={}),i[y]="");for(y in C)C.hasOwnProperty(y)&&w[y]!==C[y]&&(i||(i={}),i[y]=C[y])}else i||(d||(d=[]),d.push(U,i)),i=C;else U==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,w=w?w.__html:void 0,C!=null&&w!==C&&(d=d||[]).push(U,C)):U==="children"?typeof C!="string"&&typeof C!="number"||(d=d||[]).push(U,""+C):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(l.hasOwnProperty(U)?(C!=null&&U==="onScroll"&&be("scroll",t),d||w===C||(d=[])):(d=d||[]).push(U,C))}i&&(d=d||[]).push("style",i);var U=d;(n.updateQueue=U)&&(n.flags|=4)}},_d=function(t,n,i,u){i!==u&&(n.flags|=4)};function Oo(t,n){if(!He)switch(t.tailMode){case"hidden":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Nt(t){var n=t.alternate!==null&&t.alternate.child===t.child,i=0,u=0;if(n)for(var h=t.child;h!==null;)i|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)i|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=i,n}function cy(t,n,i){var u=n.pendingProps;switch(Pu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(n),null;case 1:return qt(n.type)&&Fa(),Nt(n),null;case 3:return u=n.stateNode,vs(),$e($t),$e(kt),Bu(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(ba(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Cn!==null&&(yc(Cn),Cn=null))),oc(t,n),Nt(n),null;case 5:zu(n);var h=vi(ko.current);if(i=n.type,t!==null&&n.stateNode!=null)vd(t,n,i,u,h),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!u){if(n.stateNode===null)throw Error(r(166));return Nt(n),null}if(t=vi(Un.current),ba(n)){u=n.stateNode,i=n.type;var d=n.memoizedProps;switch(u[Fn]=n,u[Io]=d,t=(n.mode&1)!==0,i){case"dialog":be("cancel",u),be("close",u);break;case"iframe":case"object":case"embed":be("load",u);break;case"video":case"audio":for(h=0;h<wo.length;h++)be(wo[h],u);break;case"source":be("error",u);break;case"img":case"image":case"link":be("error",u),be("load",u);break;case"details":be("toggle",u);break;case"input":Di(u,d),be("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!d.multiple},be("invalid",u);break;case"textarea":Li(u,d),be("invalid",u)}Zs(i,d),h=null;for(var y in d)if(d.hasOwnProperty(y)){var w=d[y];y==="children"?typeof w=="string"?u.textContent!==w&&(d.suppressHydrationWarning!==!0&&Oa(u.textContent,w,t),h=["children",w]):typeof w=="number"&&u.textContent!==""+w&&(d.suppressHydrationWarning!==!0&&Oa(u.textContent,w,t),h=["children",""+w]):l.hasOwnProperty(y)&&w!=null&&y==="onScroll"&&be("scroll",u)}switch(i){case"input":Kn(u),oa(u,d,!0);break;case"textarea":Kn(u),Ws(u);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(u.onclick=La)}u=h,n.updateQueue=u,u!==null&&(n.flags|=4)}else{y=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lt(i)),t==="http://www.w3.org/1999/xhtml"?i==="script"?(t=y.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=y.createElement(i,{is:u.is}):(t=y.createElement(i),i==="select"&&(y=t,u.multiple?y.multiple=!0:u.size&&(y.size=u.size))):t=y.createElementNS(t,i),t[Fn]=n,t[Io]=u,yd(t,n,!1,!1),n.stateNode=t;e:{switch(y=eo(i,u),i){case"dialog":be("cancel",t),be("close",t),h=u;break;case"iframe":case"object":case"embed":be("load",t),h=u;break;case"video":case"audio":for(h=0;h<wo.length;h++)be(wo[h],t);h=u;break;case"source":be("error",t),h=u;break;case"img":case"image":case"link":be("error",t),be("load",t),h=u;break;case"details":be("toggle",t),h=u;break;case"input":Di(t,u),h=Yr(t,u),be("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=ee({},u,{value:void 0}),be("invalid",t);break;case"textarea":Li(t,u),h=Ks(t,u),be("invalid",t);break;default:h=u}Zs(i,h),w=h;for(d in w)if(w.hasOwnProperty(d)){var C=w[d];d==="style"?Ys(t,C):d==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&Gs(t,C)):d==="children"?typeof C=="string"?(i!=="textarea"||C!=="")&&pr(t,C):typeof C=="number"&&pr(t,""+C):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(l.hasOwnProperty(d)?C!=null&&d==="onScroll"&&be("scroll",t):C!=null&&me(t,d,C,y))}switch(i){case"input":Kn(t),oa(t,u,!1);break;case"textarea":Kn(t),Ws(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Oe(u.value));break;case"select":t.multiple=!!u.multiple,d=u.value,d!=null?Gn(t,!!u.multiple,d,!1):u.defaultValue!=null&&Gn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=La)}switch(i){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Nt(n),null;case 6:if(t&&n.stateNode!=null)_d(t,n,t.memoizedProps,u);else{if(typeof u!="string"&&n.stateNode===null)throw Error(r(166));if(i=vi(ko.current),vi(Un.current),ba(n)){if(u=n.stateNode,i=n.memoizedProps,u[Fn]=n,(d=u.nodeValue!==i)&&(t=en,t!==null))switch(t.tag){case 3:Oa(u.nodeValue,i,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Oa(u.nodeValue,i,(t.mode&1)!==0)}d&&(n.flags|=4)}else u=(i.nodeType===9?i:i.ownerDocument).createTextNode(u),u[Fn]=n,n.stateNode=u}return Nt(n),null;case 13:if($e(Qe),u=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(He&&tn!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Tf(),ps(),n.flags|=98560,d=!1;else if(d=ba(n),u!==null&&u.dehydrated!==null){if(t===null){if(!d)throw Error(r(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Fn]=n}else ps(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Nt(n),d=!1}else Cn!==null&&(yc(Cn),Cn=null),d=!0;if(!d)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=i,n):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(n.child.flags|=8192,(n.mode&1)!==0&&(t===null||(Qe.current&1)!==0?ft===0&&(ft=3):Ec())),n.updateQueue!==null&&(n.flags|=4),Nt(n),null);case 4:return vs(),oc(t,n),t===null&&To(n.stateNode.containerInfo),Nt(n),null;case 10:return Ou(n.type._context),Nt(n),null;case 17:return qt(n.type)&&Fa(),Nt(n),null;case 19:if($e(Qe),d=n.memoizedState,d===null)return Nt(n),null;if(u=(n.flags&128)!==0,y=d.rendering,y===null)if(u)Oo(d,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(y=Wa(t),y!==null){for(n.flags|=128,Oo(d,!1),u=y.updateQueue,u!==null&&(n.updateQueue=u,n.flags|=4),n.subtreeFlags=0,u=i,i=n.child;i!==null;)d=i,t=u,d.flags&=14680066,y=d.alternate,y===null?(d.childLanes=0,d.lanes=t,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=y.childLanes,d.lanes=y.lanes,d.child=y.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=y.memoizedProps,d.memoizedState=y.memoizedState,d.updateQueue=y.updateQueue,d.type=y.type,t=y.dependencies,d.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return je(Qe,Qe.current&1|2),n.child}t=t.sibling}d.tail!==null&&ze()>Ts&&(n.flags|=128,u=!0,Oo(d,!1),n.lanes=4194304)}else{if(!u)if(t=Wa(y),t!==null){if(n.flags|=128,u=!0,i=t.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),Oo(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!He)return Nt(n),null}else 2*ze()-d.renderingStartTime>Ts&&i!==1073741824&&(n.flags|=128,u=!0,Oo(d,!1),n.lanes=4194304);d.isBackwards?(y.sibling=n.child,n.child=y):(i=d.last,i!==null?i.sibling=y:n.child=y,d.last=y)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=ze(),n.sibling=null,i=Qe.current,je(Qe,u?i&1|2:i&1),n):(Nt(n),null);case 22:case 23:return _c(),u=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(n.flags|=8192),u&&(n.mode&1)!==0?(nn&1073741824)!==0&&(Nt(n),n.subtreeFlags&6&&(n.flags|=8192)):Nt(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function hy(t,n){switch(Pu(n),n.tag){case 1:return qt(n.type)&&Fa(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return vs(),$e($t),$e(kt),Bu(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 5:return zu(n),null;case 13:if($e(Qe),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));ps()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return $e(Qe),null;case 4:return vs(),null;case 10:return Ou(n.type._context),null;case 22:case 23:return _c(),null;case 24:return null;default:return null}}var rl=!1,xt=!1,fy=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Es(t,n){var i=t.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(u){Ye(t,n,u)}else i.current=null}function ac(t,n,i){try{i()}catch(u){Ye(t,n,u)}}var Ed=!1;function dy(t,n){if(_u=Tr,t=Yh(),hu(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var u=i.getSelection&&i.getSelection();if(u&&u.rangeCount!==0){i=u.anchorNode;var h=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var y=0,w=-1,C=-1,U=0,$=0,q=t,b=null;t:for(;;){for(var J;q!==i||h!==0&&q.nodeType!==3||(w=y+h),q!==d||u!==0&&q.nodeType!==3||(C=y+u),q.nodeType===3&&(y+=q.nodeValue.length),(J=q.firstChild)!==null;)b=q,q=J;for(;;){if(q===t)break t;if(b===i&&++U===h&&(w=y),b===d&&++$===u&&(C=y),(J=q.nextSibling)!==null)break;q=b,b=q.parentNode}q=J}i=w===-1||C===-1?null:{start:w,end:C}}else i=null}i=i||{start:0,end:0}}else i=null;for(Eu={focusedElem:t,selectionRange:i},Tr=!1,ne=n;ne!==null;)if(n=ne,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ne=t;else for(;ne!==null;){n=ne;try{var re=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var ie=re.memoizedProps,et=re.memoizedState,O=n.stateNode,R=O.getSnapshotBeforeUpdate(n.elementType===n.type?ie:An(n.type,ie),et);O.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var F=n.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Q){Ye(n,n.return,Q)}if(t=n.sibling,t!==null){t.return=n.return,ne=t;break}ne=n.return}return re=Ed,Ed=!1,re}function Lo(t,n,i){var u=n.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var d=h.destroy;h.destroy=void 0,d!==void 0&&ac(n,i,d)}h=h.next}while(h!==u)}}function il(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var u=i.create;i.destroy=u()}i=i.next}while(i!==n)}}function lc(t){var n=t.ref;if(n!==null){var i=t.stateNode;switch(t.tag){case 5:t=i;break;default:t=i}typeof n=="function"?n(t):n.current=t}}function wd(t){var n=t.alternate;n!==null&&(t.alternate=null,wd(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[Fn],delete n[Io],delete n[Iu],delete n[Gg],delete n[Xg])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Td(t){return t.tag===5||t.tag===3||t.tag===4}function Sd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Td(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function uc(t,n,i){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(t,n):i.insertBefore(t,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(t,i)):(n=i,n.appendChild(t)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=La));else if(u!==4&&(t=t.child,t!==null))for(uc(t,n,i),t=t.sibling;t!==null;)uc(t,n,i),t=t.sibling}function cc(t,n,i){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?i.insertBefore(t,n):i.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(cc(t,n,i),t=t.sibling;t!==null;)cc(t,n,i),t=t.sibling}var St=null,Rn=!1;function Nr(t,n,i){for(i=i.child;i!==null;)Id(t,n,i),i=i.sibling}function Id(t,n,i){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(oi,i)}catch{}switch(i.tag){case 5:xt||Es(i,n);case 6:var u=St,h=Rn;St=null,Nr(t,n,i),St=u,Rn=h,St!==null&&(Rn?(t=St,i=i.stateNode,t.nodeType===8?t.parentNode.removeChild(i):t.removeChild(i)):St.removeChild(i.stateNode));break;case 18:St!==null&&(Rn?(t=St,i=i.stateNode,t.nodeType===8?Su(t.parentNode,i):t.nodeType===1&&Su(t,i),Tn(t)):Su(St,i.stateNode));break;case 4:u=St,h=Rn,St=i.stateNode.containerInfo,Rn=!0,Nr(t,n,i),St=u,Rn=h;break;case 0:case 11:case 14:case 15:if(!xt&&(u=i.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var d=h,y=d.destroy;d=d.tag,y!==void 0&&((d&2)!==0||(d&4)!==0)&&ac(i,n,y),h=h.next}while(h!==u)}Nr(t,n,i);break;case 1:if(!xt&&(Es(i,n),u=i.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=i.memoizedProps,u.state=i.memoizedState,u.componentWillUnmount()}catch(w){Ye(i,n,w)}Nr(t,n,i);break;case 21:Nr(t,n,i);break;case 22:i.mode&1?(xt=(u=xt)||i.memoizedState!==null,Nr(t,n,i),xt=u):Nr(t,n,i);break;default:Nr(t,n,i)}}function Cd(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var i=t.stateNode;i===null&&(i=t.stateNode=new fy),n.forEach(function(u){var h=Ty.bind(null,t,u);i.has(u)||(i.add(u),u.then(h,h))})}}function Pn(t,n){var i=n.deletions;if(i!==null)for(var u=0;u<i.length;u++){var h=i[u];try{var d=t,y=n,w=y;e:for(;w!==null;){switch(w.tag){case 5:St=w.stateNode,Rn=!1;break e;case 3:St=w.stateNode.containerInfo,Rn=!0;break e;case 4:St=w.stateNode.containerInfo,Rn=!0;break e}w=w.return}if(St===null)throw Error(r(160));Id(d,y,h),St=null,Rn=!1;var C=h.alternate;C!==null&&(C.return=null),h.return=null}catch(U){Ye(h,n,U)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Ad(n,t),n=n.sibling}function Ad(t,n){var i=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pn(n,t),jn(t),u&4){try{Lo(3,t,t.return),il(3,t)}catch(ie){Ye(t,t.return,ie)}try{Lo(5,t,t.return)}catch(ie){Ye(t,t.return,ie)}}break;case 1:Pn(n,t),jn(t),u&512&&i!==null&&Es(i,i.return);break;case 5:if(Pn(n,t),jn(t),u&512&&i!==null&&Es(i,i.return),t.flags&32){var h=t.stateNode;try{pr(h,"")}catch(ie){Ye(t,t.return,ie)}}if(u&4&&(h=t.stateNode,h!=null)){var d=t.memoizedProps,y=i!==null?i.memoizedProps:d,w=t.type,C=t.updateQueue;if(t.updateQueue=null,C!==null)try{w==="input"&&d.type==="radio"&&d.name!=null&&Hs(h,d),eo(w,y);var U=eo(w,d);for(y=0;y<C.length;y+=2){var $=C[y],q=C[y+1];$==="style"?Ys(h,q):$==="dangerouslySetInnerHTML"?Gs(h,q):$==="children"?pr(h,q):me(h,$,q,U)}switch(w){case"input":Qs(h,d);break;case"textarea":Mi(h,d);break;case"select":var b=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!d.multiple;var J=d.value;J!=null?Gn(h,!!d.multiple,J,!1):b!==!!d.multiple&&(d.defaultValue!=null?Gn(h,!!d.multiple,d.defaultValue,!0):Gn(h,!!d.multiple,d.multiple?[]:"",!1))}h[Io]=d}catch(ie){Ye(t,t.return,ie)}}break;case 6:if(Pn(n,t),jn(t),u&4){if(t.stateNode===null)throw Error(r(162));h=t.stateNode,d=t.memoizedProps;try{h.nodeValue=d}catch(ie){Ye(t,t.return,ie)}}break;case 3:if(Pn(n,t),jn(t),u&4&&i!==null&&i.memoizedState.isDehydrated)try{Tn(n.containerInfo)}catch(ie){Ye(t,t.return,ie)}break;case 4:Pn(n,t),jn(t);break;case 13:Pn(n,t),jn(t),h=t.child,h.flags&8192&&(d=h.memoizedState!==null,h.stateNode.isHidden=d,!d||h.alternate!==null&&h.alternate.memoizedState!==null||(dc=ze())),u&4&&Cd(t);break;case 22:if($=i!==null&&i.memoizedState!==null,t.mode&1?(xt=(U=xt)||$,Pn(n,t),xt=U):Pn(n,t),jn(t),u&8192){if(U=t.memoizedState!==null,(t.stateNode.isHidden=U)&&!$&&(t.mode&1)!==0)for(ne=t,$=t.child;$!==null;){for(q=ne=$;ne!==null;){switch(b=ne,J=b.child,b.tag){case 0:case 11:case 14:case 15:Lo(4,b,b.return);break;case 1:Es(b,b.return);var re=b.stateNode;if(typeof re.componentWillUnmount=="function"){u=b,i=b.return;try{n=u,re.props=n.memoizedProps,re.state=n.memoizedState,re.componentWillUnmount()}catch(ie){Ye(u,i,ie)}}break;case 5:Es(b,b.return);break;case 22:if(b.memoizedState!==null){kd(q);continue}}J!==null?(J.return=b,ne=J):kd(q)}$=$.sibling}e:for($=null,q=t;;){if(q.tag===5){if($===null){$=q;try{h=q.stateNode,U?(d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(w=q.stateNode,C=q.memoizedProps.style,y=C!=null&&C.hasOwnProperty("display")?C.display:null,w.style.display=Xs("display",y))}catch(ie){Ye(t,t.return,ie)}}}else if(q.tag===6){if($===null)try{q.stateNode.nodeValue=U?"":q.memoizedProps}catch(ie){Ye(t,t.return,ie)}}else if((q.tag!==22&&q.tag!==23||q.memoizedState===null||q===t)&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===t)break e;for(;q.sibling===null;){if(q.return===null||q.return===t)break e;$===q&&($=null),q=q.return}$===q&&($=null),q.sibling.return=q.return,q=q.sibling}}break;case 19:Pn(n,t),jn(t),u&4&&Cd(t);break;case 21:break;default:Pn(n,t),jn(t)}}function jn(t){var n=t.flags;if(n&2){try{e:{for(var i=t.return;i!==null;){if(Td(i)){var u=i;break e}i=i.return}throw Error(r(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(pr(h,""),u.flags&=-33);var d=Sd(t);cc(t,d,h);break;case 3:case 4:var y=u.stateNode.containerInfo,w=Sd(t);uc(t,w,y);break;default:throw Error(r(161))}}catch(C){Ye(t,t.return,C)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function py(t,n,i){ne=t,Rd(t)}function Rd(t,n,i){for(var u=(t.mode&1)!==0;ne!==null;){var h=ne,d=h.child;if(h.tag===22&&u){var y=h.memoizedState!==null||rl;if(!y){var w=h.alternate,C=w!==null&&w.memoizedState!==null||xt;w=rl;var U=xt;if(rl=y,(xt=C)&&!U)for(ne=h;ne!==null;)y=ne,C=y.child,y.tag===22&&y.memoizedState!==null?Vd(h):C!==null?(C.return=y,ne=C):Vd(h);for(;d!==null;)ne=d,Rd(d),d=d.sibling;ne=h,rl=w,xt=U}Pd(t)}else(h.subtreeFlags&8772)!==0&&d!==null?(d.return=h,ne=d):Pd(t)}}function Pd(t){for(;ne!==null;){var n=ne;if((n.flags&8772)!==0){var i=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:xt||il(5,n);break;case 1:var u=n.stateNode;if(n.flags&4&&!xt)if(i===null)u.componentDidMount();else{var h=n.elementType===n.type?i.memoizedProps:An(n.type,i.memoizedProps);u.componentDidUpdate(h,i.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&kf(n,d,u);break;case 3:var y=n.updateQueue;if(y!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}kf(n,y,i)}break;case 5:var w=n.stateNode;if(i===null&&n.flags&4){i=w;var C=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&i.focus();break;case"img":C.src&&(i.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var U=n.alternate;if(U!==null){var $=U.memoizedState;if($!==null){var q=$.dehydrated;q!==null&&Tn(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}xt||n.flags&512&&lc(n)}catch(b){Ye(n,n.return,b)}}if(n===t){ne=null;break}if(i=n.sibling,i!==null){i.return=n.return,ne=i;break}ne=n.return}}function kd(t){for(;ne!==null;){var n=ne;if(n===t){ne=null;break}var i=n.sibling;if(i!==null){i.return=n.return,ne=i;break}ne=n.return}}function Vd(t){for(;ne!==null;){var n=ne;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{il(4,n)}catch(C){Ye(n,i,C)}break;case 1:var u=n.stateNode;if(typeof u.componentDidMount=="function"){var h=n.return;try{u.componentDidMount()}catch(C){Ye(n,h,C)}}var d=n.return;try{lc(n)}catch(C){Ye(n,d,C)}break;case 5:var y=n.return;try{lc(n)}catch(C){Ye(n,y,C)}}}catch(C){Ye(n,n.return,C)}if(n===t){ne=null;break}var w=n.sibling;if(w!==null){w.return=n.return,ne=w;break}ne=n.return}}var my=Math.ceil,sl=Se.ReactCurrentDispatcher,hc=Se.ReactCurrentOwner,fn=Se.ReactCurrentBatchConfig,ke=0,vt=null,it=null,It=0,nn=0,ws=Ar(0),ft=0,Mo=null,Ei=0,ol=0,fc=0,Fo=null,Qt=null,dc=0,Ts=1/0,cr=null,al=!1,pc=null,xr=null,ll=!1,Dr=null,ul=0,Uo=0,mc=null,cl=-1,hl=0;function zt(){return(ke&6)!==0?ze():cl!==-1?cl:cl=ze()}function Or(t){return(t.mode&1)===0?1:(ke&2)!==0&&It!==0?It&-It:Jg.transition!==null?(hl===0&&(hl=li()),hl):(t=Ee,t!==0||(t=window.event,t=t===void 0?16:ho(t.type)),t)}function kn(t,n,i,u){if(50<Uo)throw Uo=0,mc=null,Error(r(185));vr(t,i,u),((ke&2)===0||t!==vt)&&(t===vt&&((ke&2)===0&&(ol|=i),ft===4&&Lr(t,It)),Kt(t,u),i===1&&ke===0&&(n.mode&1)===0&&(Ts=ze()+500,za&&Pr()))}function Kt(t,n){var i=t.callbackNode;Jn(t,n);var u=ai(t,t===vt?It:0);if(u===0)i!==null&&oo(i),t.callbackNode=null,t.callbackPriority=0;else if(n=u&-u,t.callbackPriority!==n){if(i!=null&&oo(i),n===1)t.tag===0?Yg(xd.bind(null,t)):yf(xd.bind(null,t)),Kg(function(){(ke&6)===0&&Pr()}),i=null;else{switch(Er(u)){case 1:i=si;break;case 4:i=mr;break;case 16:i=sn;break;case 536870912:i=ha;break;default:i=sn}i=jd(i,Nd.bind(null,t))}t.callbackPriority=n,t.callbackNode=i}}function Nd(t,n){if(cl=-1,hl=0,(ke&6)!==0)throw Error(r(327));var i=t.callbackNode;if(Ss()&&t.callbackNode!==i)return null;var u=ai(t,t===vt?It:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||n)n=fl(t,u);else{n=u;var h=ke;ke|=2;var d=Od();(vt!==t||It!==n)&&(cr=null,Ts=ze()+500,Ti(t,n));do try{vy();break}catch(w){Dd(t,w)}while(!0);Du(),sl.current=d,ke=h,it!==null?n=0:(vt=null,It=0,n=ft)}if(n!==0){if(n===2&&(h=Yt(t),h!==0&&(u=h,n=gc(t,h))),n===1)throw i=Mo,Ti(t,0),Lr(t,u),Kt(t,ze()),i;if(n===6)Lr(t,u);else{if(h=t.current.alternate,(u&30)===0&&!gy(h)&&(n=fl(t,u),n===2&&(d=Yt(t),d!==0&&(u=d,n=gc(t,d))),n===1))throw i=Mo,Ti(t,0),Lr(t,u),Kt(t,ze()),i;switch(t.finishedWork=h,t.finishedLanes=u,n){case 0:case 1:throw Error(r(345));case 2:Si(t,Qt,cr);break;case 3:if(Lr(t,u),(u&130023424)===u&&(n=dc+500-ze(),10<n)){if(ai(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){zt(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=Tu(Si.bind(null,t,Qt,cr),n);break}Si(t,Qt,cr);break;case 4:if(Lr(t,u),(u&4194240)===u)break;for(n=t.eventTimes,h=-1;0<u;){var y=31-Mt(u);d=1<<y,y=n[y],y>h&&(h=y),u&=~d}if(u=h,u=ze()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*my(u/1960))-u,10<u){t.timeoutHandle=Tu(Si.bind(null,t,Qt,cr),u);break}Si(t,Qt,cr);break;case 5:Si(t,Qt,cr);break;default:throw Error(r(329))}}}return Kt(t,ze()),t.callbackNode===i?Nd.bind(null,t):null}function gc(t,n){var i=Fo;return t.current.memoizedState.isDehydrated&&(Ti(t,n).flags|=256),t=fl(t,n),t!==2&&(n=Qt,Qt=i,n!==null&&yc(n)),t}function yc(t){Qt===null?Qt=t:Qt.push.apply(Qt,t)}function gy(t){for(var n=t;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var u=0;u<i.length;u++){var h=i[u],d=h.getSnapshot;h=h.value;try{if(!In(d(),h))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Lr(t,n){for(n&=~fc,n&=~ol,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var i=31-Mt(n),u=1<<i;t[i]=-1,n&=~u}}function xd(t){if((ke&6)!==0)throw Error(r(327));Ss();var n=ai(t,0);if((n&1)===0)return Kt(t,ze()),null;var i=fl(t,n);if(t.tag!==0&&i===2){var u=Yt(t);u!==0&&(n=u,i=gc(t,u))}if(i===1)throw i=Mo,Ti(t,0),Lr(t,n),Kt(t,ze()),i;if(i===6)throw Error(r(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,Si(t,Qt,cr),Kt(t,ze()),null}function vc(t,n){var i=ke;ke|=1;try{return t(n)}finally{ke=i,ke===0&&(Ts=ze()+500,za&&Pr())}}function wi(t){Dr!==null&&Dr.tag===0&&(ke&6)===0&&Ss();var n=ke;ke|=1;var i=fn.transition,u=Ee;try{if(fn.transition=null,Ee=1,t)return t()}finally{Ee=u,fn.transition=i,ke=n,(ke&6)===0&&Pr()}}function _c(){nn=ws.current,$e(ws)}function Ti(t,n){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(i!==-1&&(t.timeoutHandle=-1,Qg(i)),it!==null)for(i=it.return;i!==null;){var u=i;switch(Pu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Fa();break;case 3:vs(),$e($t),$e(kt),Bu();break;case 5:zu(u);break;case 4:vs();break;case 13:$e(Qe);break;case 19:$e(Qe);break;case 10:Ou(u.type._context);break;case 22:case 23:_c()}i=i.return}if(vt=t,it=t=Mr(t.current,null),It=nn=n,ft=0,Mo=null,fc=ol=Ei=0,Qt=Fo=null,yi!==null){for(n=0;n<yi.length;n++)if(i=yi[n],u=i.interleaved,u!==null){i.interleaved=null;var h=u.next,d=i.pending;if(d!==null){var y=d.next;d.next=h,u.next=y}i.pending=u}yi=null}return t}function Dd(t,n){do{var i=it;try{if(Du(),Ga.current=Za,Xa){for(var u=Ke.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}Xa=!1}if(_i=0,yt=ht=Ke=null,Vo=!1,No=0,hc.current=null,i===null||i.return===null){ft=1,Mo=n,it=null;break}e:{var d=t,y=i.return,w=i,C=n;if(n=It,w.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var U=C,$=w,q=$.tag;if(($.mode&1)===0&&(q===0||q===11||q===15)){var b=$.alternate;b?($.updateQueue=b.updateQueue,$.memoizedState=b.memoizedState,$.lanes=b.lanes):($.updateQueue=null,$.memoizedState=null)}var J=id(y);if(J!==null){J.flags&=-257,sd(J,y,w,d,n),J.mode&1&&rd(d,U,n),n=J,C=U;var re=n.updateQueue;if(re===null){var ie=new Set;ie.add(C),n.updateQueue=ie}else re.add(C);break e}else{if((n&1)===0){rd(d,U,n),Ec();break e}C=Error(r(426))}}else if(He&&w.mode&1){var et=id(y);if(et!==null){(et.flags&65536)===0&&(et.flags|=256),sd(et,y,w,d,n),Nu(_s(C,w));break e}}d=C=_s(C,w),ft!==4&&(ft=2),Fo===null?Fo=[d]:Fo.push(d),d=y;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var O=td(d,C,n);Pf(d,O);break e;case 1:w=C;var R=d.type,F=d.stateNode;if((d.flags&128)===0&&(typeof R.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(xr===null||!xr.has(F)))){d.flags|=65536,n&=-n,d.lanes|=n;var Q=nd(d,w,n);Pf(d,Q);break e}}d=d.return}while(d!==null)}Md(i)}catch(se){n=se,it===i&&i!==null&&(it=i=i.return);continue}break}while(!0)}function Od(){var t=sl.current;return sl.current=Za,t===null?Za:t}function Ec(){(ft===0||ft===3||ft===2)&&(ft=4),vt===null||(Ei&268435455)===0&&(ol&268435455)===0||Lr(vt,It)}function fl(t,n){var i=ke;ke|=2;var u=Od();(vt!==t||It!==n)&&(cr=null,Ti(t,n));do try{yy();break}catch(h){Dd(t,h)}while(!0);if(Du(),ke=i,sl.current=u,it!==null)throw Error(r(261));return vt=null,It=0,ft}function yy(){for(;it!==null;)Ld(it)}function vy(){for(;it!==null&&!ua();)Ld(it)}function Ld(t){var n=zd(t.alternate,t,nn);t.memoizedProps=t.pendingProps,n===null?Md(t):it=n,hc.current=null}function Md(t){var n=t;do{var i=n.alternate;if(t=n.return,(n.flags&32768)===0){if(i=cy(i,n,nn),i!==null){it=i;return}}else{if(i=hy(i,n),i!==null){i.flags&=32767,it=i;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ft=6,it=null;return}}if(n=n.sibling,n!==null){it=n;return}it=n=t}while(n!==null);ft===0&&(ft=5)}function Si(t,n,i){var u=Ee,h=fn.transition;try{fn.transition=null,Ee=1,_y(t,n,i,u)}finally{fn.transition=h,Ee=u}return null}function _y(t,n,i,u){do Ss();while(Dr!==null);if((ke&6)!==0)throw Error(r(327));i=t.finishedWork;var h=t.finishedLanes;if(i===null)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0;var d=i.lanes|i.childLanes;if(Fe(t,d),t===vt&&(it=vt=null,It=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||ll||(ll=!0,jd(sn,function(){return Ss(),null})),d=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||d){d=fn.transition,fn.transition=null;var y=Ee;Ee=1;var w=ke;ke|=4,hc.current=null,dy(t,i),Ad(i,t),zg(Eu),Tr=!!_u,Eu=_u=null,t.current=i,py(i),ru(),ke=w,Ee=y,fn.transition=d}else t.current=i;if(ll&&(ll=!1,Dr=t,ul=h),d=t.pendingLanes,d===0&&(xr=null),fa(i.stateNode),Kt(t,ze()),n!==null)for(u=t.onRecoverableError,i=0;i<n.length;i++)h=n[i],u(h.value,{componentStack:h.stack,digest:h.digest});if(al)throw al=!1,t=pc,pc=null,t;return(ul&1)!==0&&t.tag!==0&&Ss(),d=t.pendingLanes,(d&1)!==0?t===mc?Uo++:(Uo=0,mc=t):Uo=0,Pr(),null}function Ss(){if(Dr!==null){var t=Er(ul),n=fn.transition,i=Ee;try{if(fn.transition=null,Ee=16>t?16:t,Dr===null)var u=!1;else{if(t=Dr,Dr=null,ul=0,(ke&6)!==0)throw Error(r(331));var h=ke;for(ke|=4,ne=t.current;ne!==null;){var d=ne,y=d.child;if((ne.flags&16)!==0){var w=d.deletions;if(w!==null){for(var C=0;C<w.length;C++){var U=w[C];for(ne=U;ne!==null;){var $=ne;switch($.tag){case 0:case 11:case 15:Lo(8,$,d)}var q=$.child;if(q!==null)q.return=$,ne=q;else for(;ne!==null;){$=ne;var b=$.sibling,J=$.return;if(wd($),$===U){ne=null;break}if(b!==null){b.return=J,ne=b;break}ne=J}}}var re=d.alternate;if(re!==null){var ie=re.child;if(ie!==null){re.child=null;do{var et=ie.sibling;ie.sibling=null,ie=et}while(ie!==null)}}ne=d}}if((d.subtreeFlags&2064)!==0&&y!==null)y.return=d,ne=y;else e:for(;ne!==null;){if(d=ne,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:Lo(9,d,d.return)}var O=d.sibling;if(O!==null){O.return=d.return,ne=O;break e}ne=d.return}}var R=t.current;for(ne=R;ne!==null;){y=ne;var F=y.child;if((y.subtreeFlags&2064)!==0&&F!==null)F.return=y,ne=F;else e:for(y=R;ne!==null;){if(w=ne,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:il(9,w)}}catch(se){Ye(w,w.return,se)}if(w===y){ne=null;break e}var Q=w.sibling;if(Q!==null){Q.return=w.return,ne=Q;break e}ne=w.return}}if(ke=h,Pr(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(oi,t)}catch{}u=!0}return u}finally{Ee=i,fn.transition=n}}return!1}function Fd(t,n,i){n=_s(i,n),n=td(t,n,1),t=Vr(t,n,1),n=zt(),t!==null&&(vr(t,1,n),Kt(t,n))}function Ye(t,n,i){if(t.tag===3)Fd(t,t,i);else for(;n!==null;){if(n.tag===3){Fd(n,t,i);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(xr===null||!xr.has(u))){t=_s(i,t),t=nd(n,t,1),n=Vr(n,t,1),t=zt(),n!==null&&(vr(n,1,t),Kt(n,t));break}}n=n.return}}function Ey(t,n,i){var u=t.pingCache;u!==null&&u.delete(n),n=zt(),t.pingedLanes|=t.suspendedLanes&i,vt===t&&(It&i)===i&&(ft===4||ft===3&&(It&130023424)===It&&500>ze()-dc?Ti(t,0):fc|=i),Kt(t,n)}function Ud(t,n){n===0&&((t.mode&1)===0?n=1:(n=Qi,Qi<<=1,(Qi&130023424)===0&&(Qi=4194304)));var i=zt();t=ar(t,n),t!==null&&(vr(t,n,i),Kt(t,i))}function wy(t){var n=t.memoizedState,i=0;n!==null&&(i=n.retryLane),Ud(t,i)}function Ty(t,n){var i=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(i=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(r(314))}u!==null&&u.delete(n),Ud(t,i)}var zd;zd=function(t,n,i){if(t!==null)if(t.memoizedProps!==n.pendingProps||$t.current)Ht=!0;else{if((t.lanes&i)===0&&(n.flags&128)===0)return Ht=!1,uy(t,n,i);Ht=(t.flags&131072)!==0}else Ht=!1,He&&(n.flags&1048576)!==0&&vf(n,Ba,n.index);switch(n.lanes=0,n.tag){case 2:var u=n.type;nl(t,n),t=n.pendingProps;var h=hs(n,kt.current);ys(n,i),h=qu(null,n,u,t,h,i);var d=Hu();return n.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,qt(u)?(d=!0,Ua(n)):d=!1,n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Fu(n),h.updater=el,n.stateNode=h,h._reactInternals=n,Yu(n,u,t,i),n=tc(null,n,u,!0,d,i)):(n.tag=0,He&&d&&Ru(n),Ut(null,n,h,i),n=n.child),n;case 16:u=n.elementType;e:{switch(nl(t,n),t=n.pendingProps,h=u._init,u=h(u._payload),n.type=u,h=n.tag=Iy(u),t=An(u,t),h){case 0:n=ec(null,n,u,t,i);break e;case 1:n=hd(null,n,u,t,i);break e;case 11:n=od(null,n,u,t,i);break e;case 14:n=ad(null,n,u,An(u.type,t),i);break e}throw Error(r(306,u,""))}return n;case 0:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:An(u,h),ec(t,n,u,h,i);case 1:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:An(u,h),hd(t,n,u,h,i);case 3:e:{if(fd(n),t===null)throw Error(r(387));u=n.pendingProps,d=n.memoizedState,h=d.element,Rf(t,n),Ka(n,u,null,i);var y=n.memoizedState;if(u=y.element,d.isDehydrated)if(d={element:u,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){h=_s(Error(r(423)),n),n=dd(t,n,u,i,h);break e}else if(u!==h){h=_s(Error(r(424)),n),n=dd(t,n,u,i,h);break e}else for(tn=Cr(n.stateNode.containerInfo.firstChild),en=n,He=!0,Cn=null,i=Cf(n,null,u,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(ps(),u===h){n=ur(t,n,i);break e}Ut(t,n,u,i)}n=n.child}return n;case 5:return Vf(n),t===null&&Vu(n),u=n.type,h=n.pendingProps,d=t!==null?t.memoizedProps:null,y=h.children,wu(u,h)?y=null:d!==null&&wu(u,d)&&(n.flags|=32),cd(t,n),Ut(t,n,y,i),n.child;case 6:return t===null&&Vu(n),null;case 13:return pd(t,n,i);case 4:return Uu(n,n.stateNode.containerInfo),u=n.pendingProps,t===null?n.child=ms(n,null,u,i):Ut(t,n,u,i),n.child;case 11:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:An(u,h),od(t,n,u,h,i);case 7:return Ut(t,n,n.pendingProps,i),n.child;case 8:return Ut(t,n,n.pendingProps.children,i),n.child;case 12:return Ut(t,n,n.pendingProps.children,i),n.child;case 10:e:{if(u=n.type._context,h=n.pendingProps,d=n.memoizedProps,y=h.value,je(qa,u._currentValue),u._currentValue=y,d!==null)if(In(d.value,y)){if(d.children===h.children&&!$t.current){n=ur(t,n,i);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var w=d.dependencies;if(w!==null){y=d.child;for(var C=w.firstContext;C!==null;){if(C.context===u){if(d.tag===1){C=lr(-1,i&-i),C.tag=2;var U=d.updateQueue;if(U!==null){U=U.shared;var $=U.pending;$===null?C.next=C:(C.next=$.next,$.next=C),U.pending=C}}d.lanes|=i,C=d.alternate,C!==null&&(C.lanes|=i),Lu(d.return,i,n),w.lanes|=i;break}C=C.next}}else if(d.tag===10)y=d.type===n.type?null:d.child;else if(d.tag===18){if(y=d.return,y===null)throw Error(r(341));y.lanes|=i,w=y.alternate,w!==null&&(w.lanes|=i),Lu(y,i,n),y=d.sibling}else y=d.child;if(y!==null)y.return=d;else for(y=d;y!==null;){if(y===n){y=null;break}if(d=y.sibling,d!==null){d.return=y.return,y=d;break}y=y.return}d=y}Ut(t,n,h.children,i),n=n.child}return n;case 9:return h=n.type,u=n.pendingProps.children,ys(n,i),h=cn(h),u=u(h),n.flags|=1,Ut(t,n,u,i),n.child;case 14:return u=n.type,h=An(u,n.pendingProps),h=An(u.type,h),ad(t,n,u,h,i);case 15:return ld(t,n,n.type,n.pendingProps,i);case 17:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:An(u,h),nl(t,n),n.tag=1,qt(u)?(t=!0,Ua(n)):t=!1,ys(n,i),Zf(n,u,h),Yu(n,u,h,i),tc(null,n,u,!0,t,i);case 19:return gd(t,n,i);case 22:return ud(t,n,i)}throw Error(r(156,n.tag))};function jd(t,n){return qi(t,n)}function Sy(t,n,i,u){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,n,i,u){return new Sy(t,n,i,u)}function wc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Iy(t){if(typeof t=="function")return wc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===x)return 11;if(t===Rt)return 14}return 2}function Mr(t,n){var i=t.alternate;return i===null?(i=dn(t.tag,n,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=n,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&14680064,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,n=t.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function dl(t,n,i,u,h,d){var y=2;if(u=t,typeof t=="function")wc(t)&&(y=1);else if(typeof t=="string")y=5;else e:switch(t){case k:return Ii(i.children,h,d,n);case T:y=8,h|=8;break;case I:return t=dn(12,i,n,h|2),t.elementType=I,t.lanes=d,t;case S:return t=dn(13,i,n,h),t.elementType=S,t.lanes=d,t;case Je:return t=dn(19,i,n,h),t.elementType=Je,t.lanes=d,t;case Me:return pl(i,h,d,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P:y=10;break e;case V:y=9;break e;case x:y=11;break e;case Rt:y=14;break e;case Pt:y=16,u=null;break e}throw Error(r(130,t==null?t:typeof t,""))}return n=dn(y,i,n,h),n.elementType=t,n.type=u,n.lanes=d,n}function Ii(t,n,i,u){return t=dn(7,t,u,n),t.lanes=i,t}function pl(t,n,i,u){return t=dn(22,t,u,n),t.elementType=Me,t.lanes=i,t.stateNode={isHidden:!1},t}function Tc(t,n,i){return t=dn(6,t,null,n),t.lanes=i,t}function Sc(t,n,i){return n=dn(4,t.children!==null?t.children:[],t.key,n),n.lanes=i,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Cy(t,n,i,u,h){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yr(0),this.expirationTimes=yr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yr(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Ic(t,n,i,u,h,d,y,w,C){return t=new Cy(t,n,i,w,C),n===1?(n=1,d===!0&&(n|=8)):n=0,d=dn(3,null,null,n),t.current=d,d.stateNode=t,d.memoizedState={element:u,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fu(d),t}function Ay(t,n,i){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ne,key:u==null?null:""+u,children:t,containerInfo:n,implementation:i}}function Bd(t){if(!t)return Rr;t=t._reactInternals;e:{if(yn(t)!==t||t.tag!==1)throw Error(r(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(qt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(t.tag===1){var i=t.type;if(qt(i))return mf(t,i,n)}return n}function bd(t,n,i,u,h,d,y,w,C){return t=Ic(i,u,!0,t,h,d,y,w,C),t.context=Bd(null),i=t.current,u=zt(),h=Or(i),d=lr(u,h),d.callback=n??null,Vr(i,d,h),t.current.lanes=h,vr(t,h,u),Kt(t,u),t}function ml(t,n,i,u){var h=n.current,d=zt(),y=Or(h);return i=Bd(i),n.context===null?n.context=i:n.pendingContext=i,n=lr(d,y),n.payload={element:t},u=u===void 0?null:u,u!==null&&(n.callback=u),t=Vr(h,n,y),t!==null&&(kn(t,h,y,d),Qa(t,h,y)),y}function gl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $d(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<n?i:n}}function Cc(t,n){$d(t,n),(t=t.alternate)&&$d(t,n)}function Ry(){return null}var qd=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ac(t){this._internalRoot=t}yl.prototype.render=Ac.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));ml(t,n,null,null)},yl.prototype.unmount=Ac.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;wi(function(){ml(null,t,null,null)}),n[rr]=null}};function yl(t){this._internalRoot=t}yl.prototype.unstable_scheduleHydration=function(t){if(t){var n=ya();t={blockedOn:null,target:t,priority:n};for(var i=0;i<Dn.length&&n!==0&&n<Dn[i].priority;i++);Dn.splice(i,0,t),i===0&&Ea(t)}};function Rc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Hd(){}function Py(t,n,i,u,h){if(h){if(typeof u=="function"){var d=u;u=function(){var U=gl(y);d.call(U)}}var y=bd(n,u,t,0,null,!1,!1,"",Hd);return t._reactRootContainer=y,t[rr]=y.current,To(t.nodeType===8?t.parentNode:t),wi(),y}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var w=u;u=function(){var U=gl(C);w.call(U)}}var C=Ic(t,0,!1,null,null,!1,!1,"",Hd);return t._reactRootContainer=C,t[rr]=C.current,To(t.nodeType===8?t.parentNode:t),wi(function(){ml(n,C,i,u)}),C}function _l(t,n,i,u,h){var d=i._reactRootContainer;if(d){var y=d;if(typeof h=="function"){var w=h;h=function(){var C=gl(y);w.call(C)}}ml(n,y,t,h)}else y=Py(i,n,t,h,u);return gl(y)}ma=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var i=gr(n.pendingLanes);i!==0&&(_r(n,i|1),Kt(n,ze()),(ke&6)===0&&(Ts=ze()+500,Pr()))}break;case 13:wi(function(){var u=ar(t,1);if(u!==null){var h=zt();kn(u,t,1,h)}}),Cc(t,1)}},Ki=function(t){if(t.tag===13){var n=ar(t,134217728);if(n!==null){var i=zt();kn(n,t,134217728,i)}Cc(t,134217728)}},ga=function(t){if(t.tag===13){var n=Or(t),i=ar(t,n);if(i!==null){var u=zt();kn(i,t,n,u)}Cc(t,n)}},ya=function(){return Ee},va=function(t,n){var i=Ee;try{return Ee=t,n()}finally{Ee=i}},Ui=function(t,n,i){switch(n){case"input":if(Qs(t,i),n=i.name,i.type==="radio"&&n!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var u=i[n];if(u!==t&&u.form===t.form){var h=Ma(u);if(!h)throw Error(r(90));xi(u),Qs(u,h)}}}break;case"textarea":Mi(t,i);break;case"select":n=i.value,n!=null&&Gn(t,!!i.multiple,n,!1)}},ti=vc,no=wi;var ky={usingClientEntryPoint:!1,Events:[Co,us,Ma,Nn,to,vc]},zo={findFiberByHostInstance:di,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Vy={bundleType:zo.bundleType,version:zo.version,rendererPackageName:zo.rendererPackageName,rendererConfig:zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Se.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=so(t),t===null?null:t.stateNode},findFiberByHostInstance:zo.findFiberByHostInstance||Ry,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var El=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!El.isDisabled&&El.supportsFiber)try{oi=El.inject(Vy),Xt=El}catch{}}return Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ky,Wt.createPortal=function(t,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rc(n))throw Error(r(200));return Ay(t,n,null,i)},Wt.createRoot=function(t,n){if(!Rc(t))throw Error(r(299));var i=!1,u="",h=qd;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),n=Ic(t,1,!1,null,null,i,!1,u,h),t[rr]=n.current,To(t.nodeType===8?t.parentNode:t),new Ac(n)},Wt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=so(n),t=t===null?null:t.stateNode,t},Wt.flushSync=function(t){return wi(t)},Wt.hydrate=function(t,n,i){if(!vl(n))throw Error(r(200));return _l(null,t,n,!0,i)},Wt.hydrateRoot=function(t,n,i){if(!Rc(t))throw Error(r(405));var u=i!=null&&i.hydratedSources||null,h=!1,d="",y=qd;if(i!=null&&(i.unstable_strictMode===!0&&(h=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),n=bd(n,null,t,1,i??null,h,!1,d,y),t[rr]=n.current,To(t),u)for(t=0;t<u.length;t++)i=u[t],h=i._getVersion,h=h(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,h]:n.mutableSourceEagerHydrationData.push(i,h);return new yl(n)},Wt.render=function(t,n,i){if(!vl(n))throw Error(r(200));return _l(null,t,n,!1,i)},Wt.unmountComponentAtNode=function(t){if(!vl(t))throw Error(r(40));return t._reactRootContainer?(wi(function(){_l(null,null,t,!1,function(){t._reactRootContainer=null,t[rr]=null})}),!0):!1},Wt.unstable_batchedUpdates=vc,Wt.unstable_renderSubtreeIntoContainer=function(t,n,i,u){if(!vl(i))throw Error(r(200));if(t==null||t._reactInternals===void 0)throw Error(r(38));return _l(t,n,i,!1,u)},Wt.version="18.3.1-next-f1338f8080-20240426",Wt}var Zd;function zy(){if(Zd)return Vc.exports;Zd=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Vc.exports=Uy(),Vc.exports}var ep;function jy(){if(ep)return wl;ep=1;var s=zy();return wl.createRoot=s.createRoot,wl.hydrateRoot=s.hydrateRoot,wl}var By=jy();const by=um(By),$y=()=>{};var tp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm=function(s){const e=[];let r=0;for(let o=0;o<s.length;o++){let l=s.charCodeAt(o);l<128?e[r++]=l:l<2048?(e[r++]=l>>6|192,e[r++]=l&63|128):(l&64512)===55296&&o+1<s.length&&(s.charCodeAt(o+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++o)&1023),e[r++]=l>>18|240,e[r++]=l>>12&63|128,e[r++]=l>>6&63|128,e[r++]=l&63|128):(e[r++]=l>>12|224,e[r++]=l>>6&63|128,e[r++]=l&63|128)}return e},qy=function(s){const e=[];let r=0,o=0;for(;r<s.length;){const l=s[r++];if(l<128)e[o++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[r++];e[o++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[r++],p=s[r++],g=s[r++],v=((l&7)<<18|(c&63)<<12|(p&63)<<6|g&63)-65536;e[o++]=String.fromCharCode(55296+(v>>10)),e[o++]=String.fromCharCode(56320+(v&1023))}else{const c=s[r++],p=s[r++];e[o++]=String.fromCharCode((l&15)<<12|(c&63)<<6|p&63)}}return e.join("")},hm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let l=0;l<s.length;l+=3){const c=s[l],p=l+1<s.length,g=p?s[l+1]:0,v=l+2<s.length,E=v?s[l+2]:0,A=c>>2,L=(c&3)<<4|g>>4;let M=(g&15)<<2|E>>6,H=E&63;v||(H=64,p||(M=64)),o.push(r[A],r[L],r[M],r[H])}return o.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(cm(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):qy(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let l=0;l<s.length;){const c=r[s.charAt(l++)],g=l<s.length?r[s.charAt(l)]:0;++l;const E=l<s.length?r[s.charAt(l)]:64;++l;const L=l<s.length?r[s.charAt(l)]:64;if(++l,c==null||g==null||E==null||L==null)throw new Hy;const M=c<<2|g>>4;if(o.push(M),E!==64){const H=g<<4&240|E>>2;if(o.push(H),L!==64){const Y=E<<6&192|L;o.push(Y)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Hy extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qy=function(s){const e=cm(s);return hm.encodeByteArray(e,!0)},Dl=function(s){return Qy(s).replace(/\./g,"")},Ky=function(s){try{return hm.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy=()=>Wy().__FIREBASE_DEFAULTS__,Xy=()=>{if(typeof process>"u"||typeof tp>"u")return;const s=tp.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Yy=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Ky(s[1]);return e&&JSON.parse(e)},mh=()=>{try{return $y()||Gy()||Xy()||Yy()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Jy=s=>mh()?.emulatorHosts?.[s],Zy=s=>{const e=Jy(s);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const o=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),o]:[e.substring(0,r),o]},fm=()=>mh()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,o))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tv(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${o}`,aud:o,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Dl(JSON.stringify(r)),Dl(JSON.stringify(p)),""].join(".")}const qo={};function rv(){const s={prod:[],emulator:[]};for(const e of Object.keys(qo))qo[e]?s.emulator.push(e):s.prod.push(e);return s}function iv(s){let e=document.getElementById(s),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),r=!0),{created:r,element:e}}let np=!1;function sv(s,e){if(typeof window>"u"||typeof document>"u"||!gh(window.location.host)||qo[s]===e||qo[s]||np)return;qo[s]=e;function r(M){return`__firebase__banner__${M}`}const o="__firebase__banner",c=rv().prod.length>0;function p(){const M=document.getElementById(o);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function v(M,H){M.setAttribute("width","24"),M.setAttribute("id",H),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function E(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{np=!0,p()},M}function A(M,H){M.setAttribute("id",H),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function L(){const M=iv(o),H=r("text"),Y=document.getElementById(H)||document.createElement("span"),Z=r("learnmore"),K=document.getElementById(Z)||document.createElement("a"),Te=r("preprendIcon"),ge=document.getElementById(Te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const me=M.element;g(me),A(K,Z);const Se=E();v(ge,Te),me.append(ge,Y,K,Se),document.body.appendChild(me)}c?(Y.innerText="Preview backend disconnected.",ge.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ge.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",L):L()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function av(){const s=mh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lv(){return!av()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uv(){try{return typeof indexedDB=="object"}catch{return!1}}function cv(){return new Promise((s,e)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(o);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(o),s(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="FirebaseError";class Bs extends Error{constructor(e,r,o){super(r),this.code=e,this.customData=o,this.name=hv,Object.setPrototypeOf(this,Bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dm.prototype.create)}}class dm{constructor(e,r,o){this.service=e,this.serviceName=r,this.errors=o}create(e,...r){const o=r[0]||{},l=`${this.service}/${e}`,c=this.errors[e],p=c?fv(c,o):"Error",g=`${this.serviceName}: ${p} (${l}).`;return new Bs(l,g,o)}}function fv(s,e){return s.replace(dv,(r,o)=>{const l=e[o];return l!=null?String(l):`<${o}?>`})}const dv=/\{\$([^}]+)}/g;function Ol(s,e){if(s===e)return!0;const r=Object.keys(s),o=Object.keys(e);for(const l of r){if(!o.includes(l))return!1;const c=s[l],p=e[l];if(rp(c)&&rp(p)){if(!Ol(c,p))return!1}else if(c!==p)return!1}for(const l of o)if(!r.includes(l))return!1;return!0}function rp(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(s){return s&&s._delegate?s._delegate:s}class Go{constructor(e,r,o){this.name=e,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const o=new ev;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&o.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e?.identifier),o=e?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yv(e))try{this.getOrInitializeService({instanceIdentifier:Ci})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:l});o.resolve(c)}catch{}}}}clearInstance(e=Ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ci){return this.instances.has(e)}getOptions(e=Ci){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[c,p]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);o===g&&p.resolve(l)}return l}onInit(e,r){const o=this.normalizeInstanceIdentifier(r),l=this.onInitCallbacks.get(o)??new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,r){const o=this.onInitCallbacks.get(r);if(o)for(const l of o)try{l(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:gv(e),options:r}),this.instances.set(e,o),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=Ci){return this.component?this.component.multipleInstances?e:Ci:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gv(s){return s===Ci?void 0:s}function yv(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new mv(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Re||(Re={}));const _v={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},Ev=Re.INFO,wv={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},Tv=(s,e,...r)=>{if(e<s.logLevel)return;const o=new Date().toISOString(),l=wv[e];if(l)console[l](`[${o}]  ${s.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pm{constructor(e){this.name=e,this._logLevel=Ev,this._logHandler=Tv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_v[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const Sv=(s,e)=>e.some(r=>s instanceof r);let ip,sp;function Iv(){return ip||(ip=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Cv(){return sp||(sp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mm=new WeakMap,qc=new WeakMap,gm=new WeakMap,Dc=new WeakMap,yh=new WeakMap;function Av(s){const e=new Promise((r,o)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",p)},c=()=>{r(jr(s.result)),l()},p=()=>{o(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",p)});return e.then(r=>{r instanceof IDBCursor&&mm.set(r,s)}).catch(()=>{}),yh.set(e,s),e}function Rv(s){if(qc.has(s))return;const e=new Promise((r,o)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",p),s.removeEventListener("abort",p)},c=()=>{r(),l()},p=()=>{o(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",p),s.addEventListener("abort",p)});qc.set(s,e)}let Hc={get(s,e,r){if(s instanceof IDBTransaction){if(e==="done")return qc.get(s);if(e==="objectStoreNames")return s.objectStoreNames||gm.get(s);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return jr(s[e])},set(s,e,r){return s[e]=r,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function Pv(s){Hc=s(Hc)}function kv(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const o=s.call(Oc(this),e,...r);return gm.set(o,e.sort?e.sort():[e]),jr(o)}:Cv().includes(s)?function(...e){return s.apply(Oc(this),e),jr(mm.get(this))}:function(...e){return jr(s.apply(Oc(this),e))}}function Vv(s){return typeof s=="function"?kv(s):(s instanceof IDBTransaction&&Rv(s),Sv(s,Iv())?new Proxy(s,Hc):s)}function jr(s){if(s instanceof IDBRequest)return Av(s);if(Dc.has(s))return Dc.get(s);const e=Vv(s);return e!==s&&(Dc.set(s,e),yh.set(e,s)),e}const Oc=s=>yh.get(s);function Nv(s,e,{blocked:r,upgrade:o,blocking:l,terminated:c}={}){const p=indexedDB.open(s,e),g=jr(p);return o&&p.addEventListener("upgradeneeded",v=>{o(jr(p.result),v.oldVersion,v.newVersion,jr(p.transaction),v)}),r&&p.addEventListener("blocked",v=>r(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),l&&v.addEventListener("versionchange",E=>l(E.oldVersion,E.newVersion,E))}).catch(()=>{}),g}const xv=["get","getKey","getAll","getAllKeys","count"],Dv=["put","add","delete","clear"],Lc=new Map;function op(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Lc.get(e))return Lc.get(e);const r=e.replace(/FromIndex$/,""),o=e!==r,l=Dv.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(l||xv.includes(r)))return;const c=async function(p,...g){const v=this.transaction(p,l?"readwrite":"readonly");let E=v.store;return o&&(E=E.index(g.shift())),(await Promise.all([E[r](...g),l&&v.done]))[0]};return Lc.set(e,c),c}Pv(s=>({...s,get:(e,r,o)=>op(e,r)||s.get(e,r,o),has:(e,r)=>!!op(e,r)||s.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Lv(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function Lv(s){return s.getComponent()?.type==="VERSION"}const Qc="@firebase/app",ap="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=new pm("@firebase/app"),Mv="@firebase/app-compat",Fv="@firebase/analytics-compat",Uv="@firebase/analytics",zv="@firebase/app-check-compat",jv="@firebase/app-check",Bv="@firebase/auth",bv="@firebase/auth-compat",$v="@firebase/database",qv="@firebase/data-connect",Hv="@firebase/database-compat",Qv="@firebase/functions",Kv="@firebase/functions-compat",Wv="@firebase/installations",Gv="@firebase/installations-compat",Xv="@firebase/messaging",Yv="@firebase/messaging-compat",Jv="@firebase/performance",Zv="@firebase/performance-compat",e_="@firebase/remote-config",t_="@firebase/remote-config-compat",n_="@firebase/storage",r_="@firebase/storage-compat",i_="@firebase/firestore",s_="@firebase/ai",o_="@firebase/firestore-compat",a_="firebase",l_="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc="[DEFAULT]",u_={[Qc]:"fire-core",[Mv]:"fire-core-compat",[Uv]:"fire-analytics",[Fv]:"fire-analytics-compat",[jv]:"fire-app-check",[zv]:"fire-app-check-compat",[Bv]:"fire-auth",[bv]:"fire-auth-compat",[$v]:"fire-rtdb",[qv]:"fire-data-connect",[Hv]:"fire-rtdb-compat",[Qv]:"fire-fn",[Kv]:"fire-fn-compat",[Wv]:"fire-iid",[Gv]:"fire-iid-compat",[Xv]:"fire-fcm",[Yv]:"fire-fcm-compat",[Jv]:"fire-perf",[Zv]:"fire-perf-compat",[e_]:"fire-rc",[t_]:"fire-rc-compat",[n_]:"fire-gcs",[r_]:"fire-gcs-compat",[i_]:"fire-fst",[o_]:"fire-fst-compat",[s_]:"fire-vertex","fire-js":"fire-js",[a_]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=new Map,c_=new Map,Wc=new Map;function lp(s,e){try{s.container.addComponent(e)}catch(r){hr.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,r)}}function Ml(s){const e=s.name;if(Wc.has(e))return hr.debug(`There were multiple attempts to register component ${e}.`),!1;Wc.set(e,s);for(const r of Ll.values())lp(r,s);for(const r of c_.values())lp(r,s);return!0}function h_(s,e){const r=s.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),s.container.getProvider(e)}function f_(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Br=new dm("app","Firebase",d_);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,r,o){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Go("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=l_;function ym(s,e={}){let r=s;typeof e!="object"&&(e={name:e});const o={name:Kc,automaticDataCollectionEnabled:!0,...e},l=o.name;if(typeof l!="string"||!l)throw Br.create("bad-app-name",{appName:String(l)});if(r||(r=fm()),!r)throw Br.create("no-options");const c=Ll.get(l);if(c){if(Ol(r,c.options)&&Ol(o,c.config))return c;throw Br.create("duplicate-app",{appName:l})}const p=new vv(l);for(const v of Wc.values())p.addComponent(v);const g=new p_(r,o,p);return Ll.set(l,g),g}function g_(s=Kc){const e=Ll.get(s);if(!e&&s===Kc&&fm())return ym();if(!e)throw Br.create("no-app",{appName:s});return e}function Ps(s,e,r){let o=u_[s]??s;r&&(o+=`-${r}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const p=[`Unable to register library "${o}" with version "${e}":`];l&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&p.push("and"),c&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hr.warn(p.join(" "));return}Ml(new Go(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="firebase-heartbeat-database",v_=1,Xo="firebase-heartbeat-store";let Mc=null;function vm(){return Mc||(Mc=Nv(y_,v_,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Xo)}catch(r){console.warn(r)}}}}).catch(s=>{throw Br.create("idb-open",{originalErrorMessage:s.message})})),Mc}async function __(s){try{const r=(await vm()).transaction(Xo),o=await r.objectStore(Xo).get(_m(s));return await r.done,o}catch(e){if(e instanceof Bs)hr.warn(e.message);else{const r=Br.create("idb-get",{originalErrorMessage:e?.message});hr.warn(r.message)}}}async function up(s,e){try{const o=(await vm()).transaction(Xo,"readwrite");await o.objectStore(Xo).put(e,_m(s)),await o.done}catch(r){if(r instanceof Bs)hr.warn(r.message);else{const o=Br.create("idb-set",{originalErrorMessage:r?.message});hr.warn(o.message)}}}function _m(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=1024,w_=30;class T_{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new I_(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=cp();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>w_){const l=C_(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){hr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=cp(),{heartbeatsToSend:r,unsentEntries:o}=S_(this._heartbeatsCache.heartbeats),l=Dl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return hr.warn(e),""}}}function cp(){return new Date().toISOString().substring(0,10)}function S_(s,e=E_){const r=[];let o=s.slice();for(const l of s){const c=r.find(p=>p.agent===l.agent);if(c){if(c.dates.push(l.date),hp(r)>e){c.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),hp(r)>e){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class I_{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uv()?cv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await __(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const o=await this.read();return up(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const o=await this.read();return up(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function hp(s){return Dl(JSON.stringify({version:2,heartbeats:s})).length}function C_(s){if(s.length===0)return-1;let e=0,r=s[0].date;for(let o=1;o<s.length;o++)s[o].date<r&&(r=s[o].date,e=o);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(s){Ml(new Go("platform-logger",e=>new Ov(e),"PRIVATE")),Ml(new Go("heartbeat",e=>new T_(e),"PRIVATE")),Ps(Qc,ap,s),Ps(Qc,ap,"esm2020"),Ps("fire-js","")}A_("");var R_="firebase",P_="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ps(R_,P_,"app");var fp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var br,Em;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,T){function I(){}I.prototype=T.prototype,k.D=T.prototype,k.prototype=new I,k.prototype.constructor=k,k.C=function(P,V,x){for(var S=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)S[Je-2]=arguments[Je];return T.prototype[V].apply(P,S)}}function r(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(o,r),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(k,T,I){I||(I=0);var P=Array(16);if(typeof T=="string")for(var V=0;16>V;++V)P[V]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(V=0;16>V;++V)P[V]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=k.g[0],I=k.g[1],V=k.g[2];var x=k.g[3],S=T+(x^I&(V^x))+P[0]+3614090360&4294967295;T=I+(S<<7&4294967295|S>>>25),S=x+(V^T&(I^V))+P[1]+3905402710&4294967295,x=T+(S<<12&4294967295|S>>>20),S=V+(I^x&(T^I))+P[2]+606105819&4294967295,V=x+(S<<17&4294967295|S>>>15),S=I+(T^V&(x^T))+P[3]+3250441966&4294967295,I=V+(S<<22&4294967295|S>>>10),S=T+(x^I&(V^x))+P[4]+4118548399&4294967295,T=I+(S<<7&4294967295|S>>>25),S=x+(V^T&(I^V))+P[5]+1200080426&4294967295,x=T+(S<<12&4294967295|S>>>20),S=V+(I^x&(T^I))+P[6]+2821735955&4294967295,V=x+(S<<17&4294967295|S>>>15),S=I+(T^V&(x^T))+P[7]+4249261313&4294967295,I=V+(S<<22&4294967295|S>>>10),S=T+(x^I&(V^x))+P[8]+1770035416&4294967295,T=I+(S<<7&4294967295|S>>>25),S=x+(V^T&(I^V))+P[9]+2336552879&4294967295,x=T+(S<<12&4294967295|S>>>20),S=V+(I^x&(T^I))+P[10]+4294925233&4294967295,V=x+(S<<17&4294967295|S>>>15),S=I+(T^V&(x^T))+P[11]+2304563134&4294967295,I=V+(S<<22&4294967295|S>>>10),S=T+(x^I&(V^x))+P[12]+1804603682&4294967295,T=I+(S<<7&4294967295|S>>>25),S=x+(V^T&(I^V))+P[13]+4254626195&4294967295,x=T+(S<<12&4294967295|S>>>20),S=V+(I^x&(T^I))+P[14]+2792965006&4294967295,V=x+(S<<17&4294967295|S>>>15),S=I+(T^V&(x^T))+P[15]+1236535329&4294967295,I=V+(S<<22&4294967295|S>>>10),S=T+(V^x&(I^V))+P[1]+4129170786&4294967295,T=I+(S<<5&4294967295|S>>>27),S=x+(I^V&(T^I))+P[6]+3225465664&4294967295,x=T+(S<<9&4294967295|S>>>23),S=V+(T^I&(x^T))+P[11]+643717713&4294967295,V=x+(S<<14&4294967295|S>>>18),S=I+(x^T&(V^x))+P[0]+3921069994&4294967295,I=V+(S<<20&4294967295|S>>>12),S=T+(V^x&(I^V))+P[5]+3593408605&4294967295,T=I+(S<<5&4294967295|S>>>27),S=x+(I^V&(T^I))+P[10]+38016083&4294967295,x=T+(S<<9&4294967295|S>>>23),S=V+(T^I&(x^T))+P[15]+3634488961&4294967295,V=x+(S<<14&4294967295|S>>>18),S=I+(x^T&(V^x))+P[4]+3889429448&4294967295,I=V+(S<<20&4294967295|S>>>12),S=T+(V^x&(I^V))+P[9]+568446438&4294967295,T=I+(S<<5&4294967295|S>>>27),S=x+(I^V&(T^I))+P[14]+3275163606&4294967295,x=T+(S<<9&4294967295|S>>>23),S=V+(T^I&(x^T))+P[3]+4107603335&4294967295,V=x+(S<<14&4294967295|S>>>18),S=I+(x^T&(V^x))+P[8]+1163531501&4294967295,I=V+(S<<20&4294967295|S>>>12),S=T+(V^x&(I^V))+P[13]+2850285829&4294967295,T=I+(S<<5&4294967295|S>>>27),S=x+(I^V&(T^I))+P[2]+4243563512&4294967295,x=T+(S<<9&4294967295|S>>>23),S=V+(T^I&(x^T))+P[7]+1735328473&4294967295,V=x+(S<<14&4294967295|S>>>18),S=I+(x^T&(V^x))+P[12]+2368359562&4294967295,I=V+(S<<20&4294967295|S>>>12),S=T+(I^V^x)+P[5]+4294588738&4294967295,T=I+(S<<4&4294967295|S>>>28),S=x+(T^I^V)+P[8]+2272392833&4294967295,x=T+(S<<11&4294967295|S>>>21),S=V+(x^T^I)+P[11]+1839030562&4294967295,V=x+(S<<16&4294967295|S>>>16),S=I+(V^x^T)+P[14]+4259657740&4294967295,I=V+(S<<23&4294967295|S>>>9),S=T+(I^V^x)+P[1]+2763975236&4294967295,T=I+(S<<4&4294967295|S>>>28),S=x+(T^I^V)+P[4]+1272893353&4294967295,x=T+(S<<11&4294967295|S>>>21),S=V+(x^T^I)+P[7]+4139469664&4294967295,V=x+(S<<16&4294967295|S>>>16),S=I+(V^x^T)+P[10]+3200236656&4294967295,I=V+(S<<23&4294967295|S>>>9),S=T+(I^V^x)+P[13]+681279174&4294967295,T=I+(S<<4&4294967295|S>>>28),S=x+(T^I^V)+P[0]+3936430074&4294967295,x=T+(S<<11&4294967295|S>>>21),S=V+(x^T^I)+P[3]+3572445317&4294967295,V=x+(S<<16&4294967295|S>>>16),S=I+(V^x^T)+P[6]+76029189&4294967295,I=V+(S<<23&4294967295|S>>>9),S=T+(I^V^x)+P[9]+3654602809&4294967295,T=I+(S<<4&4294967295|S>>>28),S=x+(T^I^V)+P[12]+3873151461&4294967295,x=T+(S<<11&4294967295|S>>>21),S=V+(x^T^I)+P[15]+530742520&4294967295,V=x+(S<<16&4294967295|S>>>16),S=I+(V^x^T)+P[2]+3299628645&4294967295,I=V+(S<<23&4294967295|S>>>9),S=T+(V^(I|~x))+P[0]+4096336452&4294967295,T=I+(S<<6&4294967295|S>>>26),S=x+(I^(T|~V))+P[7]+1126891415&4294967295,x=T+(S<<10&4294967295|S>>>22),S=V+(T^(x|~I))+P[14]+2878612391&4294967295,V=x+(S<<15&4294967295|S>>>17),S=I+(x^(V|~T))+P[5]+4237533241&4294967295,I=V+(S<<21&4294967295|S>>>11),S=T+(V^(I|~x))+P[12]+1700485571&4294967295,T=I+(S<<6&4294967295|S>>>26),S=x+(I^(T|~V))+P[3]+2399980690&4294967295,x=T+(S<<10&4294967295|S>>>22),S=V+(T^(x|~I))+P[10]+4293915773&4294967295,V=x+(S<<15&4294967295|S>>>17),S=I+(x^(V|~T))+P[1]+2240044497&4294967295,I=V+(S<<21&4294967295|S>>>11),S=T+(V^(I|~x))+P[8]+1873313359&4294967295,T=I+(S<<6&4294967295|S>>>26),S=x+(I^(T|~V))+P[15]+4264355552&4294967295,x=T+(S<<10&4294967295|S>>>22),S=V+(T^(x|~I))+P[6]+2734768916&4294967295,V=x+(S<<15&4294967295|S>>>17),S=I+(x^(V|~T))+P[13]+1309151649&4294967295,I=V+(S<<21&4294967295|S>>>11),S=T+(V^(I|~x))+P[4]+4149444226&4294967295,T=I+(S<<6&4294967295|S>>>26),S=x+(I^(T|~V))+P[11]+3174756917&4294967295,x=T+(S<<10&4294967295|S>>>22),S=V+(T^(x|~I))+P[2]+718787259&4294967295,V=x+(S<<15&4294967295|S>>>17),S=I+(x^(V|~T))+P[9]+3951481745&4294967295,k.g[0]=k.g[0]+T&4294967295,k.g[1]=k.g[1]+(V+(S<<21&4294967295|S>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+x&4294967295}o.prototype.u=function(k,T){T===void 0&&(T=k.length);for(var I=T-this.blockSize,P=this.B,V=this.h,x=0;x<T;){if(V==0)for(;x<=I;)l(this,k,x),x+=this.blockSize;if(typeof k=="string"){for(;x<T;)if(P[V++]=k.charCodeAt(x++),V==this.blockSize){l(this,P),V=0;break}}else for(;x<T;)if(P[V++]=k[x++],V==this.blockSize){l(this,P),V=0;break}}this.h=V,this.o+=T},o.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var T=1;T<k.length-8;++T)k[T]=0;var I=8*this.o;for(T=k.length-8;T<k.length;++T)k[T]=I&255,I/=256;for(this.u(k),k=Array(16),T=I=0;4>T;++T)for(var P=0;32>P;P+=8)k[I++]=this.g[T]>>>P&255;return k};function c(k,T){var I=g;return Object.prototype.hasOwnProperty.call(I,k)?I[k]:I[k]=T(k)}function p(k,T){this.h=T;for(var I=[],P=!0,V=k.length-1;0<=V;V--){var x=k[V]|0;P&&x==T||(I[V]=x,P=!1)}this.g=I}var g={};function v(k){return-128<=k&&128>k?c(k,function(T){return new p([T|0],0>T?-1:0)}):new p([k|0],0>k?-1:0)}function E(k){if(isNaN(k)||!isFinite(k))return L;if(0>k)return K(E(-k));for(var T=[],I=1,P=0;k>=I;P++)T[P]=k/I|0,I*=4294967296;return new p(T,0)}function A(k,T){if(k.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k.charAt(0)=="-")return K(A(k.substring(1),T));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=E(Math.pow(T,8)),P=L,V=0;V<k.length;V+=8){var x=Math.min(8,k.length-V),S=parseInt(k.substring(V,V+x),T);8>x?(x=E(Math.pow(T,x)),P=P.j(x).add(E(S))):(P=P.j(I),P=P.add(E(S)))}return P}var L=v(0),M=v(1),H=v(16777216);s=p.prototype,s.m=function(){if(Z(this))return-K(this).m();for(var k=0,T=1,I=0;I<this.g.length;I++){var P=this.i(I);k+=(0<=P?P:4294967296+P)*T,T*=4294967296}return k},s.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(Y(this))return"0";if(Z(this))return"-"+K(this).toString(k);for(var T=E(Math.pow(k,6)),I=this,P="";;){var V=Se(I,T).g;I=Te(I,V.j(T));var x=((0<I.g.length?I.g[0]:I.h)>>>0).toString(k);if(I=V,Y(I))return x+P;for(;6>x.length;)x="0"+x;P=x+P}},s.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function Y(k){if(k.h!=0)return!1;for(var T=0;T<k.g.length;T++)if(k.g[T]!=0)return!1;return!0}function Z(k){return k.h==-1}s.l=function(k){return k=Te(this,k),Z(k)?-1:Y(k)?0:1};function K(k){for(var T=k.g.length,I=[],P=0;P<T;P++)I[P]=~k.g[P];return new p(I,~k.h).add(M)}s.abs=function(){return Z(this)?K(this):this},s.add=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],P=0,V=0;V<=T;V++){var x=P+(this.i(V)&65535)+(k.i(V)&65535),S=(x>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);P=S>>>16,x&=65535,S&=65535,I[V]=S<<16|x}return new p(I,I[I.length-1]&-2147483648?-1:0)};function Te(k,T){return k.add(K(T))}s.j=function(k){if(Y(this)||Y(k))return L;if(Z(this))return Z(k)?K(this).j(K(k)):K(K(this).j(k));if(Z(k))return K(this.j(K(k)));if(0>this.l(H)&&0>k.l(H))return E(this.m()*k.m());for(var T=this.g.length+k.g.length,I=[],P=0;P<2*T;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var V=0;V<k.g.length;V++){var x=this.i(P)>>>16,S=this.i(P)&65535,Je=k.i(V)>>>16,Rt=k.i(V)&65535;I[2*P+2*V]+=S*Rt,ge(I,2*P+2*V),I[2*P+2*V+1]+=x*Rt,ge(I,2*P+2*V+1),I[2*P+2*V+1]+=S*Je,ge(I,2*P+2*V+1),I[2*P+2*V+2]+=x*Je,ge(I,2*P+2*V+2)}for(P=0;P<T;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=T;P<2*T;P++)I[P]=0;return new p(I,0)};function ge(k,T){for(;(k[T]&65535)!=k[T];)k[T+1]+=k[T]>>>16,k[T]&=65535,T++}function me(k,T){this.g=k,this.h=T}function Se(k,T){if(Y(T))throw Error("division by zero");if(Y(k))return new me(L,L);if(Z(k))return T=Se(K(k),T),new me(K(T.g),K(T.h));if(Z(T))return T=Se(k,K(T)),new me(K(T.g),T.h);if(30<k.g.length){if(Z(k)||Z(T))throw Error("slowDivide_ only works with positive integers.");for(var I=M,P=T;0>=P.l(k);)I=Xe(I),P=Xe(P);var V=Ne(I,1),x=Ne(P,1);for(P=Ne(P,2),I=Ne(I,2);!Y(P);){var S=x.add(P);0>=S.l(k)&&(V=V.add(I),x=S),P=Ne(P,1),I=Ne(I,1)}return T=Te(k,V.j(T)),new me(V,T)}for(V=L;0<=k.l(T);){for(I=Math.max(1,Math.floor(k.m()/T.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),x=E(I),S=x.j(T);Z(S)||0<S.l(k);)I-=P,x=E(I),S=x.j(T);Y(x)&&(x=M),V=V.add(x),k=Te(k,S)}return new me(V,k)}s.A=function(k){return Se(this,k).h},s.and=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)&k.i(P);return new p(I,this.h&k.h)},s.or=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)|k.i(P);return new p(I,this.h|k.h)},s.xor=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)^k.i(P);return new p(I,this.h^k.h)};function Xe(k){for(var T=k.g.length+1,I=[],P=0;P<T;P++)I[P]=k.i(P)<<1|k.i(P-1)>>>31;return new p(I,k.h)}function Ne(k,T){var I=T>>5;T%=32;for(var P=k.g.length-I,V=[],x=0;x<P;x++)V[x]=0<T?k.i(x+I)>>>T|k.i(x+I+1)<<32-T:k.i(x+I);return new p(V,k.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,Em=o,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.A,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=E,p.fromString=A,br=p}).apply(typeof fp<"u"?fp:typeof self<"u"?self:typeof window<"u"?window:{});var Tl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wm,Bo,Tm,Pl,Gc,Sm,Im,Cm;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,f,m){return a==Array.prototype||a==Object.prototype||(a[f]=m.value),a};function r(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tl=="object"&&Tl];for(var f=0;f<a.length;++f){var m=a[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var o=r(this);function l(a,f){if(f)e:{var m=o;a=a.split(".");for(var _=0;_<a.length-1;_++){var D=a[_];if(!(D in m))break e;m=m[D]}a=a[a.length-1],_=m[a],f=f(_),f!=_&&f!=null&&e(m,a,{configurable:!0,writable:!0,value:f})}}function c(a,f){a instanceof String&&(a+="");var m=0,_=!1,D={next:function(){if(!_&&m<a.length){var z=m++;return{value:f(z,a[z]),done:!1}}return _=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}l("Array.prototype.values",function(a){return a||function(){return c(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var p=p||{},g=this||self;function v(a){var f=typeof a;return f=f!="object"?f:a?Array.isArray(a)?"array":f:"null",f=="array"||f=="object"&&typeof a.length=="number"}function E(a){var f=typeof a;return f=="object"&&a!=null||f=="function"}function A(a,f,m){return a.call.apply(a.bind,arguments)}function L(a,f,m){if(!a)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,_),a.apply(f,D)}}return function(){return a.apply(f,arguments)}}function M(a,f,m){return M=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:L,M.apply(null,arguments)}function H(a,f){var m=Array.prototype.slice.call(arguments,1);return function(){var _=m.slice();return _.push.apply(_,arguments),a.apply(this,_)}}function Y(a,f){function m(){}m.prototype=f.prototype,a.aa=f.prototype,a.prototype=new m,a.prototype.constructor=a,a.Qb=function(_,D,z){for(var W=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)W[Le-2]=arguments[Le];return f.prototype[D].apply(_,W)}}function Z(a){const f=a.length;if(0<f){const m=Array(f);for(let _=0;_<f;_++)m[_]=a[_];return m}return[]}function K(a,f){for(let m=1;m<arguments.length;m++){const _=arguments[m];if(v(_)){const D=a.length||0,z=_.length||0;a.length=D+z;for(let W=0;W<z;W++)a[D+W]=_[W]}else a.push(_)}}class Te{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function ge(a){return/^[\s\xa0]*$/.test(a)}function me(){var a=g.navigator;return a&&(a=a.userAgent)?a:""}function Se(a){return Se[" "](a),a}Se[" "]=function(){};var Xe=me().indexOf("Gecko")!=-1&&!(me().toLowerCase().indexOf("webkit")!=-1&&me().indexOf("Edge")==-1)&&!(me().indexOf("Trident")!=-1||me().indexOf("MSIE")!=-1)&&me().indexOf("Edge")==-1;function Ne(a,f,m){for(const _ in a)f.call(m,a[_],_,a)}function k(a,f){for(const m in a)f.call(void 0,a[m],m,a)}function T(a){const f={};for(const m in a)f[m]=a[m];return f}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(a,f){let m,_;for(let D=1;D<arguments.length;D++){_=arguments[D];for(m in _)a[m]=_[m];for(let z=0;z<I.length;z++)m=I[z],Object.prototype.hasOwnProperty.call(_,m)&&(a[m]=_[m])}}function V(a){var f=1;a=a.split(":");const m=[];for(;0<f&&a.length;)m.push(a.shift()),f--;return a.length&&m.push(a.join(":")),m}function x(a){g.setTimeout(()=>{throw a},0)}function S(){var a=le;let f=null;return a.g&&(f=a.g,a.g=a.g.next,a.g||(a.h=null),f.next=null),f}class Je{constructor(){this.h=this.g=null}add(f,m){const _=Rt.get();_.set(f,m),this.h?this.h.next=_:this.g=_,this.h=_}}var Rt=new Te(()=>new Pt,a=>a.reset());class Pt{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Me,X=!1,le=new Je,ee=()=>{const a=g.Promise.resolve(void 0);Me=()=>{a.then(N)}};var N=()=>{for(var a;a=S();){try{a.h.call(a.g)}catch(m){x(m)}var f=Rt;f.j(a),100>f.h&&(f.h++,a.next=f.g,f.g=a)}X=!1};function j(){this.s=this.s,this.C=this.C}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(a,f){this.type=a,this.g=this.target=f,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var a=!1,f=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const m=()=>{};g.addEventListener("test",m,f),g.removeEventListener("test",m,f)}catch{}return a}();function ve(a,f){if(oe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var m=this.type=a.type,_=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=f,f=a.relatedTarget){if(Xe){e:{try{Se(f.nodeName);var D=!0;break e}catch{}D=!1}D||(f=null)}}else m=="mouseover"?f=a.fromElement:m=="mouseout"&&(f=a.toElement);this.relatedTarget=f,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Ie[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ve.aa.h.call(this)}}Y(ve,oe);var Ie={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function Ue(a,f,m,_,D){this.listener=a,this.proxy=null,this.src=f,this.type=m,this.capture=!!_,this.ha=D,this.key=++Oe,this.da=this.fa=!1}function mt(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Kn(a){this.src=a,this.g={},this.h=0}Kn.prototype.add=function(a,f,m,_,D){var z=a.toString();a=this.g[z],a||(a=this.g[z]=[],this.h++);var W=dr(a,f,_,D);return-1<W?(f=a[W],m||(f.fa=!1)):(f=new Ue(f,this.src,z,!!_,D),f.fa=m,a.push(f)),f};function xi(a,f){var m=f.type;if(m in a.g){var _=a.g[m],D=Array.prototype.indexOf.call(_,f,void 0),z;(z=0<=D)&&Array.prototype.splice.call(_,D,1),z&&(mt(f),a.g[m].length==0&&(delete a.g[m],a.h--))}}function dr(a,f,m,_){for(var D=0;D<a.length;++D){var z=a[D];if(!z.da&&z.listener==f&&z.capture==!!m&&z.ha==_)return D}return-1}var Yr="closure_lm_"+(1e6*Math.random()|0),Di={};function Hs(a,f,m,_,D){if(Array.isArray(f)){for(var z=0;z<f.length;z++)Hs(a,f[z],m,_,D);return null}return m=Ws(m),a&&a[De]?a.K(f,m,E(_)?!!_.capture:!1,D):Qs(a,f,m,!1,_,D)}function Qs(a,f,m,_,D,z){if(!f)throw Error("Invalid event type");var W=E(D)?!!D.capture:!!D,Le=Li(a);if(Le||(a[Yr]=Le=new Kn(a)),m=Le.add(f,m,_,W,z),m.proxy)return m;if(_=oa(),m.proxy=_,_.src=a,_.listener=m,a.addEventListener)ye||(D=W),D===void 0&&(D=!1),a.addEventListener(f.toString(),_,D);else if(a.attachEvent)a.attachEvent(Gn(f.toString()),_);else if(a.addListener&&a.removeListener)a.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return m}function oa(){function a(m){return f.call(a.src,a.listener,m)}const f=Ks;return a}function Oi(a,f,m,_,D){if(Array.isArray(f))for(var z=0;z<f.length;z++)Oi(a,f[z],m,_,D);else _=E(_)?!!_.capture:!!_,m=Ws(m),a&&a[De]?(a=a.i,f=String(f).toString(),f in a.g&&(z=a.g[f],m=dr(z,m,_,D),-1<m&&(mt(z[m]),Array.prototype.splice.call(z,m,1),z.length==0&&(delete a.g[f],a.h--)))):a&&(a=Li(a))&&(f=a.g[f.toString()],a=-1,f&&(a=dr(f,m,_,D)),(m=-1<a?f[a]:null)&&Wn(m))}function Wn(a){if(typeof a!="number"&&a&&!a.da){var f=a.src;if(f&&f[De])xi(f.i,a);else{var m=a.type,_=a.proxy;f.removeEventListener?f.removeEventListener(m,_,a.capture):f.detachEvent?f.detachEvent(Gn(m),_):f.addListener&&f.removeListener&&f.removeListener(_),(m=Li(f))?(xi(m,a),m.h==0&&(m.src=null,f[Yr]=null)):mt(a)}}}function Gn(a){return a in Di?Di[a]:Di[a]="on"+a}function Ks(a,f){if(a.da)a=!0;else{f=new ve(f,this);var m=a.listener,_=a.ha||a.src;a.fa&&Wn(a),a=m.call(_,f)}return a}function Li(a){return a=a[Yr],a instanceof Kn?a:null}var Mi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ws(a){return typeof a=="function"?a:(a[Mi]||(a[Mi]=function(f){return a.handleEvent(f)}),a[Mi])}function lt(){j.call(this),this.i=new Kn(this),this.M=this,this.F=null}Y(lt,j),lt.prototype[De]=!0,lt.prototype.removeEventListener=function(a,f,m,_){Oi(this,a,f,m,_)};function ut(a,f){var m,_=a.F;if(_)for(m=[];_;_=_.F)m.push(_);if(a=a.M,_=f.type||f,typeof f=="string")f=new oe(f,a);else if(f instanceof oe)f.target=f.target||a;else{var D=f;f=new oe(_,a),P(f,D)}if(D=!0,m)for(var z=m.length-1;0<=z;z--){var W=f.g=m[z];D=Xn(W,_,!0,f)&&D}if(W=f.g=a,D=Xn(W,_,!0,f)&&D,D=Xn(W,_,!1,f)&&D,m)for(z=0;z<m.length;z++)W=f.g=m[z],D=Xn(W,_,!1,f)&&D}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var a=this.i,f;for(f in a.g){for(var m=a.g[f],_=0;_<m.length;_++)mt(m[_]);delete a.g[f],a.h--}}this.F=null},lt.prototype.K=function(a,f,m,_){return this.i.add(String(a),f,!1,m,_)},lt.prototype.L=function(a,f,m,_){return this.i.add(String(a),f,!0,m,_)};function Xn(a,f,m,_){if(f=a.i.g[String(f)],!f)return!0;f=f.concat();for(var D=!0,z=0;z<f.length;++z){var W=f[z];if(W&&!W.da&&W.capture==m){var Le=W.listener,ct=W.ha||W.src;W.fa&&xi(a.i,W),D=Le.call(ct,_)!==!1&&D}}return D&&!_.defaultPrevented}function Gs(a,f,m){if(typeof a=="function")m&&(a=M(a,m));else if(a&&typeof a.handleEvent=="function")a=M(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:g.setTimeout(a,f||0)}function pr(a){a.g=Gs(()=>{a.g=null,a.i&&(a.i=!1,pr(a))},a.l);const f=a.h;a.h=null,a.m.apply(null,f)}class Jr extends j{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:pr(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zr(a){j.call(this),this.h=a,this.g={}}Y(Zr,j);var Xs=[];function Ys(a){Ne(a.g,function(f,m){this.g.hasOwnProperty(m)&&Wn(f)},a),a.g={}}Zr.prototype.N=function(){Zr.aa.N.call(this),Ys(this)},Zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Js=g.JSON.stringify,Zs=g.JSON.parse,eo=class{stringify(a){return g.JSON.stringify(a,void 0)}parse(a){return g.JSON.parse(a,void 0)}};function ei(){}ei.prototype.h=null;function Fi(a){return a.h||(a.h=a.i())}function Ui(){}var rn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vn(){oe.call(this,"d")}Y(Vn,oe);function zi(){oe.call(this,"c")}Y(zi,oe);var Nn={},to=null;function ti(){return to=to||new lt}Nn.La="serverreachability";function no(a){oe.call(this,Nn.La,a)}Y(no,oe);function Yn(a){const f=ti();ut(f,new no(f))}Nn.STAT_EVENT="statevent";function ro(a,f){oe.call(this,Nn.STAT_EVENT,a),this.stat=f}Y(ro,oe);function Ze(a){const f=ti();ut(f,new ro(f,a))}Nn.Ma="timingevent";function ji(a,f){oe.call(this,Nn.Ma,a),this.size=f}Y(ji,oe);function mn(a,f){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){a()},f)}function ni(){this.g=!0}ni.prototype.xa=function(){this.g=!1};function ri(a,f,m,_,D,z){a.info(function(){if(a.g)if(z)for(var W="",Le=z.split("&"),ct=0;ct<Le.length;ct++){var Ce=Le[ct].split("=");if(1<Ce.length){var gt=Ce[0];Ce=Ce[1];var rt=gt.split("_");W=2<=rt.length&&rt[1]=="type"?W+(gt+"="+Ce+"&"):W+(gt+"=redacted&")}}else W=null;else W=z;return"XMLHTTP REQ ("+_+") [attempt "+D+"]: "+f+`
`+m+`
`+W})}function Bi(a,f,m,_,D,z,W){a.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+D+"]: "+f+`
`+m+`
`+z+" "+W})}function gn(a,f,m,_){a.info(function(){return"XMLHTTP TEXT ("+f+"): "+nu(a,m)+(_?" "+_:"")})}function io(a,f){a.info(function(){return"TIMEOUT: "+f})}ni.prototype.info=function(){};function nu(a,f){if(!a.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(a=0;a<m.length;a++)if(Array.isArray(m[a])){var _=m[a];if(!(2>_.length)){var D=_[1];if(Array.isArray(D)&&!(1>D.length)){var z=D[0];if(z!="noop"&&z!="stop"&&z!="close")for(var W=1;W<D.length;W++)D[W]=""}}}}return Js(m)}catch{return f}}var bi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},aa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yn;function ii(){}Y(ii,ei),ii.prototype.g=function(){return new XMLHttpRequest},ii.prototype.i=function(){return{}},yn=new ii;function vn(a,f,m,_){this.j=a,this.i=f,this.l=m,this.R=_||1,this.U=new Zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new la}function la(){this.i=null,this.g="",this.h=!1}var so={},$i={};function qi(a,f,m){a.L=1,a.v=_r(Yt(f)),a.m=m,a.P=!0,oo(a,null)}function oo(a,f){a.F=Date.now(),ze(a),a.A=Yt(a.v);var m=a.A,_=a.R;Array.isArray(_)||(_=[String(_)]),wr(m.i,"t",_),a.C=0,m=a.j.J,a.h=new la,a.g=Aa(a.j,m?f:null,!a.m),0<a.O&&(a.M=new Jr(M(a.Y,a,a.g),a.O)),f=a.U,m=a.g,_=a.ca;var D="readystatechange";Array.isArray(D)||(D&&(Xs[0]=D.toString()),D=Xs);for(var z=0;z<D.length;z++){var W=Hs(m,D[z],_||f.handleEvent,!1,f.h||f);if(!W)break;f.g[W.key]=W}f=a.H?T(a.H):{},a.m?(a.u||(a.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,f)):(a.u="GET",a.g.ea(a.A,a.u,null,f)),Yn(),ri(a.i,a.u,a.A,a.l,a.R,a.m)}vn.prototype.ca=function(a){a=a.target;const f=this.M;f&&bt(a)==3?f.j():this.Y(a)},vn.prototype.Y=function(a){try{if(a==this.g)e:{const rt=bt(this.g);var f=this.g.Ba();const an=this.g.Z();if(!(3>rt)&&(rt!=3||this.g&&(this.h.h||this.g.oa()||fo(this.g)))){this.J||rt!=4||f==7||(f==8||0>=an?Yn(3):Yn(2)),si(this);var m=this.g.Z();this.X=m;t:if(ua(this)){var _=fo(this.g);a="";var D=_.length,z=bt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sn(this),mr(this);var W="";break t}this.h.i=new g.TextDecoder}for(f=0;f<D;f++)this.h.h=!0,a+=this.h.i.decode(_[f],{stream:!(z&&f==D-1)});_.length=0,this.h.g+=a,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=m==200,Bi(this.i,this.u,this.A,this.l,this.R,rt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,ct=this.g;if((Le=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ge(Le)){var Ce=Le;break t}}Ce=null}if(m=Ce)gn(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ao(this,m);else{this.o=!1,this.s=3,Ze(12),sn(this),mr(this);break e}}if(this.P){m=!0;let Zt;for(;!this.J&&this.C<W.length;)if(Zt=ru(this,W),Zt==$i){rt==4&&(this.s=4,Ze(14),m=!1),gn(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==so){this.s=4,Ze(15),gn(this.i,this.l,W,"[Invalid Chunk]"),m=!1;break}else gn(this.i,this.l,Zt,null),ao(this,Zt);if(ua(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rt!=4||W.length!=0||this.h.h||(this.s=1,Ze(16),m=!1),this.o=this.o&&m,!m)gn(this.i,this.l,W,"[Invalid Chunked Response]"),sn(this),mr(this);else if(0<W.length&&!this.W){this.W=!0;var gt=this.j;gt.g==this&&gt.ba&&!gt.M&&(gt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),mo(gt),gt.M=!0,Ze(11))}}else gn(this.i,this.l,W,null),ao(this,W);rt==4&&sn(this),this.o&&!this.J&&(rt==4?ts(this.j,this):(this.o=!1,ze(this)))}else Xi(this.g),m==400&&0<W.indexOf("Unknown SID")?(this.s=3,Ze(12)):(this.s=0,Ze(13)),sn(this),mr(this)}}}catch{}finally{}};function ua(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function ru(a,f){var m=a.C,_=f.indexOf(`
`,m);return _==-1?$i:(m=Number(f.substring(m,_)),isNaN(m)?so:(_+=1,_+m>f.length?$i:(f=f.slice(_,_+m),a.C=_+m,f)))}vn.prototype.cancel=function(){this.J=!0,sn(this)};function ze(a){a.S=Date.now()+a.I,ca(a,a.I)}function ca(a,f){if(a.B!=null)throw Error("WatchDog timer not null");a.B=mn(M(a.ba,a),f)}function si(a){a.B&&(g.clearTimeout(a.B),a.B=null)}vn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(io(this.i,this.A),this.L!=2&&(Yn(),Ze(17)),sn(this),this.s=2,mr(this)):ca(this,this.S-a)};function mr(a){a.j.G==0||a.J||ts(a.j,a)}function sn(a){si(a);var f=a.M;f&&typeof f.ma=="function"&&f.ma(),a.M=null,Ys(a.U),a.g&&(f=a.g,a.g=null,f.abort(),f.ma())}function ao(a,f){try{var m=a.j;if(m.G!=0&&(m.g==a||Mt(m.h,a))){if(!a.K&&Mt(m.h,a)&&m.G==3){try{var _=m.Da.g.parse(f)}catch{_=null}if(Array.isArray(_)&&_.length==3){var D=_;if(D[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<a.F)es(m),Sn(m);else break e;Zi(m),Ze(18)}}else m.za=D[1],0<m.za-m.T&&37500>D[2]&&m.F&&m.v==0&&!m.C&&(m.C=mn(M(m.Za,m),6e3));if(1>=fa(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else nr(m,11)}else if((a.K||m.g==a)&&es(m),!ge(f))for(D=m.Da.g.parse(f),f=0;f<D.length;f++){let Ce=D[f];if(m.T=Ce[0],Ce=Ce[1],m.G==2)if(Ce[0]=="c"){m.K=Ce[1],m.ia=Ce[2];const gt=Ce[3];gt!=null&&(m.la=gt,m.j.info("VER="+m.la));const rt=Ce[4];rt!=null&&(m.Aa=rt,m.j.info("SVER="+m.Aa));const an=Ce[5];an!=null&&typeof an=="number"&&0<an&&(_=1.5*an,m.L=_,m.j.info("backChannelRequestTimeoutMs_="+_)),_=m;const Zt=a.g;if(Zt){const fi=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fi){var z=_.h;z.g||fi.indexOf("spdy")==-1&&fi.indexOf("quic")==-1&&fi.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(lo(z,z.h),z.h=null))}if(_.D){const rs=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;rs&&(_.ya=rs,Fe(_.I,_.D,rs))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-a.F,m.j.info("Handshake RTT: "+m.R+"ms")),_=m;var W=a;if(_.qa=Ca(_,_.J?_.ia:null,_.W),W.K){da(_.h,W);var Le=W,ct=_.L;ct&&(Le.I=ct),Le.B&&(si(Le),ze(Le)),_.g=W}else hi(_);0<m.i.length&&Ln(m)}else Ce[0]!="stop"&&Ce[0]!="close"||nr(m,7);else m.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?nr(m,7):Tt(m):Ce[0]!="noop"&&m.l&&m.l.ta(Ce),m.v=0)}}Yn(4)}catch{}}var ha=class{constructor(a,f){this.g=a,this.map=f}};function oi(a){this.l=a||10,g.PerformanceNavigationTiming?(a=g.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xt(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function fa(a){return a.h?1:a.g?a.g.size:0}function Mt(a,f){return a.h?a.h==f:a.g?a.g.has(f):!1}function lo(a,f){a.g?a.g.add(f):a.h=f}function da(a,f){a.h&&a.h==f?a.h=null:a.g&&a.g.has(f)&&a.g.delete(f)}oi.prototype.cancel=function(){if(this.i=pa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function pa(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let f=a.i;for(const m of a.g.values())f=f.concat(m.D);return f}return Z(a.i)}function Hi(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(v(a)){for(var f=[],m=a.length,_=0;_<m;_++)f.push(a[_]);return f}f=[],m=0;for(_ in a)f[m++]=a[_];return f}function Qi(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(v(a)||typeof a=="string"){var f=[];a=a.length;for(var m=0;m<a;m++)f.push(m);return f}f=[],m=0;for(const _ in a)f[m++]=_;return f}}}function gr(a,f){if(a.forEach&&typeof a.forEach=="function")a.forEach(f,void 0);else if(v(a)||typeof a=="string")Array.prototype.forEach.call(a,f,void 0);else for(var m=Qi(a),_=Hi(a),D=_.length,z=0;z<D;z++)f.call(void 0,_[z],m&&m[z],a)}var ai=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iu(a,f){if(a){a=a.split("&");for(var m=0;m<a.length;m++){var _=a[m].indexOf("="),D=null;if(0<=_){var z=a[m].substring(0,_);D=a[m].substring(_+1)}else z=a[m];f(z,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Jn(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Jn){this.h=a.h,li(this,a.j),this.o=a.o,this.g=a.g,yr(this,a.s),this.l=a.l;var f=a.i,m=new xn;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),vr(this,m),this.m=a.m}else a&&(f=String(a).match(ai))?(this.h=!1,li(this,f[1]||"",!0),this.o=Ee(f[2]||""),this.g=Ee(f[3]||"",!0),yr(this,f[4]),this.l=Ee(f[5]||"",!0),vr(this,f[6]||"",!0),this.m=Ee(f[7]||"")):(this.h=!1,this.i=new xn(null,this.h))}Jn.prototype.toString=function(){var a=[],f=this.j;f&&a.push(Er(f,Ki,!0),":");var m=this.g;return(m||f=="file")&&(a.push("//"),(f=this.o)&&a.push(Er(f,Ki,!0),"@"),a.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&a.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&a.push("/"),a.push(Er(m,m.charAt(0)=="/"?ya:ga,!0))),(m=this.i.toString())&&a.push("?",m),(m=this.m)&&a.push("#",Er(m,uo)),a.join("")};function Yt(a){return new Jn(a)}function li(a,f,m){a.j=m?Ee(f,!0):f,a.j&&(a.j=a.j.replace(/:$/,""))}function yr(a,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);a.s=f}else a.s=null}function vr(a,f,m){f instanceof xn?(a.i=f,Dn(a.i,a.h)):(m||(f=Er(f,va)),a.i=new xn(f,a.h))}function Fe(a,f,m){a.i.set(f,m)}function _r(a){return Fe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Ee(a,f){return a?f?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Er(a,f,m){return typeof a=="string"?(a=encodeURI(a).replace(f,ma),m&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function ma(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Ki=/[#\/\?@]/g,ga=/[#\?:]/g,ya=/[#\?]/g,va=/[#\?@]/g,uo=/#/g;function xn(a,f){this.h=this.g=null,this.i=a||null,this.j=!!f}function wt(a){a.g||(a.g=new Map,a.h=0,a.i&&iu(a.i,function(f,m){a.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}s=xn.prototype,s.add=function(a,f){wt(this),this.i=null,a=on(this,a);var m=this.g.get(a);return m||this.g.set(a,m=[]),m.push(f),this.h+=1,this};function _n(a,f){wt(a),f=on(a,f),a.g.has(f)&&(a.i=null,a.h-=a.g.get(f).length,a.g.delete(f))}function En(a,f){return wt(a),f=on(a,f),a.g.has(f)}s.forEach=function(a,f){wt(this),this.g.forEach(function(m,_){m.forEach(function(D){a.call(f,D,_,this)},this)},this)},s.na=function(){wt(this);const a=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let _=0;_<f.length;_++){const D=a[_];for(let z=0;z<D.length;z++)m.push(f[_])}return m},s.V=function(a){wt(this);let f=[];if(typeof a=="string")En(this,a)&&(f=f.concat(this.g.get(on(this,a))));else{a=Array.from(this.g.values());for(let m=0;m<a.length;m++)f=f.concat(a[m])}return f},s.set=function(a,f){return wt(this),this.i=null,a=on(this,a),En(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[f]),this.h+=1,this},s.get=function(a,f){return a?(a=this.V(a),0<a.length?String(a[0]):f):f};function wr(a,f,m){_n(a,f),0<m.length&&(a.i=null,a.g.set(on(a,f),Z(m)),a.h+=m.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var _=f[m];const z=encodeURIComponent(String(_)),W=this.V(_);for(_=0;_<W.length;_++){var D=z;W[_]!==""&&(D+="="+encodeURIComponent(String(W[_]))),a.push(D)}}return this.i=a.join("&")};function on(a,f){return f=String(f),a.j&&(f=f.toLowerCase()),f}function Dn(a,f){f&&!a.j&&(wt(a),a.i=null,a.g.forEach(function(m,_){var D=_.toLowerCase();_!=D&&(_n(this,_),wr(this,D,m))},a)),a.j=f}function su(a,f){const m=new ni;if(g.Image){const _=new Image;_.onload=H(Bt,m,"TestLoadImage: loaded",!0,f,_),_.onerror=H(Bt,m,"TestLoadImage: error",!1,f,_),_.onabort=H(Bt,m,"TestLoadImage: abort",!1,f,_),_.ontimeout=H(Bt,m,"TestLoadImage: timeout",!1,f,_),g.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=a}else f(!1)}function _a(a,f){const m=new ni,_=new AbortController,D=setTimeout(()=>{_.abort(),Bt(m,"TestPingServer: timeout",!1,f)},1e4);fetch(a,{signal:_.signal}).then(z=>{clearTimeout(D),z.ok?Bt(m,"TestPingServer: ok",!0,f):Bt(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(D),Bt(m,"TestPingServer: error",!1,f)})}function Bt(a,f,m,_,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),_(m)}catch{}}function ou(){this.g=new eo}function Ea(a,f,m){const _=m||"";try{gr(a,function(D,z){let W=D;E(D)&&(W=Js(D)),f.push(_+z+"="+encodeURIComponent(W))})}catch(D){throw f.push(_+"type="+encodeURIComponent("_badmap")),D}}function Zn(a){this.l=a.Ub||null,this.j=a.eb||!1}Y(Zn,ei),Zn.prototype.g=function(){return new ui(this.l,this.j)},Zn.prototype.i=function(a){return function(){return a}}({});function ui(a,f){lt.call(this),this.D=a,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Y(ui,lt),s=ui.prototype,s.open=function(a,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=f,this.readyState=1,Tn(this)},s.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(f.body=a),(this.D||g).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wn(this)),this.readyState=0},s.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Tn(this)),this.g&&(this.readyState=3,Tn(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wa(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function wa(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}s.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var f=a.value?a.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!a.done}))&&(this.response=this.responseText+=f)}a.done?wn(this):Tn(this),this.readyState==3&&wa(this)}},s.Ra=function(a){this.g&&(this.response=this.responseText=a,wn(this))},s.Qa=function(a){this.g&&(this.response=a,wn(this))},s.ga=function(){this.g&&wn(this)};function wn(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Tn(a)}s.setRequestHeader=function(a,f){this.u.append(a,f)},s.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,a.push(m[0]+": "+m[1]),m=f.next();return a.join(`\r
`)};function Tn(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function er(a){let f="";return Ne(a,function(m,_){f+=_,f+=":",f+=m,f+=`\r
`}),f}function Tr(a,f,m){e:{for(_ in m){var _=!1;break e}_=!0}_||(m=er(m),typeof a=="string"?m!=null&&encodeURIComponent(String(m)):Fe(a,f,m))}function qe(a){lt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Y(qe,lt);var au=/^https?$/i,co=["POST","PUT"];s=qe.prototype,s.Ha=function(a){this.J=a},s.ea=function(a,f,m,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);f=f?f.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yn.g(),this.v=this.o?Fi(this.o):Fi(yn),this.g.onreadystatechange=M(this.Ea,this);try{this.B=!0,this.g.open(f,String(a),!0),this.B=!1}catch(z){ci(this,z);return}if(a=m||"",m=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var D in _)m.set(D,_[D]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const z of _.keys())m.set(z,_.get(z));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(m.keys()).find(z=>z.toLowerCase()=="content-type"),D=g.FormData&&a instanceof g.FormData,!(0<=Array.prototype.indexOf.call(co,f,void 0))||_||D||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,W]of m)this.g.setRequestHeader(z,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gi(this),this.u=!0,this.g.send(a),this.u=!1}catch(z){ci(this,z)}};function ci(a,f){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=f,a.m=5,Wi(a),Jt(a)}function Wi(a){a.A||(a.A=!0,ut(a,"complete"),ut(a,"error"))}s.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ut(this,"complete"),ut(this,"abort"),Jt(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jt(this,!0)),qe.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?ho(this):this.bb())},s.bb=function(){ho(this)};function ho(a){if(a.h&&typeof p<"u"&&(!a.v[1]||bt(a)!=4||a.Z()!=2)){if(a.u&&bt(a)==4)Gs(a.Ea,0,a);else if(ut(a,"readystatechange"),bt(a)==4){a.h=!1;try{const W=a.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var _;if(_=W===0){var D=String(a.D).match(ai)[1]||null;!D&&g.self&&g.self.location&&(D=g.self.location.protocol.slice(0,-1)),_=!au.test(D?D.toLowerCase():"")}m=_}if(m)ut(a,"complete"),ut(a,"success");else{a.m=6;try{var z=2<bt(a)?a.g.statusText:""}catch{z=""}a.l=z+" ["+a.Z()+"]",Wi(a)}}finally{Jt(a)}}}}function Jt(a,f){if(a.g){Gi(a);const m=a.g,_=a.v[0]?()=>{}:null;a.g=null,a.v=null,f||ut(a,"ready");try{m.onreadystatechange=_}catch{}}}function Gi(a){a.I&&(g.clearTimeout(a.I),a.I=null)}s.isActive=function(){return!!this.g};function bt(a){return a.g?a.g.readyState:0}s.Z=function(){try{return 2<bt(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(a){if(this.g){var f=this.g.responseText;return a&&f.indexOf(a)==0&&(f=f.substring(a.length)),Zs(f)}};function fo(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(a){const f={};a=(a.g&&2<=bt(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<a.length;_++){if(ge(a[_]))continue;var m=V(a[_]);const D=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const z=f[D]||[];f[D]=z,z.push(m)}k(f,function(_){return _.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function On(a,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[a]||f}function po(a){this.Aa=0,this.i=[],this.j=new ni,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=On("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=On("baseRetryDelayMs",5e3,a),this.cb=On("retryDelaySeedMs",1e4,a),this.Wa=On("forwardChannelMaxRetries",2,a),this.wa=On("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new oi(a&&a.concurrentRequestLimit),this.Da=new ou,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=po.prototype,s.la=8,s.G=1,s.connect=function(a,f,m,_){Ze(0),this.W=a,this.H=f||{},m&&_!==void 0&&(this.H.OSID=m,this.H.OAID=_),this.F=this.X,this.I=Ca(this,null,this.W),Ln(this)};function Tt(a){if(Yi(a),a.G==3){var f=a.U++,m=Yt(a.I);if(Fe(m,"SID",a.K),Fe(m,"RID",f),Fe(m,"TYPE","terminate"),tr(a,m),f=new vn(a,a.j,f),f.L=2,f.v=_r(Yt(m)),m=!1,g.navigator&&g.navigator.sendBeacon)try{m=g.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&g.Image&&(new Image().src=f.v,m=!0),m||(f.g=Aa(f.j,null),f.g.ea(f.v)),f.F=Date.now(),ze(f)}Ia(a)}function Sn(a){a.g&&(mo(a),a.g.cancel(),a.g=null)}function Yi(a){Sn(a),a.u&&(g.clearTimeout(a.u),a.u=null),es(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&g.clearTimeout(a.s),a.s=null)}function Ln(a){if(!Xt(a.h)&&!a.s){a.s=!0;var f=a.Ga;Me||ee(),X||(Me(),X=!0),le.add(f,a),a.B=0}}function lu(a,f){return fa(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=f.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=mn(M(a.Ga,a,f),Sa(a,a.B)),a.B++,!0)}s.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const D=new vn(this,this.j,a);let z=this.o;if(this.S&&(z?(z=T(z),P(z,this.S)):z=this.S),this.m!==null||this.O||(D.H=z,z=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var _=this.i[m];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(f+=_,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=Sr(this,D,f),m=Yt(this.I),Fe(m,"RID",a),Fe(m,"CVER",22),this.D&&Fe(m,"X-HTTP-Session-Id",this.D),tr(this,m),z&&(this.O?f="headers="+encodeURIComponent(String(er(z)))+"&"+f:this.m&&Tr(m,this.m,z)),lo(this.h,D),this.Ua&&Fe(m,"TYPE","init"),this.P?(Fe(m,"$req",f),Fe(m,"SID","null"),D.T=!0,qi(D,m,null)):qi(D,m,f),this.G=2}}else this.G==3&&(a?Ji(this,a):this.i.length==0||Xt(this.h)||Ji(this))};function Ji(a,f){var m;f?m=f.l:m=a.U++;const _=Yt(a.I);Fe(_,"SID",a.K),Fe(_,"RID",m),Fe(_,"AID",a.T),tr(a,_),a.m&&a.o&&Tr(_,a.m,a.o),m=new vn(a,a.j,m,a.B+1),a.m===null&&(m.H=a.o),f&&(a.i=f.D.concat(a.i)),f=Sr(a,m,1e3),m.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),lo(a.h,m),qi(m,_,f)}function tr(a,f){a.H&&Ne(a.H,function(m,_){Fe(f,_,m)}),a.l&&gr({},function(m,_){Fe(f,_,m)})}function Sr(a,f,m){m=Math.min(a.i.length,m);var _=a.l?M(a.l.Na,a.l,a):null;e:{var D=a.i;let z=-1;for(;;){const W=["count="+m];z==-1?0<m?(z=D[0].g,W.push("ofs="+z)):z=0:W.push("ofs="+z);let Le=!0;for(let ct=0;ct<m;ct++){let Ce=D[ct].g;const gt=D[ct].map;if(Ce-=z,0>Ce)z=Math.max(0,D[ct].g-100),Le=!1;else try{Ea(gt,W,"req"+Ce+"_")}catch{_&&_(gt)}}if(Le){_=W.join("&");break e}}}return a=a.i.splice(0,m),f.D=a,_}function hi(a){if(!a.g&&!a.u){a.Y=1;var f=a.Fa;Me||ee(),X||(Me(),X=!0),le.add(f,a),a.v=0}}function Zi(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=mn(M(a.Fa,a),Sa(a,a.v)),a.v++,!0)}s.Fa=function(){if(this.u=null,Ta(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=mn(M(this.ab,this),a)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ze(10),Sn(this),Ta(this))};function mo(a){a.A!=null&&(g.clearTimeout(a.A),a.A=null)}function Ta(a){a.g=new vn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var f=Yt(a.qa);Fe(f,"RID","rpc"),Fe(f,"SID",a.K),Fe(f,"AID",a.T),Fe(f,"CI",a.F?"0":"1"),!a.F&&a.ja&&Fe(f,"TO",a.ja),Fe(f,"TYPE","xmlhttp"),tr(a,f),a.m&&a.o&&Tr(f,a.m,a.o),a.L&&(a.g.I=a.L);var m=a.g;a=a.ia,m.L=1,m.v=_r(Yt(f)),m.m=null,m.P=!0,oo(m,a)}s.Za=function(){this.C!=null&&(this.C=null,Sn(this),Zi(this),Ze(19))};function es(a){a.C!=null&&(g.clearTimeout(a.C),a.C=null)}function ts(a,f){var m=null;if(a.g==f){es(a),mo(a),a.g=null;var _=2}else if(Mt(a.h,f))m=f.D,da(a.h,f),_=1;else return;if(a.G!=0){if(f.o)if(_==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var D=a.B;_=ti(),ut(_,new ji(_,m)),Ln(a)}else hi(a);else if(D=f.s,D==3||D==0&&0<f.X||!(_==1&&lu(a,f)||_==2&&Zi(a)))switch(m&&0<m.length&&(f=a.h,f.i=f.i.concat(m)),D){case 1:nr(a,5);break;case 4:nr(a,10);break;case 3:nr(a,6);break;default:nr(a,2)}}}function Sa(a,f){let m=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(m*=2),m*f}function nr(a,f){if(a.j.info("Error code "+f),f==2){var m=M(a.fb,a),_=a.Xa;const D=!_;_=new Jn(_||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||li(_,"https"),_r(_),D?su(_.toString(),m):_a(_.toString(),m)}else Ze(2);a.G=0,a.l&&a.l.sa(f),Ia(a),Yi(a)}s.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Ze(2)):(this.j.info("Failed to ping google.com"),Ze(1))};function Ia(a){if(a.G=0,a.ka=[],a.l){const f=pa(a.h);(f.length!=0||a.i.length!=0)&&(K(a.ka,f),K(a.ka,a.i),a.h.i.length=0,Z(a.i),a.i.length=0),a.l.ra()}}function Ca(a,f,m){var _=m instanceof Jn?Yt(m):new Jn(m);if(_.g!="")f&&(_.g=f+"."+_.g),yr(_,_.s);else{var D=g.location;_=D.protocol,f=f?f+"."+D.hostname:D.hostname,D=+D.port;var z=new Jn(null);_&&li(z,_),f&&(z.g=f),D&&yr(z,D),m&&(z.l=m),_=z}return m=a.D,f=a.ya,m&&f&&Fe(_,m,f),Fe(_,"VER",a.la),tr(a,_),_}function Aa(a,f,m){if(f&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=a.Ca&&!a.pa?new qe(new Zn({eb:m})):new qe(a.pa),f.Ha(a.J),f}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function go(){}s=go.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function ns(){}ns.prototype.g=function(a,f){return new Ft(a,f)};function Ft(a,f){lt.call(this),this.g=new po(f),this.l=a,this.h=f&&f.messageUrlParams||null,a=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(a?a["X-WebChannel-Content-Type"]=f.messageContentType:a={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(a?a["X-WebChannel-Client-Profile"]=f.va:a={"X-WebChannel-Client-Profile":f.va}),this.g.S=a,(a=f&&f.Sb)&&!ge(a)&&(this.g.m=a),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!ge(f)&&(this.g.D=f,a=this.h,a!==null&&f in a&&(a=this.h,f in a&&delete a[f])),this.j=new Mn(this)}Y(Ft,lt),Ft.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ft.prototype.close=function(){Tt(this.g)},Ft.prototype.o=function(a){var f=this.g;if(typeof a=="string"){var m={};m.__data__=a,a=m}else this.u&&(m={},m.__data__=Js(a),a=m);f.i.push(new ha(f.Ya++,a)),f.G==3&&Ln(f)},Ft.prototype.N=function(){this.g.l=null,delete this.j,Tt(this.g),delete this.g,Ft.aa.N.call(this)};function Ra(a){Vn.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var f=a.__sm__;if(f){e:{for(const m in f){a=m;break e}a=void 0}(this.i=a)&&(a=this.i,f=f!==null&&a in f?f[a]:void 0),this.data=f}else this.data=a}Y(Ra,Vn);function Pa(){zi.call(this),this.status=1}Y(Pa,zi);function Mn(a){this.g=a}Y(Mn,go),Mn.prototype.ua=function(){ut(this.g,"a")},Mn.prototype.ta=function(a){ut(this.g,new Ra(a))},Mn.prototype.sa=function(a){ut(this.g,new Pa)},Mn.prototype.ra=function(){ut(this.g,"b")},ns.prototype.createWebChannel=ns.prototype.g,Ft.prototype.send=Ft.prototype.o,Ft.prototype.open=Ft.prototype.m,Ft.prototype.close=Ft.prototype.close,Cm=function(){return new ns},Im=function(){return ti()},Sm=Nn,Gc={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bi.NO_ERROR=0,bi.TIMEOUT=8,bi.HTTP_ERROR=6,Pl=bi,aa.COMPLETE="complete",Tm=aa,Ui.EventType=rn,rn.OPEN="a",rn.CLOSE="b",rn.ERROR="c",rn.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Bo=Ui,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,wm=qe}).apply(typeof Tl<"u"?Tl:typeof self<"u"?self:typeof window<"u"?window:{});const dp="@firebase/firestore",pp="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bs="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new pm("@firebase/firestore");function Is(){return Vi.logLevel}function te(s,...e){if(Vi.logLevel<=Re.DEBUG){const r=e.map(vh);Vi.debug(`Firestore (${bs}): ${s}`,...r)}}function fr(s,...e){if(Vi.logLevel<=Re.ERROR){const r=e.map(vh);Vi.error(`Firestore (${bs}): ${s}`,...r)}}function Os(s,...e){if(Vi.logLevel<=Re.WARN){const r=e.map(vh);Vi.warn(`Firestore (${bs}): ${s}`,...r)}}function vh(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(s,e,r){let o="Unexpected state";typeof e=="string"?o=e:r=e,Am(s,o,r)}function Am(s,e,r){let o=`FIRESTORE (${bs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(r!==void 0)try{o+=" CONTEXT: "+JSON.stringify(r)}catch{o+=" CONTEXT: "+r}throw fr(o),new Error(o)}function Ge(s,e,r,o){let l="Unexpected state";typeof r=="string"?l=r:o=r,s||Am(e,l,o)}function Pe(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Bs{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class k_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Ot.UNAUTHENTICATED))}shutdown(){}}class V_{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class N_{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Ge(this.o===void 0,42304);let o=this.i;const l=v=>this.i!==o?(o=this.i,r(v)):Promise.resolve();let c=new Pi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Pi,e.enqueueRetryable(()=>l(this.currentUser))};const p=()=>{const v=c;e.enqueueRetryable(async()=>{await v.promise,await l(this.currentUser)})},g=v=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Pi)}},0),p()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Ge(typeof o.accessToken=="string",31837,{l:o}),new Rm(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Ot(e)}}class x_{constructor(e,r,o){this.P=e,this.T=r,this.I=o,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class D_{constructor(e,r,o){this.P=e,this.T=r,this.I=o}getToken(){return Promise.resolve(new x_(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O_{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,f_(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Ge(this.o===void 0,3512);const o=c=>{c.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.m;return this.m=c.token,te("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?r(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>o(c))};const l=c=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new mp(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Ge(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new mp(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let o=0;o<s;o++)r[o]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let o="";for(;o.length<20;){const l=L_(40);for(let c=0;c<l.length;++c)o.length<20&&l[c]<r&&(o+=e.charAt(l[c]%62))}return o}}function we(s,e){return s<e?-1:s>e?1:0}function Xc(s,e){const r=Math.min(s.length,e.length);for(let o=0;o<r;o++){const l=s.charAt(o),c=e.charAt(o);if(l!==c)return Fc(l)===Fc(c)?we(l,c):Fc(l)?1:-1}return we(s.length,e.length)}const M_=55296,F_=57343;function Fc(s){const e=s.charCodeAt(0);return e>=M_&&e<=F_}function Ls(s,e,r){return s.length===e.length&&s.every((o,l)=>r(o,e[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="__name__";class Bn{constructor(e,r,o){r===void 0?r=0:r>e.length&&pe(637,{offset:r,range:e.length}),o===void 0?o=e.length-r:o>e.length-r&&pe(1746,{length:o,range:e.length-r}),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return Bn.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Bn?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let l=0;l<o;l++){const c=Bn.compareSegments(e.get(l),r.get(l));if(c!==0)return c}return we(e.length,r.length)}static compareSegments(e,r){const o=Bn.isNumericId(e),l=Bn.isNumericId(r);return o&&!l?-1:!o&&l?1:o&&l?Bn.extractNumericId(e).compare(Bn.extractNumericId(r)):Xc(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return br.fromString(e.substring(4,e.length-2))}}class We extends Bn{construct(e,r,o){return new We(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new ae(G.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(l=>l.length>0))}return new We(r)}static emptyPath(){return new We([])}}const U_=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends Bn{construct(e,r,o){return new jt(e,r,o)}static isValidIdentifier(e){return U_.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gp}static keyField(){return new jt([gp])}static fromServerFormat(e){const r=[];let o="",l=0;const c=()=>{if(o.length===0)throw new ae(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let p=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new ae(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ae(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=v,l+=2}else g==="`"?(p=!p,l++):g!=="."||p?(o+=g,l++):(c(),l++)}if(c(),p)throw new ae(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(r)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(We.fromString(e))}static fromName(e){return new he(We.fromString(e).popFirst(5))}static empty(){return new he(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return We.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new We(e.slice()))}}function z_(s,e,r,o){if(e===!0&&o===!0)throw new ae(G.INVALID_ARGUMENT,`${s} and ${r} cannot be used together.`)}function yp(s){if(he.isDocumentKey(s))throw new ae(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function j_(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function B_(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(o){return o.constructor?o.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":pe(12329,{type:typeof s})}function Yc(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ae(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=B_(s);throw new ae(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(s,e){const r={typeString:s};return e&&(r.value=e),r}function ta(s,e){if(!j_(s))throw new ae(G.INVALID_ARGUMENT,"JSON must be an object");let r;for(const o in e)if(e[o]){const l=e[o].typeString,c="value"in e[o]?{value:e[o].value}:void 0;if(!(o in s)){r=`JSON missing required field: '${o}'`;break}const p=s[o];if(l&&typeof p!==l){r=`JSON field '${o}' must be a ${l}.`;break}if(c!==void 0&&p!==c.value){r=`Expected '${o}' field to equal '${c.value}'`;break}}if(r)throw new ae(G.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp=-62135596800,_p=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor((e-1e3*r)*_p);return new ot(r,o)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ae(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ae(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<vp)throw new ae(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_p}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ta(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-vp;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:at("string",ot._jsonSchemaVersion),seconds:at("number"),nanoseconds:at("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{static fromTimestamp(e){return new de(e)}static min(){return new de(new ot(0,0))}static max(){return new de(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=-1;function b_(s,e){const r=s.toTimestamp().seconds,o=s.toTimestamp().nanoseconds+1,l=de.fromTimestamp(o===1e9?new ot(r+1,0):new ot(r,o));return new Hr(l,he.empty(),e)}function $_(s){return new Hr(s.readTime,s.key,Yo)}class Hr{constructor(e,r,o){this.readTime=e,this.documentKey=r,this.largestBatchId=o}static min(){return new Hr(de.min(),he.empty(),Yo)}static max(){return new Hr(de.max(),he.empty(),Yo)}}function q_(s,e){let r=s.readTime.compareTo(e.readTime);return r!==0?r:(r=he.comparator(s.documentKey,e.documentKey),r!==0?r:we(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Q_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(s){if(s.code!==G.FAILED_PRECONDITION||s.message!==H_)throw s;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new B((o,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(o,l)},this.catchCallback=c=>{this.wrapFailure(r,c).next(o,l)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof B?r:B.resolve(r)}catch(r){return B.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):B.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):B.reject(r)}static resolve(e){return new B((r,o)=>{r(e)})}static reject(e){return new B((r,o)=>{o(e)})}static waitFor(e){return new B((r,o)=>{let l=0,c=0,p=!1;e.forEach(g=>{++l,g.next(()=>{++c,p&&c===l&&r()},v=>o(v))}),p=!0,c===l&&r()})}static or(e){let r=B.resolve(!1);for(const o of e)r=r.next(l=>l?B.resolve(l):o());return r}static forEach(e,r){const o=[];return e.forEach((l,c)=>{o.push(r.call(this,l,c))}),this.waitFor(o)}static mapArray(e,r){return new B((o,l)=>{const c=e.length,p=new Array(c);let g=0;for(let v=0;v<c;v++){const E=v;r(e[E]).next(A=>{p[E]=A,++g,g===c&&o(p)},A=>l(A))}})}static doWhile(e,r){return new B((o,l)=>{const c=()=>{e()===!0?r().next(()=>{c()},l):o()};c()})}}function K_(s){const e=s.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function $s(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=o=>this.ae(o),this.ue=o=>r.writeSequenceNumber(o))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Hl.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_=-1;function Ql(s){return s==null}function Jc(s){return s===0&&1/s==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="";function G_(s){let e="";for(let r=0;r<s.length;r++)e.length>0&&(e=Ep(e)),e=X_(s.get(r),e);return Ep(e)}function X_(s,e){let r=e;const o=s.length;for(let l=0;l<o;l++){const c=s.charAt(l);switch(c){case"\0":r+="";break;case km:r+="";break;default:r+=c}}return r}function Ep(s){return s+km+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(s){let e=0;for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&e++;return e}function na(s,e){for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&e(r,s[r])}function Y_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,r){this.comparator=e,this.root=r||Ct.EMPTY}insert(e,r){return new nt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(l===0)return r+o.left.size;l<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sl(this.root,e,this.comparator,!0)}}class Sl{constructor(e,r,o,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=r?o(e.key,r):1,r&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ct{constructor(e,r,o,l,c){this.key=e,this.value=r,this.color=o??Ct.RED,this.left=l??Ct.EMPTY,this.right=c??Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,l,c){return new Ct(e??this.key,r??this.value,o??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let l=this;const c=o(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,r,o),null):c===0?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(e,r,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,l=this;if(r(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),r(e,l.key)===0){if(l.right.isEmpty())return Ct.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pe(27949);return e+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1;Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw pe(57766)}get value(){throw pe(16141)}get color(){throw pe(16727)}get left(){throw pe(29726)}get right(){throw pe(36894)}copy(e,r,o,l,c){return this}insert(e,r,o){return new Ct(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;r(l.key)}}forEachWhile(e,r){let o;for(o=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Tp(this.data.getIterator())}getIteratorFrom(e){return new Tp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,c=o.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new pt(this.comparator);return r.data=e,r}}class Tp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new Ur([])}unionWith(e){let r=new pt(jt.comparator);for(const o of this.fields)r=r.add(o);for(const o of e)r=r.add(o);return new Ur(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Ls(this.fields,e.fields,(r,o)=>r.isEqual(o))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Vm("Invalid base64 string: "+c):c}}(e);return new At(r)}static fromUint8Array(e){const r=function(l){let c="";for(let p=0;p<l.length;++p)c+=String.fromCharCode(l[p]);return c}(e);return new At(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const o=new Uint8Array(r.length);for(let l=0;l<r.length;l++)o[l]=r.charCodeAt(l);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}At.EMPTY_BYTE_STRING=new At("");const J_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(s){if(Ge(!!s,39018),typeof s=="string"){let e=0;const r=J_.exec(s);if(Ge(!!r,46558,{timestamp:s}),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(s);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:tt(s.seconds),nanos:tt(s.nanos)}}function tt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Kr(s){return typeof s=="string"?At.fromBase64String(s):At.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="server_timestamp",xm="__type__",Dm="__previous_value__",Om="__local_write_time__";function _h(s){return(s?.mapValue?.fields||{})[xm]?.stringValue===Nm}function Kl(s){const e=s.mapValue.fields[Dm];return _h(e)?Kl(e):e}function Jo(s){const e=Qr(s.mapValue.fields[Om].timestampValue);return new ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,r,o,l,c,p,g,v,E,A){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=l,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=E,this.isUsingEmulator=A}}const Fl="(default)";class Zo{constructor(e,r){this.projectId=e,this.database=r||Fl}static empty(){return new Zo("","")}get isDefaultDatabase(){return this.database===Fl}isEqual(e){return e instanceof Zo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="__type__",tE="__max__",Il={mapValue:{}},nE="__vector__",Zc="value";function Wr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?_h(s)?4:iE(s)?9007199254740991:rE(s)?10:11:pe(28295,{value:s})}function Hn(s,e){if(s===e)return!0;const r=Wr(s);if(r!==Wr(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Jo(s).isEqual(Jo(e));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const p=Qr(l.timestampValue),g=Qr(c.timestampValue);return p.seconds===g.seconds&&p.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(l,c){return Kr(l.bytesValue).isEqual(Kr(c.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(l,c){return tt(l.geoPointValue.latitude)===tt(c.geoPointValue.latitude)&&tt(l.geoPointValue.longitude)===tt(c.geoPointValue.longitude)}(s,e);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return tt(l.integerValue)===tt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const p=tt(l.doubleValue),g=tt(c.doubleValue);return p===g?Jc(p)===Jc(g):isNaN(p)&&isNaN(g)}return!1}(s,e);case 9:return Ls(s.arrayValue.values||[],e.arrayValue.values||[],Hn);case 10:case 11:return function(l,c){const p=l.mapValue.fields||{},g=c.mapValue.fields||{};if(wp(p)!==wp(g))return!1;for(const v in p)if(p.hasOwnProperty(v)&&(g[v]===void 0||!Hn(p[v],g[v])))return!1;return!0}(s,e);default:return pe(52216,{left:s})}}function ea(s,e){return(s.values||[]).find(r=>Hn(r,e))!==void 0}function Ms(s,e){if(s===e)return 0;const r=Wr(s),o=Wr(e);if(r!==o)return we(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return we(s.booleanValue,e.booleanValue);case 2:return function(c,p){const g=tt(c.integerValue||c.doubleValue),v=tt(p.integerValue||p.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1}(s,e);case 3:return Sp(s.timestampValue,e.timestampValue);case 4:return Sp(Jo(s),Jo(e));case 5:return Xc(s.stringValue,e.stringValue);case 6:return function(c,p){const g=Kr(c),v=Kr(p);return g.compareTo(v)}(s.bytesValue,e.bytesValue);case 7:return function(c,p){const g=c.split("/"),v=p.split("/");for(let E=0;E<g.length&&E<v.length;E++){const A=we(g[E],v[E]);if(A!==0)return A}return we(g.length,v.length)}(s.referenceValue,e.referenceValue);case 8:return function(c,p){const g=we(tt(c.latitude),tt(p.latitude));return g!==0?g:we(tt(c.longitude),tt(p.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return Ip(s.arrayValue,e.arrayValue);case 10:return function(c,p){const g=c.fields||{},v=p.fields||{},E=g[Zc]?.arrayValue,A=v[Zc]?.arrayValue,L=we(E?.values?.length||0,A?.values?.length||0);return L!==0?L:Ip(E,A)}(s.mapValue,e.mapValue);case 11:return function(c,p){if(c===Il.mapValue&&p===Il.mapValue)return 0;if(c===Il.mapValue)return 1;if(p===Il.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),E=p.fields||{},A=Object.keys(E);v.sort(),A.sort();for(let L=0;L<v.length&&L<A.length;++L){const M=Xc(v[L],A[L]);if(M!==0)return M;const H=Ms(g[v[L]],E[A[L]]);if(H!==0)return H}return we(v.length,A.length)}(s.mapValue,e.mapValue);default:throw pe(23264,{he:r})}}function Sp(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return we(s,e);const r=Qr(s),o=Qr(e),l=we(r.seconds,o.seconds);return l!==0?l:we(r.nanos,o.nanos)}function Ip(s,e){const r=s.values||[],o=e.values||[];for(let l=0;l<r.length&&l<o.length;++l){const c=Ms(r[l],o[l]);if(c)return c}return we(r.length,o.length)}function Fs(s){return eh(s)}function eh(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(r){const o=Qr(r);return`time(${o.seconds},${o.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(r){return Kr(r).toBase64()}(s.bytesValue):"referenceValue"in s?function(r){return he.fromName(r).toString()}(s.referenceValue):"geoPointValue"in s?function(r){return`geo(${r.latitude},${r.longitude})`}(s.geoPointValue):"arrayValue"in s?function(r){let o="[",l=!0;for(const c of r.values||[])l?l=!1:o+=",",o+=eh(c);return o+"]"}(s.arrayValue):"mapValue"in s?function(r){const o=Object.keys(r.fields||{}).sort();let l="{",c=!0;for(const p of o)c?c=!1:l+=",",l+=`${p}:${eh(r.fields[p])}`;return l+"}"}(s.mapValue):pe(61005,{value:s})}function kl(s){switch(Wr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kl(s);return e?16+kl(e):16;case 5:return 2*s.stringValue.length;case 6:return Kr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(o){return(o.values||[]).reduce((l,c)=>l+kl(c),0)}(s.arrayValue);case 10:case 11:return function(o){let l=0;return na(o.fields,(c,p)=>{l+=c.length+kl(p)}),l}(s.mapValue);default:throw pe(13486,{value:s})}}function th(s){return!!s&&"integerValue"in s}function Eh(s){return!!s&&"arrayValue"in s}function Cp(s){return!!s&&"nullValue"in s}function Ap(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Uc(s){return!!s&&"mapValue"in s}function rE(s){return(s?.mapValue?.fields||{})[eE]?.stringValue===nE}function Ho(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return na(s.mapValue.fields,(r,o)=>e.mapValue.fields[r]=Ho(o)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(s.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Ho(s.arrayValue.values[r]);return e}return{...s}}function iE(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===tE}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!Uc(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ho(r)}setAll(e){let r=jt.emptyPath(),o={},l=[];e.forEach((p,g)=>{if(!r.isImmediateParentOf(g)){const v=this.getFieldsMap(r);this.applyChanges(v,o,l),o={},l=[],r=g.popLast()}p?o[g.lastSegment()]=Ho(p):l.push(g.lastSegment())});const c=this.getFieldsMap(r);this.applyChanges(c,o,l)}delete(e){const r=this.field(e.popLast());Uc(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Hn(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=r.mapValue.fields[e.get(o)];Uc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=l),r=l}return r.mapValue.fields}applyChanges(e,r,o){na(r,(l,c)=>e[l]=c);for(const l of o)delete e[l]}clone(){return new bn(Ho(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,r,o,l,c,p,g){this.key=e,this.documentType=r,this.version=o,this.readTime=l,this.createTime=c,this.data=p,this.documentState=g}static newInvalidDocument(e){return new Lt(e,0,de.min(),de.min(),de.min(),bn.empty(),0)}static newFoundDocument(e,r,o,l){return new Lt(e,1,r,de.min(),o,l,0)}static newNoDocument(e,r){return new Lt(e,2,r,de.min(),de.min(),bn.empty(),0)}static newUnknownDocument(e,r){return new Lt(e,3,r,de.min(),de.min(),bn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Lt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Lt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,r){this.position=e,this.inclusive=r}}function Rp(s,e,r){let o=0;for(let l=0;l<s.position.length;l++){const c=e[l],p=s.position[l];if(c.field.isKeyField()?o=he.comparator(he.fromName(p.referenceValue),r.key):o=Ms(p,r.data.field(c.field)),c.dir==="desc"&&(o*=-1),o!==0)break}return o}function Pp(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let r=0;r<s.position.length;r++)if(!Hn(s.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,r="asc"){this.field=e,this.dir=r}}function sE(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{}class dt extends Lm{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,o):new aE(e,r,o):r==="array-contains"?new cE(e,o):r==="in"?new hE(e,o):r==="not-in"?new fE(e,o):r==="array-contains-any"?new dE(e,o):new dt(e,r,o)}static createKeyFieldInFilter(e,r,o){return r==="in"?new lE(e,o):new uE(e,o)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Ms(r,this.value)):r!==null&&Wr(this.value)===Wr(r)&&this.matchesComparison(Ms(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends Lm{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new Qn(e,r)}matches(e){return Mm(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Mm(s){return s.op==="and"}function Fm(s){return oE(s)&&Mm(s)}function oE(s){for(const e of s.filters)if(e instanceof Qn)return!1;return!0}function nh(s){if(s instanceof dt)return s.field.canonicalString()+s.op.toString()+Fs(s.value);if(Fm(s))return s.filters.map(e=>nh(e)).join(",");{const e=s.filters.map(r=>nh(r)).join(",");return`${s.op}(${e})`}}function Um(s,e){return s instanceof dt?function(o,l){return l instanceof dt&&o.op===l.op&&o.field.isEqual(l.field)&&Hn(o.value,l.value)}(s,e):s instanceof Qn?function(o,l){return l instanceof Qn&&o.op===l.op&&o.filters.length===l.filters.length?o.filters.reduce((c,p,g)=>c&&Um(p,l.filters[g]),!0):!1}(s,e):void pe(19439)}function zm(s){return s instanceof dt?function(r){return`${r.field.canonicalString()} ${r.op} ${Fs(r.value)}`}(s):s instanceof Qn?function(r){return r.op.toString()+" {"+r.getFilters().map(zm).join(" ,")+"}"}(s):"Filter"}class aE extends dt{constructor(e,r,o){super(e,r,o),this.key=he.fromName(o.referenceValue)}matches(e){const r=he.comparator(e.key,this.key);return this.matchesComparison(r)}}class lE extends dt{constructor(e,r){super(e,"in",r),this.keys=jm("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class uE extends dt{constructor(e,r){super(e,"not-in",r),this.keys=jm("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function jm(s,e){return(e.arrayValue?.values||[]).map(r=>he.fromName(r.referenceValue))}class cE extends dt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Eh(r)&&ea(r.arrayValue,this.value)}}class hE extends dt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&ea(this.value.arrayValue,r)}}class fE extends dt{constructor(e,r){super(e,"not-in",r)}matches(e){if(ea(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!ea(this.value.arrayValue,r)}}class dE extends dt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Eh(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>ea(this.value.arrayValue,o))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,r=null,o=[],l=[],c=null,p=null,g=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=l,this.limit=c,this.startAt=p,this.endAt=g,this.Te=null}}function kp(s,e=null,r=[],o=[],l=null,c=null,p=null){return new pE(s,e,r,o,l,c,p)}function wh(s){const e=Pe(s);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>nh(o)).join(","),r+="|ob:",r+=e.orderBy.map(o=>function(c){return c.field.canonicalString()+c.dir}(o)).join(","),Ql(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>Fs(o)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>Fs(o)).join(",")),e.Te=r}return e.Te}function Th(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<s.orderBy.length;r++)if(!sE(s.orderBy[r],e.orderBy[r]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let r=0;r<s.filters.length;r++)if(!Um(s.filters[r],e.filters[r]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Pp(s.startAt,e.startAt)&&Pp(s.endAt,e.endAt)}function rh(s){return he.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,r=null,o=[],l=[],c=null,p="F",g=null,v=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=l,this.limit=c,this.limitType=p,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function mE(s,e,r,o,l,c,p,g){return new Wl(s,e,r,o,l,c,p,g)}function Bm(s){return new Wl(s)}function Vp(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function gE(s){return s.collectionGroup!==null}function Qo(s){const e=Pe(s);if(e.Ie===null){e.Ie=[];const r=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),r.add(c.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(p){let g=new pt(jt.comparator);return p.filters.forEach(v=>{v.getFlattenedFilters().forEach(E=>{E.isInequality()&&(g=g.add(E.field))})}),g})(e).forEach(c=>{r.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new zl(c,o))}),r.has(jt.keyField().canonicalString())||e.Ie.push(new zl(jt.keyField(),o))}return e.Ie}function qn(s){const e=Pe(s);return e.Ee||(e.Ee=yE(e,Qo(s))),e.Ee}function yE(s,e){if(s.limitType==="F")return kp(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new zl(l.field,c)});const r=s.endAt?new Ul(s.endAt.position,s.endAt.inclusive):null,o=s.startAt?new Ul(s.startAt.position,s.startAt.inclusive):null;return kp(s.path,s.collectionGroup,e,s.filters,s.limit,r,o)}}function ih(s,e,r){return new Wl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,r,s.startAt,s.endAt)}function Gl(s,e){return Th(qn(s),qn(e))&&s.limitType===e.limitType}function bm(s){return`${wh(qn(s))}|lt:${s.limitType}`}function Cs(s){return`Query(target=${function(r){let o=r.path.canonicalString();return r.collectionGroup!==null&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map(l=>zm(l)).join(", ")}]`),Ql(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map(l=>function(p){return`${p.field.canonicalString()} (${p.dir})`}(l)).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map(l=>Fs(l)).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map(l=>Fs(l)).join(",")),`Target(${o})`}(qn(s))}; limitType=${s.limitType})`}function Xl(s,e){return e.isFoundDocument()&&function(o,l){const c=l.key.path;return o.collectionGroup!==null?l.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(c):he.isDocumentKey(o.path)?o.path.isEqual(c):o.path.isImmediateParentOf(c)}(s,e)&&function(o,l){for(const c of Qo(o))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(s,e)&&function(o,l){for(const c of o.filters)if(!c.matches(l))return!1;return!0}(s,e)&&function(o,l){return!(o.startAt&&!function(p,g,v){const E=Rp(p,g,v);return p.inclusive?E<=0:E<0}(o.startAt,Qo(o),l)||o.endAt&&!function(p,g,v){const E=Rp(p,g,v);return p.inclusive?E>=0:E>0}(o.endAt,Qo(o),l))}(s,e)}function vE(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function $m(s){return(e,r)=>{let o=!1;for(const l of Qo(s)){const c=_E(l,e,r);if(c!==0)return c;o=o||l.field.isKeyField()}return 0}}function _E(s,e,r){const o=s.field.isKeyField()?he.comparator(e.key,r.key):function(c,p,g){const v=p.data.field(c),E=g.data.field(c);return v!==null&&E!==null?Ms(v,E):pe(42886)}(s.field,e,r);switch(s.dir){case"asc":return o;case"desc":return-1*o;default:return pe(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(o!==void 0){for(const[l,c]of o)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,r){const o=this.mapKeyFn(e),l=this.inner[o];if(l===void 0)return this.inner[o]=[[e,r]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,r]);l.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return o.length===1?delete this.inner[r]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){na(this.inner,(r,o)=>{for(const[l,c]of o)e(l,c)})}isEmpty(){return Y_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=new nt(he.comparator);function Gr(){return EE}const qm=new nt(he.comparator);function bo(...s){let e=qm;for(const r of s)e=e.insert(r.key,r);return e}function wE(s){let e=qm;return s.forEach((r,o)=>e=e.insert(r,o.overlayedDocument)),e}function Ai(){return Ko()}function Hm(){return Ko()}function Ko(){return new Ni(s=>s.toString(),(s,e)=>s.isEqual(e))}const TE=new pt(he.comparator);function Ve(...s){let e=TE;for(const r of s)e=e.add(r);return e}const SE=new pt(we);function IE(){return SE}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jc(e)?"-0":e}}function AE(s){return{integerValue:""+s}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(){this._=void 0}}function RE(s,e,r){return s instanceof sh?function(l,c){const p={fields:{[xm]:{stringValue:Nm},[Om]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&_h(c)&&(c=Kl(c)),c&&(p.fields[Dm]=c),{mapValue:p}}(r,e):s instanceof jl?Qm(s,e):s instanceof Bl?Km(s,e):function(l,c){const p=kE(l,c),g=Np(p)+Np(l.Ae);return th(p)&&th(l.Ae)?AE(g):CE(l.serializer,g)}(s,e)}function PE(s,e,r){return s instanceof jl?Qm(s,e):s instanceof Bl?Km(s,e):r}function kE(s,e){return s instanceof oh?function(o){return th(o)||function(c){return!!c&&"doubleValue"in c}(o)}(e)?e:{integerValue:0}:null}class sh extends Yl{}class jl extends Yl{constructor(e){super(),this.elements=e}}function Qm(s,e){const r=Wm(e);for(const o of s.elements)r.some(l=>Hn(l,o))||r.push(o);return{arrayValue:{values:r}}}class Bl extends Yl{constructor(e){super(),this.elements=e}}function Km(s,e){let r=Wm(e);for(const o of s.elements)r=r.filter(l=>!Hn(l,o));return{arrayValue:{values:r}}}class oh extends Yl{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function Np(s){return tt(s.integerValue||s.doubleValue)}function Wm(s){return Eh(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function VE(s,e){return s.field.isEqual(e.field)&&function(o,l){return o instanceof jl&&l instanceof jl||o instanceof Bl&&l instanceof Bl?Ls(o.elements,l.elements,Hn):o instanceof oh&&l instanceof oh?Hn(o.Ae,l.Ae):o instanceof sh&&l instanceof sh}(s.transform,e.transform)}class ki{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new ki}static exists(e){return new ki(void 0,e)}static updateTime(e){return new ki(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vl(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Sh{}function Gm(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new xE(s.key,ki.none()):new Ih(s.key,s.data,ki.none());{const r=s.data,o=bn.empty();let l=new pt(jt.comparator);for(let c of e.fields)if(!l.has(c)){let p=r.field(c);p===null&&c.length>1&&(c=c.popLast(),p=r.field(c)),p===null?o.delete(c):o.set(c,p),l=l.add(c)}return new Jl(s.key,o,new Ur(l.toArray()),ki.none())}}function NE(s,e,r){s instanceof Ih?function(l,c,p){const g=l.value.clone(),v=Dp(l.fieldTransforms,c,p.transformResults);g.setAll(v),c.convertToFoundDocument(p.version,g).setHasCommittedMutations()}(s,e,r):s instanceof Jl?function(l,c,p){if(!Vl(l.precondition,c))return void c.convertToUnknownDocument(p.version);const g=Dp(l.fieldTransforms,c,p.transformResults),v=c.data;v.setAll(Xm(l)),v.setAll(g),c.convertToFoundDocument(p.version,v).setHasCommittedMutations()}(s,e,r):function(l,c,p){c.convertToNoDocument(p.version).setHasCommittedMutations()}(0,e,r)}function Wo(s,e,r,o){return s instanceof Ih?function(c,p,g,v){if(!Vl(c.precondition,p))return g;const E=c.value.clone(),A=Op(c.fieldTransforms,v,p);return E.setAll(A),p.convertToFoundDocument(p.version,E).setHasLocalMutations(),null}(s,e,r,o):s instanceof Jl?function(c,p,g,v){if(!Vl(c.precondition,p))return g;const E=Op(c.fieldTransforms,v,p),A=p.data;return A.setAll(Xm(c)),A.setAll(E),p.convertToFoundDocument(p.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(L=>L.field))}(s,e,r,o):function(c,p,g){return Vl(c.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):g}(s,e,r)}function xp(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(o,l){return o===void 0&&l===void 0||!(!o||!l)&&Ls(o,l,(c,p)=>VE(c,p))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Ih extends Sh{constructor(e,r,o,l=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Jl extends Sh{constructor(e,r,o,l,c=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Xm(s){const e=new Map;return s.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=s.data.field(r);e.set(r,o)}}),e}function Dp(s,e,r){const o=new Map;Ge(s.length===r.length,32656,{Re:r.length,Ve:s.length});for(let l=0;l<r.length;l++){const c=s[l],p=c.transform,g=e.data.field(c.field);o.set(c.field,PE(p,g,r[l]))}return o}function Op(s,e,r){const o=new Map;for(const l of s){const c=l.transform,p=r.data.field(l.field);o.set(l.field,RE(c,p,e))}return o}class xE extends Sh{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,r,o,l){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&NE(c,e,o[l])}}applyToLocalView(e,r){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(r=Wo(o,e,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(r=Wo(o,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const o=Hm();return this.mutations.forEach(l=>{const c=e.get(l.key),p=c.overlayedDocument;let g=this.applyToLocalView(p,c.mutatedFields);g=r.has(l.key)?null:g;const v=Gm(p,g);v!==null&&o.set(l.key,v),p.isValidDocument()||p.convertToNoDocument(de.min())}),o}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Ls(this.mutations,e.mutations,(r,o)=>xp(r,o))&&Ls(this.baseMutations,e.baseMutations,(r,o)=>xp(r,o))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st,Ae;function Ym(s){if(s===void 0)return fr("GRPC error has no .code"),G.UNKNOWN;switch(s){case st.OK:return G.OK;case st.CANCELLED:return G.CANCELLED;case st.UNKNOWN:return G.UNKNOWN;case st.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case st.INTERNAL:return G.INTERNAL;case st.UNAVAILABLE:return G.UNAVAILABLE;case st.UNAUTHENTICATED:return G.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case st.NOT_FOUND:return G.NOT_FOUND;case st.ALREADY_EXISTS:return G.ALREADY_EXISTS;case st.PERMISSION_DENIED:return G.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case st.ABORTED:return G.ABORTED;case st.OUT_OF_RANGE:return G.OUT_OF_RANGE;case st.UNIMPLEMENTED:return G.UNIMPLEMENTED;case st.DATA_LOSS:return G.DATA_LOSS;default:return pe(39323,{code:s})}}(Ae=st||(st={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=new br([4294967295,4294967295],0);function Lp(s){const e=ME().encode(s),r=new Em;return r.update(e),new Uint8Array(r.digest())}function Mp(s){const e=new DataView(s.buffer),r=e.getUint32(0,!0),o=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new br([r,o],0),new br([l,c],0)]}class Ch{constructor(e,r,o){if(this.bitmap=e,this.padding=r,this.hashCount=o,r<0||r>=8)throw new $o(`Invalid padding: ${r}`);if(o<0)throw new $o(`Invalid hash count: ${o}`);if(e.length>0&&this.hashCount===0)throw new $o(`Invalid hash count: ${o}`);if(e.length===0&&r!==0)throw new $o(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=br.fromNumber(this.ge)}ye(e,r,o){let l=e.add(r.multiply(br.fromNumber(o)));return l.compare(FE)===1&&(l=new br([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=Lp(e),[o,l]=Mp(r);for(let c=0;c<this.hashCount;c++){const p=this.ye(o,l,c);if(!this.we(p))return!1}return!0}static create(e,r,o){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),p=new Ch(c,l,r);return o.forEach(g=>p.insert(g)),p}insert(e){if(this.ge===0)return;const r=Lp(e),[o,l]=Mp(r);for(let c=0;c<this.hashCount;c++){const p=this.ye(o,l,c);this.Se(p)}}Se(e){const r=Math.floor(e/8),o=e%8;this.bitmap[r]|=1<<o}}class $o extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,r,o,l,c){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,r,o){const l=new Map;return l.set(e,ra.createSynthesizedTargetChangeForCurrentChange(e,r,o)),new Zl(de.min(),l,new nt(we),Gr(),Ve())}}class ra{constructor(e,r,o,l,c){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,r,o){return new ra(o,r,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,r,o,l){this.be=e,this.removedTargetIds=r,this.key=o,this.De=l}}class Jm{constructor(e,r){this.targetId=e,this.Ce=r}}class Zm{constructor(e,r,o=At.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=l}}class Fp{constructor(){this.ve=0,this.Fe=Up(),this.Me=At.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),r=Ve(),o=Ve();return this.Fe.forEach((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:r=r.add(l);break;case 1:o=o.add(l);break;default:pe(38017,{changeType:c})}}),new ra(this.Me,this.xe,e,r,o)}qe(){this.Oe=!1,this.Fe=Up()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class UE{constructor(e){this.Ge=e,this.ze=new Map,this.je=Gr(),this.Je=Cl(),this.He=Cl(),this.Ye=new nt(we)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,r=>{const o=this.nt(r);switch(e.state){case 0:this.rt(r)&&o.Le(e.resumeToken);break;case 1:o.Ke(),o.Ne||o.qe(),o.Le(e.resumeToken);break;case 2:o.Ke(),o.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(o.We(),o.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),o.Le(e.resumeToken));break;default:pe(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach((o,l)=>{this.rt(l)&&r(l)})}st(e){const r=e.targetId,o=e.Ce.count,l=this.ot(r);if(l){const c=l.target;if(rh(c))if(o===0){const p=new he(c.path);this.et(r,p,Lt.newNoDocument(p,de.min()))}else Ge(o===1,20013,{expectedCount:o});else{const p=this._t(r);if(p!==o){const g=this.ut(e),v=g?this.ct(g,e,p):1;if(v!==0){this.it(r);const E=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,E)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:o="",padding:l=0},hashCount:c=0}=r;let p,g;try{p=Kr(o).toUint8Array()}catch(v){if(v instanceof Vm)return Os("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Ch(p,l,c)}catch(v){return Os(v instanceof $o?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(e,r,o){return r.Ce.count===o-this.Pt(e,r.targetId)?0:2}Pt(e,r){const o=this.Ge.getRemoteKeysForTarget(r);let l=0;return o.forEach(c=>{const p=this.Ge.ht(),g=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(r,c,null),l++)}),l}Tt(e){const r=new Map;this.ze.forEach((c,p)=>{const g=this.ot(p);if(g){if(c.current&&rh(g.target)){const v=new he(g.target.path);this.It(v).has(p)||this.Et(p,v)||this.et(p,v,Lt.newNoDocument(v,e))}c.Be&&(r.set(p,c.ke()),c.qe())}});let o=Ve();this.He.forEach((c,p)=>{let g=!0;p.forEachWhile(v=>{const E=this.ot(v);return!E||E.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(o=o.add(c))}),this.je.forEach((c,p)=>p.setReadTime(e));const l=new Zl(e,r,this.Ye,this.je,o);return this.je=Gr(),this.Je=Cl(),this.He=Cl(),this.Ye=new nt(we),l}Xe(e,r){if(!this.rt(e))return;const o=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,o),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,o){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,r)?l.Qe(r,1):l.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),o&&(this.je=this.je.insert(r,o))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new Fp,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new pt(we),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new pt(we),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||te("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Fp),this.Ge.getRemoteKeysForTarget(e).forEach(r=>{this.et(e,r,null)})}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function Cl(){return new nt(he.comparator)}function Up(){return new nt(he.comparator)}const zE={asc:"ASCENDING",desc:"DESCENDING"},jE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BE={and:"AND",or:"OR"};class bE{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function ah(s,e){return s.useProto3Json||Ql(e)?e:{value:e}}function $E(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function ks(s){return Ge(!!s,49232),de.fromTimestamp(function(r){const o=Qr(r);return new ot(o.seconds,o.nanos)}(s))}function HE(s,e){return lh(s,e).canonicalString()}function lh(s,e){const r=function(l){return new We(["projects",l.projectId,"databases",l.database])}(s).child("documents");return e===void 0?r:r.child(e)}function eg(s){const e=We.fromString(s);return Ge(sg(e),10190,{key:e.toString()}),e}function zc(s,e){const r=eg(e);if(r.get(1)!==s.databaseId.projectId)throw new ae(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+s.databaseId.projectId);if(r.get(3)!==s.databaseId.database)throw new ae(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+s.databaseId.database);return new he(ng(r))}function tg(s,e){return HE(s.databaseId,e)}function QE(s){const e=eg(s);return e.length===4?We.emptyPath():ng(e)}function zp(s){return new We(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function ng(s){return Ge(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function KE(s,e){let r;if("targetChange"in e){e.targetChange;const o=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:pe(39313,{state:E})}(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=function(E,A){return E.useProto3Json?(Ge(A===void 0||typeof A=="string",58123),At.fromBase64String(A||"")):(Ge(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),At.fromUint8Array(A||new Uint8Array))}(s,e.targetChange.resumeToken),p=e.targetChange.cause,g=p&&function(E){const A=E.code===void 0?G.UNKNOWN:Ym(E.code);return new ae(A,E.message||"")}(p);r=new Zm(o,l,c,g||null)}else if("documentChange"in e){e.documentChange;const o=e.documentChange;o.document,o.document.name,o.document.updateTime;const l=zc(s,o.document.name),c=ks(o.document.updateTime),p=o.document.createTime?ks(o.document.createTime):de.min(),g=new bn({mapValue:{fields:o.document.fields}}),v=Lt.newFoundDocument(l,c,p,g),E=o.targetIds||[],A=o.removedTargetIds||[];r=new Nl(E,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const o=e.documentDelete;o.document;const l=zc(s,o.document),c=o.readTime?ks(o.readTime):de.min(),p=Lt.newNoDocument(l,c),g=o.removedTargetIds||[];r=new Nl([],g,p.key,p)}else if("documentRemove"in e){e.documentRemove;const o=e.documentRemove;o.document;const l=zc(s,o.document),c=o.removedTargetIds||[];r=new Nl([],c,l,null)}else{if(!("filter"in e))return pe(11601,{Rt:e});{e.filter;const o=e.filter;o.targetId;const{count:l=0,unchangedNames:c}=o,p=new LE(l,c),g=o.targetId;r=new Jm(g,p)}}return r}function WE(s,e){return{documents:[tg(s,e.path)]}}function GE(s,e){const r={structuredQuery:{}},o=e.path;let l;e.collectionGroup!==null?(l=o,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=o.popLast(),r.structuredQuery.from=[{collectionId:o.lastSegment()}]),r.parent=tg(s,l);const c=function(E){if(E.length!==0)return ig(Qn.create(E,"and"))}(e.filters);c&&(r.structuredQuery.where=c);const p=function(E){if(E.length!==0)return E.map(A=>function(M){return{field:As(M.field),direction:JE(M.dir)}}(A))}(e.orderBy);p&&(r.structuredQuery.orderBy=p);const g=ah(s,e.limit);return g!==null&&(r.structuredQuery.limit=g),e.startAt&&(r.structuredQuery.startAt=function(E){return{before:E.inclusive,values:E.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(E){return{before:!E.inclusive,values:E.position}}(e.endAt)),{ft:r,parent:l}}function XE(s){let e=QE(s.parent);const r=s.structuredQuery,o=r.from?r.from.length:0;let l=null;if(o>0){Ge(o===1,65062);const A=r.from[0];A.allDescendants?l=A.collectionId:e=e.child(A.collectionId)}let c=[];r.where&&(c=function(L){const M=rg(L);return M instanceof Qn&&Fm(M)?M.getFilters():[M]}(r.where));let p=[];r.orderBy&&(p=function(L){return L.map(M=>function(Y){return new zl(Rs(Y.field),function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Y.direction))}(M))}(r.orderBy));let g=null;r.limit&&(g=function(L){let M;return M=typeof L=="object"?L.value:L,Ql(M)?null:M}(r.limit));let v=null;r.startAt&&(v=function(L){const M=!!L.before,H=L.values||[];return new Ul(H,M)}(r.startAt));let E=null;return r.endAt&&(E=function(L){const M=!L.before,H=L.values||[];return new Ul(H,M)}(r.endAt)),mE(e,l,p,c,g,"F",v,E)}function YE(s,e){const r=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe(28987,{purpose:l})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function rg(s){return s.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=Rs(r.unaryFilter.field);return dt.create(o,"==",{doubleValue:NaN});case"IS_NULL":const l=Rs(r.unaryFilter.field);return dt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Rs(r.unaryFilter.field);return dt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Rs(r.unaryFilter.field);return dt.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pe(61313);default:return pe(60726)}}(s):s.fieldFilter!==void 0?function(r){return dt.create(Rs(r.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pe(58110);default:return pe(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(r){return Qn.create(r.compositeFilter.filters.map(o=>rg(o)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pe(1026)}}(r.compositeFilter.op))}(s):pe(30097,{filter:s})}function JE(s){return zE[s]}function ZE(s){return jE[s]}function e0(s){return BE[s]}function As(s){return{fieldPath:s.canonicalString()}}function Rs(s){return jt.fromServerFormat(s.fieldPath)}function ig(s){return s instanceof dt?function(r){if(r.op==="=="){if(Ap(r.value))return{unaryFilter:{field:As(r.field),op:"IS_NAN"}};if(Cp(r.value))return{unaryFilter:{field:As(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Ap(r.value))return{unaryFilter:{field:As(r.field),op:"IS_NOT_NAN"}};if(Cp(r.value))return{unaryFilter:{field:As(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:As(r.field),op:ZE(r.op),value:r.value}}}(s):s instanceof Qn?function(r){const o=r.getFilters().map(l=>ig(l));return o.length===1?o[0]:{compositeFilter:{op:e0(r.op),filters:o}}}(s):pe(54877,{filter:s})}function sg(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,r,o,l,c=de.min(),p=de.min(),g=At.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e){this.yt=e}}function n0(s){const e=XE({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?ih(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(){this.Cn=new i0}addToCollectionParentIndex(e,r){return this.Cn.add(r),B.resolve()}getCollectionParents(e,r){return B.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return B.resolve()}deleteFieldIndex(e,r){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,r){return B.resolve()}getDocumentsMatchingTarget(e,r){return B.resolve(null)}getIndexType(e,r){return B.resolve(0)}getFieldIndexes(e,r){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,r){return B.resolve(Hr.min())}getMinOffsetFromCollectionGroup(e,r){return B.resolve(Hr.min())}updateCollectionGroup(e,r,o){return B.resolve()}updateIndexEntries(e,r){return B.resolve()}}class i0{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),l=this.index[r]||new pt(We.comparator),c=!l.has(o);return this.index[r]=l.add(o),c}has(e){const r=e.lastSegment(),o=e.popLast(),l=this.index[r];return l&&l.has(o)}getEntries(e){return(this.index[e]||new pt(We.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},og=41943040;class Gt{static withCacheSize(e){return new Gt(e,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gt.DEFAULT_COLLECTION_PERCENTILE=10,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gt.DEFAULT=new Gt(og,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gt.DISABLED=new Gt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Us(0)}static cr(){return new Us(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="LruGarbageCollector",s0=1048576;function bp([s,e],[r,o]){const l=we(s,r);return l===0?we(e,o):l}class o0{constructor(e){this.Ir=e,this.buffer=new pt(bp),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();bp(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class a0{constructor(e,r,o){this.garbageCollector=e,this.asyncQueue=r,this.localStore=o,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){te(Bp,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){$s(r)?te(Bp,"Ignoring IndexedDB error during garbage collection: ",r):await ql(r)}await this.Vr(3e5)})}}class l0{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next(o=>Math.floor(r/100*o))}nthSequenceNumber(e,r){if(r===0)return B.resolve(Hl.ce);const o=new o0(r);return this.mr.forEachTarget(e,l=>o.Ar(l.sequenceNumber)).next(()=>this.mr.pr(e,l=>o.Ar(l))).next(()=>o.maxValue)}removeTargets(e,r,o){return this.mr.removeTargets(e,r,o)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(jp)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jp):this.yr(e,r))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let o,l,c,p,g,v,E;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(L=>(L>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${L}`),l=this.params.maximumSequenceNumbersToCollect):l=L,p=Date.now(),this.nthSequenceNumber(e,l))).next(L=>(o=L,g=Date.now(),this.removeTargets(e,o,r))).next(L=>(c=L,v=Date.now(),this.removeOrphanedDocuments(e,o))).next(L=>(E=Date.now(),Is()<=Re.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-A}ms
	Determined least recently used ${l} in `+(g-p)+`ms
	Removed ${c} targets in `+(v-g)+`ms
	Removed ${L} documents in `+(E-v)+`ms
Total Duration: ${E-A}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:L})))}}function u0(s,e){return new l0(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(){this.changes=new Ni(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Lt.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return o!==void 0?B.resolve(o):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,r,o,l){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=l}getDocument(e,r){let o=null;return this.documentOverlayCache.getOverlay(e,r).next(l=>(o=l,this.remoteDocumentCache.getEntry(e,r))).next(l=>(o!==null&&Wo(o.mutation,l,Ur.empty(),ot.now()),l))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.getLocalViewOfDocuments(e,o,Ve()).next(()=>o))}getLocalViewOfDocuments(e,r,o=Ve()){const l=Ai();return this.populateOverlays(e,l,r).next(()=>this.computeViews(e,r,l,o).next(c=>{let p=bo();return c.forEach((g,v)=>{p=p.insert(g,v.overlayedDocument)}),p}))}getOverlayedDocuments(e,r){const o=Ai();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,Ve()))}populateOverlays(e,r,o){const l=[];return o.forEach(c=>{r.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(e,l).next(c=>{c.forEach((p,g)=>{r.set(p,g)})})}computeViews(e,r,o,l){let c=Gr();const p=Ko(),g=function(){return Ko()}();return r.forEach((v,E)=>{const A=o.get(E.key);l.has(E.key)&&(A===void 0||A.mutation instanceof Jl)?c=c.insert(E.key,E):A!==void 0?(p.set(E.key,A.mutation.getFieldMask()),Wo(A.mutation,E,A.mutation.getFieldMask(),ot.now())):p.set(E.key,Ur.empty())}),this.recalculateAndSaveOverlays(e,c).next(v=>(v.forEach((E,A)=>p.set(E,A)),r.forEach((E,A)=>g.set(E,new h0(A,p.get(E)??null))),g))}recalculateAndSaveOverlays(e,r){const o=Ko();let l=new nt((p,g)=>p-g),c=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(p=>{for(const g of p)g.keys().forEach(v=>{const E=r.get(v);if(E===null)return;let A=o.get(v)||Ur.empty();A=g.applyToLocalView(E,A),o.set(v,A);const L=(l.get(g.batchId)||Ve()).add(v);l=l.insert(g.batchId,L)})}).next(()=>{const p=[],g=l.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),E=v.key,A=v.value,L=Hm();A.forEach(M=>{if(!c.has(M)){const H=Gm(r.get(M),o.get(M));H!==null&&L.set(M,H),c=c.add(M)}}),p.push(this.documentOverlayCache.saveOverlays(e,E,L))}return B.waitFor(p)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,r,o,l){return function(p){return he.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):gE(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,o,l):this.getDocumentsMatchingCollectionQuery(e,r,o,l)}getNextDocuments(e,r,o,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,o,l).next(c=>{const p=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,o.largestBatchId,l-c.size):B.resolve(Ai());let g=Yo,v=c;return p.next(E=>B.forEach(E,(A,L)=>(g<L.largestBatchId&&(g=L.largestBatchId),c.get(A)?B.resolve():this.remoteDocumentCache.getEntry(e,A).next(M=>{v=v.insert(A,M)}))).next(()=>this.populateOverlays(e,E,c)).next(()=>this.computeViews(e,v,E,Ve())).next(A=>({batchId:g,changes:wE(A)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new he(r)).next(o=>{let l=bo();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}getDocumentsMatchingCollectionGroupQuery(e,r,o,l){const c=r.collectionGroup;let p=bo();return this.indexManager.getCollectionParents(e,c).next(g=>B.forEach(g,v=>{const E=function(L,M){return new Wl(M,null,L.explicitOrderBy.slice(),L.filters.slice(),L.limit,L.limitType,L.startAt,L.endAt)}(r,v.child(c));return this.getDocumentsMatchingCollectionQuery(e,E,o,l).next(A=>{A.forEach((L,M)=>{p=p.insert(L,M)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,r,o,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,o.largestBatchId).next(p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,o,c,l))).next(p=>{c.forEach((v,E)=>{const A=E.getKey();p.get(A)===null&&(p=p.insert(A,Lt.newInvalidDocument(A)))});let g=bo();return p.forEach((v,E)=>{const A=c.get(v);A!==void 0&&Wo(A.mutation,E,Ur.empty(),ot.now()),Xl(r,E)&&(g=g.insert(v,E))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return B.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,function(l){return{id:l.id,version:l.version,createTime:ks(l.createTime)}}(r)),B.resolve()}getNamedQuery(e,r){return B.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,function(l){return{name:l.name,query:n0(l.bundledQuery),readTime:ks(l.readTime)}}(r)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(){this.overlays=new nt(he.comparator),this.qr=new Map}getOverlay(e,r){return B.resolve(this.overlays.get(r))}getOverlays(e,r){const o=Ai();return B.forEach(r,l=>this.getOverlay(e,l).next(c=>{c!==null&&o.set(l,c)})).next(()=>o)}saveOverlays(e,r,o){return o.forEach((l,c)=>{this.St(e,r,c)}),B.resolve()}removeOverlaysForBatchId(e,r,o){const l=this.qr.get(o);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.qr.delete(o)),B.resolve()}getOverlaysForCollection(e,r,o){const l=Ai(),c=r.length+1,p=new he(r.child("")),g=this.overlays.getIteratorFrom(p);for(;g.hasNext();){const v=g.getNext().value,E=v.getKey();if(!r.isPrefixOf(E.path))break;E.path.length===c&&v.largestBatchId>o&&l.set(v.getKey(),v)}return B.resolve(l)}getOverlaysForCollectionGroup(e,r,o,l){let c=new nt((E,A)=>E-A);const p=this.overlays.getIterator();for(;p.hasNext();){const E=p.getNext().value;if(E.getKey().getCollectionGroup()===r&&E.largestBatchId>o){let A=c.get(E.largestBatchId);A===null&&(A=Ai(),c=c.insert(E.largestBatchId,A)),A.set(E.getKey(),E)}}const g=Ai(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((E,A)=>g.set(E,A)),!(g.size()>=l)););return B.resolve(g)}St(e,r,o){const l=this.overlays.get(o.key);if(l!==null){const p=this.qr.get(l.largestBatchId).delete(o.key);this.qr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(o.key,new OE(r,o));let c=this.qr.get(r);c===void 0&&(c=Ve(),this.qr.set(r,c)),this.qr.set(r,c.add(o.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(){this.sessionToken=At.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(){this.Qr=new pt(Et.$r),this.Ur=new pt(Et.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const o=new Et(e,r);this.Qr=this.Qr.add(o),this.Ur=this.Ur.add(o)}Wr(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.Gr(new Et(e,r))}zr(e,r){e.forEach(o=>this.removeReference(o,r))}jr(e){const r=new he(new We([])),o=new Et(r,e),l=new Et(r,e+1),c=[];return this.Ur.forEachInRange([o,l],p=>{this.Gr(p),c.push(p.key)}),c}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new he(new We([])),o=new Et(r,e),l=new Et(r,e+1);let c=Ve();return this.Ur.forEachInRange([o,l],p=>{c=c.add(p.key)}),c}containsKey(e){const r=new Et(e,0),o=this.Qr.firstAfterOrEqual(r);return o!==null&&e.isEqual(o.key)}}class Et{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return he.comparator(e.key,r.key)||we(e.Yr,r.Yr)}static Kr(e,r){return we(e.Yr,r.Yr)||he.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new pt(Et.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,o,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new DE(c,r,o,l);this.mutationQueue.push(p);for(const g of l)this.Zr=this.Zr.add(new Et(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return B.resolve(p)}lookupMutationBatch(e,r){return B.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const o=r+1,l=this.ei(o),c=l<0?0:l;return B.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?W_:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new Et(r,0),l=new Et(r,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([o,l],p=>{const g=this.Xr(p.Yr);c.push(g)}),B.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new pt(we);return r.forEach(l=>{const c=new Et(l,0),p=new Et(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,p],g=>{o=o.add(g.Yr)})}),B.resolve(this.ti(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,l=o.length+1;let c=o;he.isDocumentKey(c)||(c=c.child(""));const p=new Et(new he(c),0);let g=new pt(we);return this.Zr.forEachWhile(v=>{const E=v.key.path;return!!o.isPrefixOf(E)&&(E.length===l&&(g=g.add(v.Yr)),!0)},p),B.resolve(this.ti(g))}ti(e){const r=[];return e.forEach(o=>{const l=this.Xr(o);l!==null&&r.push(l)}),r}removeMutationBatch(e,r){Ge(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let o=this.Zr;return B.forEach(r.mutations,l=>{const c=new Et(l.key,r.batchId);return o=o.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Zr=o})}ir(e){}containsKey(e,r){const o=new Et(r,0),l=this.Zr.firstAfterOrEqual(o);return B.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){this.ri=e,this.docs=function(){return new nt(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const o=r.key,l=this.docs.get(o),c=l?l.size:0,p=this.ri(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return B.resolve(o?o.document.mutableCopy():Lt.newInvalidDocument(r))}getEntries(e,r){let o=Gr();return r.forEach(l=>{const c=this.docs.get(l);o=o.insert(l,c?c.document.mutableCopy():Lt.newInvalidDocument(l))}),B.resolve(o)}getDocumentsMatchingQuery(e,r,o,l){let c=Gr();const p=r.path,g=new he(p.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:E,value:{document:A}}=v.getNext();if(!p.isPrefixOf(E.path))break;E.path.length>p.length+1||q_($_(A),o)<=0||(l.has(A.key)||Xl(r,A))&&(c=c.insert(A.key,A.mutableCopy()))}return B.resolve(c)}getAllFromCollectionGroup(e,r,o,l){pe(9500)}ii(e,r){return B.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new v0(this)}getSize(e){return B.resolve(this.size)}}class v0 extends c0{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?r.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(o)}),B.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e){this.persistence=e,this.si=new Ni(r=>wh(r),Th),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.oi=0,this._i=new Ah,this.targetCount=0,this.ai=Us.ur()}forEachTarget(e,r){return this.si.forEach((o,l)=>r(l)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.oi&&(this.oi=r),B.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new Us(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,B.resolve()}updateTargetData(e,r){return this.Pr(r),B.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,r,o){let l=0;const c=[];return this.si.forEach((p,g)=>{g.sequenceNumber<=r&&o.get(g.targetId)===null&&(this.si.delete(p),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)}),B.waitFor(c).next(()=>l)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,r){const o=this.si.get(r)||null;return B.resolve(o)}addMatchingKeys(e,r,o){return this._i.Wr(r,o),B.resolve()}removeMatchingKeys(e,r,o){this._i.zr(r,o);const l=this.persistence.referenceDelegate,c=[];return l&&r.forEach(p=>{c.push(l.markPotentiallyOrphaned(e,p))}),B.waitFor(c)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),B.resolve()}getMatchingKeysForTargetId(e,r){const o=this._i.Hr(r);return B.resolve(o)}containsKey(e,r){return B.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,r){this.ui={},this.overlays={},this.ci=new Hl(0),this.li=!1,this.li=!0,this.hi=new m0,this.referenceDelegate=e(this),this.Pi=new _0(this),this.indexManager=new r0,this.remoteDocumentCache=function(l){return new y0(l)}(o=>this.referenceDelegate.Ti(o)),this.serializer=new t0(r),this.Ii=new d0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new p0,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let o=this.ui[e.toKey()];return o||(o=new g0(r,this.referenceDelegate),this.ui[e.toKey()]=o),o}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,o){te("MemoryPersistence","Starting transaction:",e);const l=new E0(this.ci.next());return this.referenceDelegate.Ei(),o(l).next(c=>this.referenceDelegate.di(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Ai(e,r){return B.or(Object.values(this.ui).map(o=>()=>o.containsKey(e,r)))}}class E0 extends Q_{constructor(e){super(),this.currentSequenceNumber=e}}class Rh{constructor(e){this.persistence=e,this.Ri=new Ah,this.Vi=null}static mi(e){return new Rh(e)}get fi(){if(this.Vi)return this.Vi;throw pe(60996)}addReference(e,r,o){return this.Ri.addReference(o,r),this.fi.delete(o.toString()),B.resolve()}removeReference(e,r,o){return this.Ri.removeReference(o,r),this.fi.add(o.toString()),B.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),B.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach(l=>this.fi.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(l=>{l.forEach(c=>this.fi.add(c.toString()))}).next(()=>o.removeTargetData(e,r))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,o=>{const l=he.fromPath(o);return this.gi(e,l).next(c=>{c||r.removeEntry(l,de.min())})}).next(()=>(this.Vi=null,r.apply(e)))}updateLimboDocument(e,r){return this.gi(e,r).next(o=>{o?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(e){return 0}gi(e,r){return B.or([()=>B.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class bl{constructor(e,r){this.persistence=e,this.pi=new Ni(o=>G_(o.path),(o,l)=>o.isEqual(l)),this.garbageCollector=u0(this,r)}static mi(e,r){return new bl(e,r)}Ei(){}di(e){return B.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(o=>r.next(l=>o+l))}wr(e){let r=0;return this.pr(e,o=>{r++}).next(()=>r)}pr(e,r){return B.forEach(this.pi,(o,l)=>this.br(e,o,l).next(c=>c?B.resolve():r(l)))}removeTargets(e,r,o){return this.persistence.getTargetCache().removeTargets(e,r,o)}removeOrphanedDocuments(e,r){let o=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,p=>this.br(e,p,r).next(g=>{g||(o++,c.removeEntry(p,de.min()))})).next(()=>c.apply(e)).next(()=>o)}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeTarget(e,r){const o=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,o)}addReference(e,r,o){return this.pi.set(o,e.currentSequenceNumber),B.resolve()}removeReference(e,r,o){return this.pi.set(o,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=kl(e.data.value)),r}br(e,r,o){return B.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const l=this.pi.get(r);return B.resolve(l!==void 0&&l>o)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,r,o,l){this.targetId=e,this.fromCache=r,this.Es=o,this.ds=l}static As(e,r){let o=Ve(),l=Ve();for(const c of r.docChanges)switch(c.type){case 0:o=o.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Ph(e,r.fromCache,o,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return lv()?8:K_(ov())>0?6:4}()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,o,l){const c={result:null};return this.ys(e,r).next(p=>{c.result=p}).next(()=>{if(!c.result)return this.ws(e,r,l,o).next(p=>{c.result=p})}).next(()=>{if(c.result)return;const p=new w0;return this.Ss(e,r,p).next(g=>{if(c.result=g,this.Vs)return this.bs(e,r,p,g.size)})}).next(()=>c.result)}bs(e,r,o,l){return o.documentReadCount<this.fs?(Is()<=Re.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Cs(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(Is()<=Re.DEBUG&&te("QueryEngine","Query:",Cs(r),"scans",o.documentReadCount,"local documents and returns",l,"documents as results."),o.documentReadCount>this.gs*l?(Is()<=Re.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Cs(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qn(r))):B.resolve())}ys(e,r){if(Vp(r))return B.resolve(null);let o=qn(r);return this.indexManager.getIndexType(e,o).next(l=>l===0?null:(r.limit!==null&&l===1&&(r=ih(r,null,"F"),o=qn(r)),this.indexManager.getDocumentsMatchingTarget(e,o).next(c=>{const p=Ve(...c);return this.ps.getDocuments(e,p).next(g=>this.indexManager.getMinOffset(e,o).next(v=>{const E=this.Ds(r,g);return this.Cs(r,E,p,v.readTime)?this.ys(e,ih(r,null,"F")):this.vs(e,E,r,v)}))})))}ws(e,r,o,l){return Vp(r)||l.isEqual(de.min())?B.resolve(null):this.ps.getDocuments(e,o).next(c=>{const p=this.Ds(r,c);return this.Cs(r,p,o,l)?B.resolve(null):(Is()<=Re.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Cs(r)),this.vs(e,p,r,b_(l,Yo)).next(g=>g))})}Ds(e,r){let o=new pt($m(e));return r.forEach((l,c)=>{Xl(e,c)&&(o=o.add(c))}),o}Cs(e,r,o,l){if(e.limit===null)return!1;if(o.size!==r.size)return!0;const c=e.limitType==="F"?r.last():r.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,r,o){return Is()<=Re.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Cs(r)),this.ps.getDocumentsMatchingQuery(e,r,Hr.min(),o)}vs(e,r,o,l){return this.ps.getDocumentsMatchingQuery(e,o,l).next(c=>(r.forEach(p=>{c=c.insert(p.key,p)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh="LocalStore",S0=3e8;class I0{constructor(e,r,o,l){this.persistence=e,this.Fs=r,this.serializer=l,this.Ms=new nt(we),this.xs=new Ni(c=>wh(c),Th),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(o)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new f0(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ms))}}function C0(s,e,r,o){return new I0(s,e,r,o)}async function lg(s,e){const r=Pe(s);return await r.persistence.runTransaction("Handle user change","readonly",o=>{let l;return r.mutationQueue.getAllMutationBatches(o).next(c=>(l=c,r.Bs(e),r.mutationQueue.getAllMutationBatches(o))).next(c=>{const p=[],g=[];let v=Ve();for(const E of l){p.push(E.batchId);for(const A of E.mutations)v=v.add(A.key)}for(const E of c){g.push(E.batchId);for(const A of E.mutations)v=v.add(A.key)}return r.localDocuments.getDocuments(o,v).next(E=>({Ls:E,removedBatchIds:p,addedBatchIds:g}))})})}function ug(s){const e=Pe(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Pi.getLastRemoteSnapshotVersion(r))}function A0(s,e){const r=Pe(s),o=e.snapshotVersion;let l=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const p=r.Ns.newChangeBuffer({trackRemovals:!0});l=r.Ms;const g=[];e.targetChanges.forEach((A,L)=>{const M=l.get(L);if(!M)return;g.push(r.Pi.removeMatchingKeys(c,A.removedDocuments,L).next(()=>r.Pi.addMatchingKeys(c,A.addedDocuments,L)));let H=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(L)!==null?H=H.withResumeToken(At.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,o)),l=l.insert(L,H),function(Z,K,Te){return Z.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=S0?!0:Te.addedDocuments.size+Te.modifiedDocuments.size+Te.removedDocuments.size>0}(M,H,A)&&g.push(r.Pi.updateTargetData(c,H))});let v=Gr(),E=Ve();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(r.persistence.referenceDelegate.updateLimboDocument(c,A))}),g.push(R0(c,p,e.documentUpdates).next(A=>{v=A.ks,E=A.qs})),!o.isEqual(de.min())){const A=r.Pi.getLastRemoteSnapshotVersion(c).next(L=>r.Pi.setTargetsMetadata(c,c.currentSequenceNumber,o));g.push(A)}return B.waitFor(g).next(()=>p.apply(c)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,v,E)).next(()=>v)}).then(c=>(r.Ms=l,c))}function R0(s,e,r){let o=Ve(),l=Ve();return r.forEach(c=>o=o.add(c)),e.getEntries(s,o).next(c=>{let p=Gr();return r.forEach((g,v)=>{const E=c.get(g);v.isFoundDocument()!==E.isFoundDocument()&&(l=l.add(g)),v.isNoDocument()&&v.version.isEqual(de.min())?(e.removeEntry(g,v.readTime),p=p.insert(g,v)):!E.isValidDocument()||v.version.compareTo(E.version)>0||v.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(v),p=p.insert(g,v)):te(kh,"Ignoring outdated watch update for ",g,". Current version:",E.version," Watch version:",v.version)}),{ks:p,qs:l}})}function P0(s,e){const r=Pe(s);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return r.Pi.getTargetData(o,e).next(c=>c?(l=c,B.resolve(l)):r.Pi.allocateTargetId(o).next(p=>(l=new zr(e,p,"TargetPurposeListen",o.currentSequenceNumber),r.Pi.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=r.Ms.get(o.targetId);return(l===null||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(o.targetId,o),r.xs.set(e,o.targetId)),o})}async function uh(s,e,r){const o=Pe(s),l=o.Ms.get(e),c=r?"readwrite":"readwrite-primary";try{r||await o.persistence.runTransaction("Release target",c,p=>o.persistence.referenceDelegate.removeTarget(p,l))}catch(p){if(!$s(p))throw p;te(kh,`Failed to update sequence numbers for target ${e}: ${p}`)}o.Ms=o.Ms.remove(e),o.xs.delete(l.target)}function $p(s,e,r){const o=Pe(s);let l=de.min(),c=Ve();return o.persistence.runTransaction("Execute query","readwrite",p=>function(v,E,A){const L=Pe(v),M=L.xs.get(A);return M!==void 0?B.resolve(L.Ms.get(M)):L.Pi.getTargetData(E,A)}(o,p,qn(e)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,o.Pi.getMatchingKeysForTargetId(p,g.targetId).next(v=>{c=v})}).next(()=>o.Fs.getDocumentsMatchingQuery(p,e,r?l:de.min(),r?c:Ve())).next(g=>(k0(o,vE(e),g),{documents:g,Qs:c})))}function k0(s,e,r){let o=s.Os.get(e)||de.min();r.forEach((l,c)=>{c.readTime.compareTo(o)>0&&(o=c.readTime)}),s.Os.set(e,o)}class qp{constructor(){this.activeTargetIds=IE()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class V0{constructor(){this.Mo=new qp,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,o){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new qp,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="ConnectivityMonitor";class Qp{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){te(Hp,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){te(Hp,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Al=null;function ch(){return Al===null?Al=function(){return 268435456+Math.round(2147483648*Math.random())}():Al++,"0x"+Al.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc="RestConnection",x0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class D0{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${o}/databases/${l}`,this.Wo=this.databaseId.database===Fl?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Go(e,r,o,l,c){const p=ch(),g=this.zo(e,r.toUriEncodedString());te(jc,`Sending RPC '${e}' ${p}:`,g,o);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,l,c);const{host:E}=new URL(g),A=gh(E);return this.Jo(e,g,v,o,A).then(L=>(te(jc,`Received RPC '${e}' ${p}: `,L),L),L=>{throw Os(jc,`RPC '${e}' ${p} failed with error: `,L,"url: ",g,"request:",o),L})}Ho(e,r,o,l,c,p){return this.Go(e,r,o,l,c)}jo(e,r,o){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((l,c)=>e[c]=l),o&&o.headers.forEach((l,c)=>e[c]=l)}zo(e,r){const o=x0[e];return`${this.Uo}/v1/${r}:${o}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dt="WebChannelConnection";class L0 extends D0{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,o,l,c){const p=ch();return new Promise((g,v)=>{const E=new wm;E.setWithCredentials(!0),E.listenOnce(Tm.COMPLETE,()=>{try{switch(E.getLastErrorCode()){case Pl.NO_ERROR:const L=E.getResponseJson();te(Dt,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(L)),g(L);break;case Pl.TIMEOUT:te(Dt,`RPC '${e}' ${p} timed out`),v(new ae(G.DEADLINE_EXCEEDED,"Request time out"));break;case Pl.HTTP_ERROR:const M=E.getStatus();if(te(Dt,`RPC '${e}' ${p} failed with status:`,M,"response text:",E.getResponseText()),M>0){let H=E.getResponseJson();Array.isArray(H)&&(H=H[0]);const Y=H?.error;if(Y&&Y.status&&Y.message){const Z=function(Te){const ge=Te.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(ge)>=0?ge:G.UNKNOWN}(Y.status);v(new ae(Z,Y.message))}else v(new ae(G.UNKNOWN,"Server responded with status "+E.getStatus()))}else v(new ae(G.UNAVAILABLE,"Connection failed."));break;default:pe(9055,{l_:e,streamId:p,h_:E.getLastErrorCode(),P_:E.getLastError()})}}finally{te(Dt,`RPC '${e}' ${p} completed.`)}});const A=JSON.stringify(l);te(Dt,`RPC '${e}' ${p} sending request:`,l),E.send(r,"POST",A,o,15)})}T_(e,r,o){const l=ch(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=Cm(),g=Im(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(v.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,r,o),v.encodeInitMessageHeaders=!0;const A=c.join("");te(Dt,`Creating RPC '${e}' stream ${l}: ${A}`,v);const L=p.createWebChannel(A,v);this.I_(L);let M=!1,H=!1;const Y=new O0({Yo:K=>{H?te(Dt,`Not sending because RPC '${e}' stream ${l} is closed:`,K):(M||(te(Dt,`Opening RPC '${e}' stream ${l} transport.`),L.open(),M=!0),te(Dt,`RPC '${e}' stream ${l} sending:`,K),L.send(K))},Zo:()=>L.close()}),Z=(K,Te,ge)=>{K.listen(Te,me=>{try{ge(me)}catch(Se){setTimeout(()=>{throw Se},0)}})};return Z(L,Bo.EventType.OPEN,()=>{H||(te(Dt,`RPC '${e}' stream ${l} transport opened.`),Y.o_())}),Z(L,Bo.EventType.CLOSE,()=>{H||(H=!0,te(Dt,`RPC '${e}' stream ${l} transport closed`),Y.a_(),this.E_(L))}),Z(L,Bo.EventType.ERROR,K=>{H||(H=!0,Os(Dt,`RPC '${e}' stream ${l} transport errored. Name:`,K.name,"Message:",K.message),Y.a_(new ae(G.UNAVAILABLE,"The operation could not be completed")))}),Z(L,Bo.EventType.MESSAGE,K=>{if(!H){const Te=K.data[0];Ge(!!Te,16349);const ge=Te,me=ge?.error||ge[0]?.error;if(me){te(Dt,`RPC '${e}' stream ${l} received error:`,me);const Se=me.status;let Xe=function(T){const I=st[T];if(I!==void 0)return Ym(I)}(Se),Ne=me.message;Xe===void 0&&(Xe=G.INTERNAL,Ne="Unknown error status: "+Se+" with message "+me.message),H=!0,Y.a_(new ae(Xe,Ne)),L.close()}else te(Dt,`RPC '${e}' stream ${l} received:`,Te),Y.u_(Te)}}),Z(g,Sm.STAT_EVENT,K=>{K.stat===Gc.PROXY?te(Dt,`RPC '${e}' stream ${l} detected buffering proxy`):K.stat===Gc.NOPROXY&&te(Dt,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Y.__()},0),Y}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(r=>r===e)}}function Bc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(s){return new bE(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,r,o=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=r,this.d_=o,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),o=Math.max(0,Date.now()-this.f_),l=Math.max(0,r-o);l>0&&te("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="PersistentStream";class M0{constructor(e,r,o,l,c,p,g,v){this.Mi=e,this.S_=o,this.b_=l,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new hg(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===G.RESOURCE_EXHAUSTED?(fr(r.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.D_===r&&this.G_(o,l)},o=>{e(()=>{const l=new ae(G.UNKNOWN,"Fetching auth token failed: "+o.message);return this.z_(l)})})}G_(e,r){const o=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo(()=>{o(()=>this.listener.Xo())}),this.stream.t_(()=>{o(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(l=>{o(()=>this.z_(l))}),this.stream.onMessage(l=>{o(()=>++this.F_==1?this.J_(l):this.onNext(l))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return te(Kp,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget(()=>this.D_===e?r():(te(Kp,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class F0 extends M0{constructor(e,r,o,l,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,l,p),this.serializer=c}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=KE(this.serializer,e),o=function(c){if(!("targetChange"in c))return de.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?de.min():p.readTime?ks(p.readTime):de.min()}(e);return this.listener.H_(r,o)}Y_(e){const r={};r.database=zp(this.serializer),r.addTarget=function(c,p){let g;const v=p.target;if(g=rh(v)?{documents:WE(c,v)}:{query:GE(c,v).ft},g.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){g.resumeToken=qE(c,p.resumeToken);const E=ah(c,p.expectedCount);E!==null&&(g.expectedCount=E)}else if(p.snapshotVersion.compareTo(de.min())>0){g.readTime=$E(c,p.snapshotVersion.toTimestamp());const E=ah(c,p.expectedCount);E!==null&&(g.expectedCount=E)}return g}(this.serializer,e);const o=YE(this.serializer,e);o&&(r.labels=o),this.q_(r)}Z_(e){const r={};r.database=zp(this.serializer),r.removeTarget=e,this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{}class z0 extends U0{constructor(e,r,o,l){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=o,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ae(G.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.Go(e,lh(r,o),l,c,p)).catch(c=>{throw c.name==="FirebaseError"?(c.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ae(G.UNKNOWN,c.toString())})}Ho(e,r,o,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,g])=>this.connection.Ho(e,lh(r,o),l,p,g,c)).catch(p=>{throw p.name==="FirebaseError"?(p.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new ae(G.UNKNOWN,p.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class j0{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fr(r),this.aa=!1):te("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="RemoteStore";class B0{constructor(e,r,o,l,c){this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo(p=>{o.enqueueAndForget(async()=>{sa(this)&&(te(zs,"Restarting streams for network reachability change."),await async function(v){const E=Pe(v);E.Ea.add(4),await ia(E),E.Ra.set("Unknown"),E.Ea.delete(4),await eu(E)}(this))})}),this.Ra=new j0(o,l)}}async function eu(s){if(sa(s))for(const e of s.da)await e(!0)}async function ia(s){for(const e of s.da)await e(!1)}function fg(s,e){const r=Pe(s);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),Dh(r)?xh(r):qs(r).O_()&&Nh(r,e))}function Vh(s,e){const r=Pe(s),o=qs(r);r.Ia.delete(e),o.O_()&&dg(r,e),r.Ia.size===0&&(o.O_()?o.L_():sa(r)&&r.Ra.set("Unknown"))}function Nh(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){const r=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}qs(s).Y_(e)}function dg(s,e){s.Va.Ue(e),qs(s).Z_(e)}function xh(s){s.Va=new UE({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),qs(s).start(),s.Ra.ua()}function Dh(s){return sa(s)&&!qs(s).x_()&&s.Ia.size>0}function sa(s){return Pe(s).Ea.size===0}function pg(s){s.Va=void 0}async function b0(s){s.Ra.set("Online")}async function $0(s){s.Ia.forEach((e,r)=>{Nh(s,e)})}async function q0(s,e){pg(s),Dh(s)?(s.Ra.ha(e),xh(s)):s.Ra.set("Unknown")}async function H0(s,e,r){if(s.Ra.set("Online"),e instanceof Zm&&e.state===2&&e.cause)try{await async function(l,c){const p=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,p),l.Ia.delete(g),l.Va.removeTarget(g))}(s,e)}catch(o){te(zs,"Failed to remove targets %s: %s ",e.targetIds.join(","),o),await Wp(s,o)}else if(e instanceof Nl?s.Va.Ze(e):e instanceof Jm?s.Va.st(e):s.Va.tt(e),!r.isEqual(de.min()))try{const o=await ug(s.localStore);r.compareTo(o)>=0&&await function(c,p){const g=c.Va.Tt(p);return g.targetChanges.forEach((v,E)=>{if(v.resumeToken.approximateByteSize()>0){const A=c.Ia.get(E);A&&c.Ia.set(E,A.withResumeToken(v.resumeToken,p))}}),g.targetMismatches.forEach((v,E)=>{const A=c.Ia.get(v);if(!A)return;c.Ia.set(v,A.withResumeToken(At.EMPTY_BYTE_STRING,A.snapshotVersion)),dg(c,v);const L=new zr(A.target,v,E,A.sequenceNumber);Nh(c,L)}),c.remoteSyncer.applyRemoteEvent(g)}(s,r)}catch(o){te(zs,"Failed to raise snapshot:",o),await Wp(s,o)}}async function Wp(s,e,r){if(!$s(e))throw e;s.Ea.add(1),await ia(s),s.Ra.set("Offline"),r||(r=()=>ug(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{te(zs,"Retrying IndexedDB access"),await r(),s.Ea.delete(1),await eu(s)})}async function Gp(s,e){const r=Pe(s);r.asyncQueue.verifyOperationInProgress(),te(zs,"RemoteStore received new credentials");const o=sa(r);r.Ea.add(3),await ia(r),o&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await eu(r)}async function Q0(s,e){const r=Pe(s);e?(r.Ea.delete(2),await eu(r)):e||(r.Ea.add(2),await ia(r),r.Ra.set("Unknown"))}function qs(s){return s.ma||(s.ma=function(r,o,l){const c=Pe(r);return c.sa(),new F0(o,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(s.datastore,s.asyncQueue,{Xo:b0.bind(null,s),t_:$0.bind(null,s),r_:q0.bind(null,s),H_:H0.bind(null,s)}),s.da.push(async e=>{e?(s.ma.B_(),Dh(s)?xh(s):s.Ra.set("Unknown")):(await s.ma.stop(),pg(s))})),s.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,r,o,l,c){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=l,this.removalCallback=c,this.deferred=new Pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,o,l,c){const p=Date.now()+o,g=new Oh(e,r,p,l,c);return g.start(o),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mg(s,e){if(fr("AsyncQueue",`${e}: ${s}`),$s(s))return new ae(G.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{static emptySet(e){return new Vs(e.comparator)}constructor(e){this.comparator=e?(r,o)=>e(r,o)||he.comparator(r.key,o.key):(r,o)=>he.comparator(r.key,o.key),this.keyedMap=bo(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Vs)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,c=o.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const o=new Vs;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(){this.ga=new nt(he.comparator)}track(e){const r=e.doc.key,o=this.ga.get(r);o?e.type!==0&&o.type===3?this.ga=this.ga.insert(r,e):e.type===3&&o.type!==1?this.ga=this.ga.insert(r,{type:o.type,doc:e.doc}):e.type===2&&o.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&o.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&o.type===0?this.ga=this.ga.remove(r):e.type===1&&o.type===2?this.ga=this.ga.insert(r,{type:1,doc:o.doc}):e.type===0&&o.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):pe(63341,{Rt:e,pa:o}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal((r,o)=>{e.push(o)}),e}}class js{constructor(e,r,o,l,c,p,g,v,E){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=E}static fromInitialDocuments(e,r,o,l,c){const p=[];return r.forEach(g=>{p.push({type:0,doc:g})}),new js(e,r,Vs.emptySet(r),p,o,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==o[l].type||!r[l].doc.isEqual(o[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class W0{constructor(){this.queries=Yp(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,o){const l=Pe(r),c=l.queries;l.queries=Yp(),c.forEach((p,g)=>{for(const v of g.Sa)v.onError(o)})})(this,new ae(G.ABORTED,"Firestore shutting down"))}}function Yp(){return new Ni(s=>bm(s),Gl)}async function G0(s,e){const r=Pe(s);let o=3;const l=e.query;let c=r.queries.get(l);c?!c.ba()&&e.Da()&&(o=2):(c=new K0,o=e.Da()?0:1);try{switch(o){case 0:c.wa=await r.onListen(l,!0);break;case 1:c.wa=await r.onListen(l,!1);break;case 2:await r.onFirstRemoteStoreListen(l)}}catch(p){const g=mg(p,`Initialization of query '${Cs(e.query)}' failed`);return void e.onError(g)}r.queries.set(l,c),c.Sa.push(e),e.va(r.onlineState),c.wa&&e.Fa(c.wa)&&Lh(r)}async function X0(s,e){const r=Pe(s),o=e.query;let l=3;const c=r.queries.get(o);if(c){const p=c.Sa.indexOf(e);p>=0&&(c.Sa.splice(p,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return r.queries.delete(o),r.onUnlisten(o,!0);case 1:return r.queries.delete(o),r.onUnlisten(o,!1);case 2:return r.onLastRemoteStoreUnlisten(o);default:return}}function Y0(s,e){const r=Pe(s);let o=!1;for(const l of e){const c=l.query,p=r.queries.get(c);if(p){for(const g of p.Sa)g.Fa(l)&&(o=!0);p.wa=l}}o&&Lh(r)}function J0(s,e,r){const o=Pe(s),l=o.queries.get(e);if(l)for(const c of l.Sa)c.onError(r);o.queries.delete(e)}function Lh(s){s.Ca.forEach(e=>{e.next()})}var hh,Jp;(Jp=hh||(hh={})).Ma="default",Jp.Cache="cache";class Z0{constructor(e,r,o){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=o||{}}Fa(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)l.type!==3&&o.push(l);e=new js(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const o=r!=="Offline";return(!this.options.qa||!o)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=js.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e){this.key=e}}class yg{constructor(e){this.key=e}}class ew{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=$m(e),this.tu=new Vs(this.eu)}get nu(){return this.Ya}ru(e,r){const o=r?r.iu:new Xp,l=r?r.tu:this.tu;let c=r?r.mutatedKeys:this.mutatedKeys,p=l,g=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,E=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((A,L)=>{const M=l.get(A),H=Xl(this.query,L)?L:null,Y=!!M&&this.mutatedKeys.has(M.key),Z=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let K=!1;M&&H?M.data.isEqual(H.data)?Y!==Z&&(o.track({type:3,doc:H}),K=!0):this.su(M,H)||(o.track({type:2,doc:H}),K=!0,(v&&this.eu(H,v)>0||E&&this.eu(H,E)<0)&&(g=!0)):!M&&H?(o.track({type:0,doc:H}),K=!0):M&&!H&&(o.track({type:1,doc:M}),K=!0,(v||E)&&(g=!0)),K&&(H?(p=p.add(H),c=Z?c.add(A):c.delete(A)):(p=p.delete(A),c=c.delete(A)))}),this.query.limit!==null)for(;p.size>this.query.limit;){const A=this.query.limitType==="F"?p.last():p.first();p=p.delete(A.key),c=c.delete(A.key),o.track({type:1,doc:A})}return{tu:p,iu:o,Cs:g,mutatedKeys:c}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const p=e.iu.ya();p.sort((A,L)=>function(H,Y){const Z=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe(20277,{Rt:K})}};return Z(H)-Z(Y)}(A.type,L.type)||this.eu(A.doc,L.doc)),this.ou(o),l=l??!1;const g=r&&!l?this._u():[],v=this.Xa.size===0&&this.current&&!l?1:0,E=v!==this.Za;return this.Za=v,p.length!==0||E?{snapshot:new js(this.query,e.tu,c,p,e.mutatedKeys,v===0,E,!1,!!o&&o.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Xp,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach(o=>{this.uu(o.key)&&(this.Xa=this.Xa.add(o.key))});const r=[];return e.forEach(o=>{this.Xa.has(o)||r.push(new yg(o))}),this.Xa.forEach(o=>{e.has(o)||r.push(new gg(o))}),r}cu(e){this.Ya=e.Qs,this.Xa=Ve();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return js.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Mh="SyncEngine";class tw{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class nw{constructor(e){this.key=e,this.hu=!1}}class rw{constructor(e,r,o,l,c,p){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.Pu={},this.Tu=new Ni(g=>bm(g),Gl),this.Iu=new Map,this.Eu=new Set,this.du=new nt(he.comparator),this.Au=new Map,this.Ru=new Ah,this.Vu={},this.mu=new Map,this.fu=Us.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function iw(s,e,r=!0){const o=Tg(s);let l;const c=o.Tu.get(e);return c?(o.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await vg(o,e,r,!0),l}async function sw(s,e){const r=Tg(s);await vg(r,e,!0,!1)}async function vg(s,e,r,o){const l=await P0(s.localStore,qn(e)),c=l.targetId,p=s.sharedClientState.addLocalQueryTarget(c,r);let g;return o&&(g=await ow(s,e,c,p==="current",l.resumeToken)),s.isPrimaryClient&&r&&fg(s.remoteStore,l),g}async function ow(s,e,r,o,l){s.pu=(L,M,H)=>async function(Z,K,Te,ge){let me=K.view.ru(Te);me.Cs&&(me=await $p(Z.localStore,K.query,!1).then(({documents:k})=>K.view.ru(k,me)));const Se=ge&&ge.targetChanges.get(K.targetId),Xe=ge&&ge.targetMismatches.get(K.targetId)!=null,Ne=K.view.applyChanges(me,Z.isPrimaryClient,Se,Xe);return em(Z,K.targetId,Ne.au),Ne.snapshot}(s,L,M,H);const c=await $p(s.localStore,e,!0),p=new ew(e,c.Qs),g=p.ru(c.documents),v=ra.createSynthesizedTargetChangeForCurrentChange(r,o&&s.onlineState!=="Offline",l),E=p.applyChanges(g,s.isPrimaryClient,v);em(s,r,E.au);const A=new tw(e,r,p);return s.Tu.set(e,A),s.Iu.has(r)?s.Iu.get(r).push(e):s.Iu.set(r,[e]),E.snapshot}async function aw(s,e,r){const o=Pe(s),l=o.Tu.get(e),c=o.Iu.get(l.targetId);if(c.length>1)return o.Iu.set(l.targetId,c.filter(p=>!Gl(p,e))),void o.Tu.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(l.targetId),o.sharedClientState.isActiveQueryTarget(l.targetId)||await uh(o.localStore,l.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(l.targetId),r&&Vh(o.remoteStore,l.targetId),fh(o,l.targetId)}).catch(ql)):(fh(o,l.targetId),await uh(o.localStore,l.targetId,!0))}async function lw(s,e){const r=Pe(s),o=r.Tu.get(e),l=r.Iu.get(o.targetId);r.isPrimaryClient&&l.length===1&&(r.sharedClientState.removeLocalQueryTarget(o.targetId),Vh(r.remoteStore,o.targetId))}async function _g(s,e){const r=Pe(s);try{const o=await A0(r.localStore,e);e.targetChanges.forEach((l,c)=>{const p=r.Au.get(c);p&&(Ge(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?p.hu=!0:l.modifiedDocuments.size>0?Ge(p.hu,14607):l.removedDocuments.size>0&&(Ge(p.hu,42227),p.hu=!1))}),await wg(r,o,e)}catch(o){await ql(o)}}function Zp(s,e,r){const o=Pe(s);if(o.isPrimaryClient&&r===0||!o.isPrimaryClient&&r===1){const l=[];o.Tu.forEach((c,p)=>{const g=p.view.va(e);g.snapshot&&l.push(g.snapshot)}),function(p,g){const v=Pe(p);v.onlineState=g;let E=!1;v.queries.forEach((A,L)=>{for(const M of L.Sa)M.va(g)&&(E=!0)}),E&&Lh(v)}(o.eventManager,e),l.length&&o.Pu.H_(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}async function uw(s,e,r){const o=Pe(s);o.sharedClientState.updateQueryState(e,"rejected",r);const l=o.Au.get(e),c=l&&l.key;if(c){let p=new nt(he.comparator);p=p.insert(c,Lt.newNoDocument(c,de.min()));const g=Ve().add(c),v=new Zl(de.min(),new Map,new nt(we),p,g);await _g(o,v),o.du=o.du.remove(c),o.Au.delete(e),Fh(o)}else await uh(o.localStore,e,!1).then(()=>fh(o,e,r)).catch(ql)}function fh(s,e,r=null){s.sharedClientState.removeLocalQueryTarget(e);for(const o of s.Iu.get(e))s.Tu.delete(o),r&&s.Pu.yu(o,r);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach(o=>{s.Ru.containsKey(o)||Eg(s,o)})}function Eg(s,e){s.Eu.delete(e.path.canonicalString());const r=s.du.get(e);r!==null&&(Vh(s.remoteStore,r),s.du=s.du.remove(e),s.Au.delete(r),Fh(s))}function em(s,e,r){for(const o of r)o instanceof gg?(s.Ru.addReference(o.key,e),cw(s,o)):o instanceof yg?(te(Mh,"Document no longer in limbo: "+o.key),s.Ru.removeReference(o.key,e),s.Ru.containsKey(o.key)||Eg(s,o.key)):pe(19791,{wu:o})}function cw(s,e){const r=e.key,o=r.path.canonicalString();s.du.get(r)||s.Eu.has(o)||(te(Mh,"New document in limbo: "+r),s.Eu.add(o),Fh(s))}function Fh(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const r=new he(We.fromString(e)),o=s.fu.next();s.Au.set(o,new nw(r)),s.du=s.du.insert(r,o),fg(s.remoteStore,new zr(qn(Bm(r.path)),o,"TargetPurposeLimboResolution",Hl.ce))}}async function wg(s,e,r){const o=Pe(s),l=[],c=[],p=[];o.Tu.isEmpty()||(o.Tu.forEach((g,v)=>{p.push(o.pu(v,e,r).then(E=>{if((E||r)&&o.isPrimaryClient){const A=E?!E.fromCache:r?.targetChanges.get(v.targetId)?.current;o.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(E){l.push(E);const A=Ph.As(v.targetId,E);c.push(A)}}))}),await Promise.all(p),o.Pu.H_(l),await async function(v,E){const A=Pe(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",L=>B.forEach(E,M=>B.forEach(M.Es,H=>A.persistence.referenceDelegate.addReference(L,M.targetId,H)).next(()=>B.forEach(M.ds,H=>A.persistence.referenceDelegate.removeReference(L,M.targetId,H)))))}catch(L){if(!$s(L))throw L;te(kh,"Failed to update sequence numbers: "+L)}for(const L of E){const M=L.targetId;if(!L.fromCache){const H=A.Ms.get(M),Y=H.snapshotVersion,Z=H.withLastLimboFreeSnapshotVersion(Y);A.Ms=A.Ms.insert(M,Z)}}}(o.localStore,c))}async function hw(s,e){const r=Pe(s);if(!r.currentUser.isEqual(e)){te(Mh,"User change. New user:",e.toKey());const o=await lg(r.localStore,e);r.currentUser=e,function(c,p){c.mu.forEach(g=>{g.forEach(v=>{v.reject(new ae(G.CANCELLED,p))})}),c.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),await wg(r,o.Ls)}}function fw(s,e){const r=Pe(s),o=r.Au.get(e);if(o&&o.hu)return Ve().add(o.key);{let l=Ve();const c=r.Iu.get(e);if(!c)return l;for(const p of c){const g=r.Tu.get(p);l=l.unionWith(g.view.nu)}return l}}function Tg(s){const e=Pe(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=_g.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uw.bind(null,e),e.Pu.H_=Y0.bind(null,e.eventManager),e.Pu.yu=J0.bind(null,e.eventManager),e}class $l{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return C0(this.persistence,new T0,e.initialUser,this.serializer)}Cu(e){return new ag(Rh.mi,this.serializer)}Du(e){return new V0}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$l.provider={build:()=>new $l};class dw extends $l{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){Ge(this.persistence.referenceDelegate instanceof bl,46915);const o=this.persistence.referenceDelegate.garbageCollector;return new a0(o,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?Gt.withCacheSize(this.cacheSizeBytes):Gt.DEFAULT;return new ag(o=>bl.mi(o,r),this.serializer)}}class dh{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>Zp(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=hw.bind(null,this.syncEngine),await Q0(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new W0}()}createDatastore(e){const r=cg(e.databaseInfo.databaseId),o=function(c){return new L0(c)}(e.databaseInfo);return function(c,p,g,v){return new z0(c,p,g,v)}(e.authCredentials,e.appCheckCredentials,o,r)}createRemoteStore(e){return function(o,l,c,p,g){return new B0(o,l,c,p,g)}(this.localStore,this.datastore,e.asyncQueue,r=>Zp(this.syncEngine,r,0),function(){return Qp.v()?new Qp:new N0}())}createSyncEngine(e,r){return function(l,c,p,g,v,E,A){const L=new rw(l,c,p,g,v,E);return A&&(L.gu=!0),L}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){await async function(r){const o=Pe(r);te(zs,"RemoteStore shutting down."),o.Ea.add(5),await ia(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dh.provider={build:()=>new dh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="FirestoreClient";class mw{constructor(e,r,o,l,c){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=l,this.user=Ot.UNAUTHENTICATED,this.clientId=Pm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(o,async p=>{te(Xr,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p}),this.appCheckCredentials.start(o,p=>(te(Xr,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const o=mg(r,"Failed to shutdown persistence");e.reject(o)}}),e.promise}}async function bc(s,e){s.asyncQueue.verifyOperationInProgress(),te(Xr,"Initializing OfflineComponentProvider");const r=s.configuration;await e.initialize(r);let o=r.initialUser;s.setCredentialChangeListener(async l=>{o.isEqual(l)||(await lg(e.localStore,l),o=l)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function tm(s,e){s.asyncQueue.verifyOperationInProgress();const r=await gw(s);te(Xr,"Initializing OnlineComponentProvider"),await e.initialize(r,s.configuration),s.setCredentialChangeListener(o=>Gp(e.remoteStore,o)),s.setAppCheckTokenChangeListener((o,l)=>Gp(e.remoteStore,l)),s._onlineComponents=e}async function gw(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){te(Xr,"Using user provided OfflineComponentProvider");try{await bc(s,s._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(l){return l.name==="FirebaseError"?l.code===G.FAILED_PRECONDITION||l.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(r))throw r;Os("Error using user provided cache. Falling back to memory cache: "+r),await bc(s,new $l)}}else te(Xr,"Using default OfflineComponentProvider"),await bc(s,new dw(void 0));return s._offlineComponents}async function yw(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(te(Xr,"Using user provided OnlineComponentProvider"),await tm(s,s._uninitializedComponentsProvider._online)):(te(Xr,"Using default OnlineComponentProvider"),await tm(s,new dh))),s._onlineComponents}async function vw(s){const e=await yw(s),r=e.eventManager;return r.onListen=iw.bind(null,e.syncEngine),r.onUnlisten=aw.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=sw.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=lw.bind(null,e.syncEngine),r}function _w(s,e,r={}){const o=new Pi;return s.asyncQueue.enqueueAndForget(async()=>function(c,p,g,v,E){const A=new pw({next:M=>{A.Nu(),p.enqueueAndForget(()=>X0(c,L)),M.fromCache&&v.source==="server"?E.reject(new ae(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(M)},error:M=>E.reject(M)}),L=new Z0(g,A,{includeMetadataChanges:!0,qa:!0});return G0(c,L)}(await vw(s),s.asyncQueue,e,r,o)),o.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="firestore.googleapis.com",rm=!0;class im{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ig,this.ssl=rm}else this.host=e.host,this.ssl=e.ssl??rm;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=og;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<s0)throw new ae(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}z_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Sg(e.experimentalLongPollingOptions??{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ae(G.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ae(G.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ae(G.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(o,l){return o.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uh{constructor(e,r,o,l){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=o,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new im({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new im(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(o){if(!o)return new k_;switch(o.type){case"firstParty":return new D_(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new ae(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const o=nm.get(r);o&&(te("ComponentProvider","Removing Datastore"),nm.delete(r),o.terminate())}(this),Promise.resolve()}}function Ew(s,e,r,o={}){s=Yc(s,Uh);const l=gh(e),c=s._getSettings(),p={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${r}`;l&&(tv(`https://${g}`),sv("Firestore",!0)),c.host!==Ig&&c.host!==g&&Os("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:g,ssl:l,emulatorOptions:o};if(!Ol(v,p)&&(s._setSettings(v),o.mockUserToken)){let E,A;if(typeof o.mockUserToken=="string")E=o.mockUserToken,A=Ot.MOCK_USER;else{E=nv(o.mockUserToken,s._app?.options.projectId);const L=o.mockUserToken.sub||o.mockUserToken.user_id;if(!L)throw new ae(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ot(L)}s._authCredentials=new V_(new Rm(E,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new tu(this.firestore,e,this._query)}}class pn{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pn(this.firestore,e,this._key)}toJSON(){return{type:pn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,o){if(ta(r,pn._jsonSchema))return new pn(e,o||null,new he(We.fromString(r.referencePath)))}}pn._jsonSchemaVersion="firestore/documentReference/1.0",pn._jsonSchema={type:at("string",pn._jsonSchemaVersion),referencePath:at("string")};class Ns extends tu{constructor(e,r,o){super(e,r,Bm(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new he(e))}withConverter(e){return new Ns(this.firestore,e,this._path)}}function ww(s,e,...r){if(s=pv(s),s instanceof Uh){const o=We.fromString(e,...r);return yp(o),new Ns(s,null,o)}{if(!(s instanceof pn||s instanceof Ns))throw new ae(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child(We.fromString(e,...r));return yp(o),new Ns(s.firestore,null,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm="AsyncQueue";class om{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hg(this,"async_queue_retry"),this._c=()=>{const o=Bc();o&&te(sm,"Visibility state changed to "+o.visibilityState),this.M_.w_()},this.ac=e;const r=Bc();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=Bc();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const r=new Pi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!$s(e))throw e;te(sm,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const r=this.ac.then(()=>(this.rc=!0,e().catch(o=>{throw this.nc=o,this.rc=!1,fr("INTERNAL UNHANDLED ERROR: ",am(o)),o}).then(o=>(this.rc=!1,o))));return this.ac=r,r}enqueueAfterDelay(e,r,o){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const l=Oh.createAndSchedule(this,e,r,o,c=>this.hc(c));return this.tc.push(l),l}uc(){this.nc&&pe(47125,{Pc:am(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function am(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Cg extends Uh{constructor(e,r,o,l){super(e,r,o,l),this.type="firestore",this._queue=new om,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new om(e),this._firestoreClient=void 0,await e}}}function Tw(s,e){const r=typeof s=="object"?s:g_(),o=typeof s=="string"?s:Fl,l=h_(r,"firestore").getImmediate({identifier:o});if(!l._initialized){const c=Zy("firestore");c&&Ew(l,...c)}return l}function Sw(s){if(s._terminated)throw new ae(G.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Iw(s),s._firestoreClient}function Iw(s){const e=s._freezeSettings(),r=function(l,c,p,g){return new Z_(l,c,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,Sg(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new mw(s._authCredentials,s._appCheckCredentials,s._queue,r,s._componentsProvider&&function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $n(At.fromBase64String(e))}catch(r){throw new ae(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new $n(At.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ta(e,$n._jsonSchema))return $n.fromBase64String(e.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:at("string",$n._jsonSchemaVersion),bytes:at("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ae(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ae(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ae(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$r._jsonSchemaVersion}}static fromJSON(e){if(ta(e,$r._jsonSchema))return new $r(e.latitude,e.longitude)}}$r._jsonSchemaVersion="firestore/geoPoint/1.0",$r._jsonSchema={type:at("string",$r._jsonSchemaVersion),latitude:at("number"),longitude:at("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(o,l){if(o.length!==l.length)return!1;for(let c=0;c<o.length;++c)if(o[c]!==l[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:qr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ta(e,qr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>typeof r=="number"))return new qr(e.vectorValues);throw new ae(G.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qr._jsonSchemaVersion="firestore/vectorValue/1.0",qr._jsonSchema={type:at("string",qr._jsonSchemaVersion),vectorValues:at("object")};const Cw=new RegExp("[~\\*/\\[\\]]");function Aw(s,e,r){if(e.search(Cw)>=0)throw lm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s);try{return new Ag(...e.split("."))._internalPath}catch{throw lm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s)}}function lm(s,e,r,o,l){let c=`Function ${e}() called with invalid data`;c+=". ";let p="";return new ae(G.INVALID_ARGUMENT,c+s+p)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,r,o,l,c){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Rw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Pg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Rw extends Rg{data(){return super.data()}}function Pg(s,e){return typeof e=="string"?Aw(s,e):e instanceof Ag?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ae(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kw{convertValue(e,r="none"){switch(Wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw pe(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const o={};return na(e,(l,c)=>{o[l]=this.convertValue(c,r)}),o}convertVectorValue(e){const r=e.fields?.[Zc].arrayValue?.values?.map(o=>tt(o.doubleValue));return new qr(r)}convertGeoPoint(e){return new $r(tt(e.latitude),tt(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=Kl(e);return o==null?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(Jo(e));default:return null}}convertTimestamp(e){const r=Qr(e);return new ot(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=We.fromString(e);Ge(sg(o),9688,{name:e});const l=new Zo(o.get(1),o.get(3)),c=new he(o.popFirst(5));return l.isEqual(r)||fr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),c}}class Rl{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xs extends Rg{constructor(e,r,o,l,c,p){super(e,r,o,l,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new xl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(Pg("DocumentSnapshot.get",e));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(G.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=xs._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}xs._jsonSchemaVersion="firestore/documentSnapshot/1.0",xs._jsonSchema={type:at("string",xs._jsonSchemaVersion),bundleSource:at("string","DocumentSnapshot"),bundleName:at("string"),bundle:at("string")};class xl extends xs{data(e={}){return super.data(e)}}class Ds{constructor(e,r,o,l){this._firestore=e,this._userDataWriter=r,this._snapshot=l,this.metadata=new Rl(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new xl(this._firestore,this._userDataWriter,o.key,o,new Rl(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ae(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map(g=>{const v=new xl(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Rl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:p++}})}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const v=new xl(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Rl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let E=-1,A=-1;return g.type!==0&&(E=p.indexOf(g.doc.key),p=p.delete(g.doc.key)),g.type!==1&&(p=p.add(g.doc),A=p.indexOf(g.doc.key)),{type:Vw(g.type),doc:v,oldIndex:E,newIndex:A}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(G.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ds._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Pm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],o=[],l=[];return this.docs.forEach(c=>{c._document!==null&&(r.push(c._document),o.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Vw(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe(61501,{type:s})}}Ds._jsonSchemaVersion="firestore/querySnapshot/1.0",Ds._jsonSchema={type:at("string",Ds._jsonSchemaVersion),bundleSource:at("string","QuerySnapshot"),bundleName:at("string"),bundle:at("string")};class Nw extends kw{constructor(e){super(),this.firestore=e}convertBytes(e){return new $n(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,r)}}function xw(s){s=Yc(s,tu);const e=Yc(s.firestore,Cg),r=Sw(e),o=new Nw(e);return Pw(s._query),_w(r,s._query).then(l=>new Ds(e,o,s,l))}(function(e,r=!0){(function(l){bs=l})(m_),Ml(new Go("firestore",(o,{instanceIdentifier:l,options:c})=>{const p=o.getProvider("app").getImmediate(),g=new Cg(new N_(o.getProvider("auth-internal")),new O_(p,o.getProvider("app-check-internal")),function(E,A){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new ae(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zo(E.options.projectId,A)}(p,l),p);return c={useFetchStreams:r,...c},g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Ps(dp,pp,e),Ps(dp,pp,"esm2020")})();const Dw={main:{apiKey:"AIzaSyAxns05_hEcEIoh-qmjO1ksVJjdvRDP7n0",authDomain:"ibcasestudies-1784e.firebaseapp.com",projectId:"ibcasestudies-1784e",storageBucket:"ibcasestudies-1784e.appspot.com",messagingSenderId:"547857666534",appId:"1:547857666534:web:0970ef90482e387b3bc627",measurementId:"G-8V4WGJD9HT"}},Ow=Dw.main,Lw=ym(Ow),Mw=Tw(Lw);async function Fw(){try{const s=await xw(ww(Mw,"caseStudies")),e=[];return s.forEach(r=>{e.push({id:r.id,...r.data()})}),e}catch(s){return console.error("Error fetching case studies:",s),[]}}const Uw=()=>{const[s,e]=Ri.useState([]),[r,o]=Ri.useState(!0);return Ri.useEffect(()=>{(async()=>{const c=await Fw();e(c),o(!1)})()},[]),{caseStudies:s,loading:r}},zw=({caseStudies:s,onSelect:e})=>Be.jsxs("div",{children:[Be.jsx("h3",{children:"Available Case Studies"}),Be.jsx("ul",{children:s.map(r=>Be.jsxs("li",{style:{cursor:"pointer",margin:"10px 0",borderBottom:"1px solid #ccc",paddingBottom:"5px"},onClick:()=>e(r),children:[Be.jsx("strong",{children:r.title})," — ",r.topic," (",r.level,")"]},r.id))})]}),$c={primary:"text-blue-600",buttonBg:"bg-blue-600",buttonHover:"hover:bg-blue-700"},jw=({selectedCase:s,refresh:e})=>{const[r,o]=Ri.useState({title:"",level:"SL",topic:"",module:"",toolkit:"",caseText:"",dataTable:"",questions:""});Ri.useEffect(()=>{o(s?{title:s.title||"",level:s.level||"SL",topic:s.topic||"",module:s.module||"",toolkit:(s.toolkit||[]).join(", "),caseText:s.caseText||"",dataTable:s.dataTable?JSON.stringify(s.dataTable,null,2):"",questions:s.questions?JSON.stringify(s.questions,null,2):""}:{title:"",level:"SL",topic:"",module:"",toolkit:"",caseText:"",dataTable:"",questions:""})},[s]);const l=p=>{const{name:g,value:v}=p.target;o(E=>({...E,[g]:v}))},c=p=>{p.preventDefault();try{const g={...r,toolkit:r.toolkit.split(",").map(v=>v.trim()),dataTable:JSON.parse(r.dataTable),questions:JSON.parse(r.questions)};alert("Case study saved! (Simulated)"),e()}catch{alert("Invalid JSON in data table or questions. Please fix.")}};return Be.jsxs("form",{onSubmit:c,className:"space-y-4 bg-white p-6 rounded shadow-lg max-w-4xl mx-auto",children:[Be.jsx("h2",{className:`text-xl font-bold mb-4 ${$c.primary}`,children:"Add / Edit Case Study"}),Be.jsx("input",{name:"title",value:r.title,onChange:l,placeholder:"Title",className:"w-full border rounded px-3 py-2",required:!0}),Be.jsxs("select",{name:"level",value:r.level,onChange:l,className:"w-full border rounded px-3 py-2",children:[Be.jsx("option",{value:"SL",children:"SL"}),Be.jsx("option",{value:"HL",children:"HL"}),Be.jsx("option",{value:"SL/HL",children:"SL/HL"})]}),Be.jsx("input",{name:"topic",value:r.topic,onChange:l,placeholder:"Topic",className:"w-full border rounded px-3 py-2",required:!0}),Be.jsx("input",{name:"module",value:r.module,onChange:l,placeholder:"Module",className:"w-full border rounded px-3 py-2"}),Be.jsx("input",{name:"toolkit",value:r.toolkit,onChange:l,placeholder:"Toolkit (comma-separated)",className:"w-full border rounded px-3 py-2"}),Be.jsx("textarea",{name:"caseText",value:r.caseText,onChange:l,placeholder:"Case Text",rows:6,className:"w-full border rounded px-3 py-2",required:!0}),Be.jsx("textarea",{name:"dataTable",value:r.dataTable,onChange:l,placeholder:"Data Table (JSON format)",rows:6,className:"w-full border rounded px-3 py-2 font-mono text-sm",required:!0}),Be.jsx("textarea",{name:"questions",value:r.questions,onChange:l,placeholder:"Questions (JSON format with id, text, marks, banding, sampleAnswer)",rows:8,className:"w-full border rounded px-3 py-2 font-mono text-sm",required:!0}),Be.jsx("button",{type:"submit",className:`${$c.buttonBg} ${$c.buttonHover} text-white font-semibold px-6 py-2 rounded transition`,children:"Save Case Study"})]})},Bw=()=>{const{caseStudies:s,loading:e}=Uw(),[r,o]=Ri.useState(null),l=()=>window.location.reload();return e?Be.jsx("p",{children:"Loading case studies..."}):Be.jsxs("div",{style:{padding:"2rem"},children:[Be.jsx("h2",{children:"IB Business Case Study Admin Panel"}),Be.jsx(jw,{selectedCase:r,refresh:l}),Be.jsx(zw,{caseStudies:s,onSelect:o})]})};by.createRoot(document.getElementById("root")).render(Be.jsx(Ly.StrictMode,{children:Be.jsx(Bw,{})}));
